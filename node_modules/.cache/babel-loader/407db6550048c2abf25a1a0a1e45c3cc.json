{"ast":null,"code":"var _jsxFileName = \"/home/harish/windo/phoenix/src/components/orders/v2/Item.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDesktop, useShop } from \"../../../contexts\";\nimport _ from 'lodash';\nimport infoIcon from \"../../../assets/v2/orders/info.svg\";\nimport { Clickable } from 'phoenix-components';\nimport { Grid, Popover } from '@material-ui/core';\nimport { useOrder, useRefresh } from \"../../../contexts/orderContext\";\nimport { getOrderStatusLabel, getPaymentStatusLabel, getShippingStatusLabel } from \"./statusUtils\";\nimport thIcon from \"../../../assets/images/orders/list/payment.svg\";\nimport tIcon from \"../../../assets/images/orders/list/rocket.svg\";\nimport { RatingsShare } from \"../../reviewProduct/RatingsShare\";\nimport DigitalShippingCard from \"./DigitalShippingCard\";\nimport fIcon from \"../../../assets/images/orders/list/bag.svg\";\nimport { StatusHistory } from \"./StatusHistory\";\nimport Loader from \"../../../services/loader\";\nimport Snackbar from \"../../../services/snackbar\";\nimport { Factory } from \"../../../api\";\nimport styles from \"./Item.module.css\";\nexport function Item({\n  item\n}) {\n  _s();\n\n  var _item$content, _item$content$images$, _item$content2, _item$content3, _item$statuses5, _item$statuses6, _order$statuses3;\n\n  const shop = useShop();\n  const order = useOrder();\n  const refreshOrder = useRefresh();\n  const {\n    currency\n  } = shop;\n  const image = item === null || item === void 0 ? void 0 : (_item$content = item.content) === null || _item$content === void 0 ? void 0 : (_item$content$images$ = _item$content.images[0]) === null || _item$content$images$ === void 0 ? void 0 : _item$content$images$.url;\n  const variant = item === null || item === void 0 ? void 0 : (_item$content2 = item.content) === null || _item$content2 === void 0 ? void 0 : _item$content2.details;\n  const color = item === null || item === void 0 ? void 0 : (_item$content3 = item.content) === null || _item$content3 === void 0 ? void 0 : _item$content3.color;\n  const [anchorEl, setAnchorEl] = useState(null);\n  const isDesktop = useDesktop();\n  const [type, setType] = useState('');\n  const [history, setHistory] = useState(null);\n  const links = item === null || item === void 0 ? void 0 : item.links;\n  const {\n    productType\n  } = item;\n\n  const openOrderHistory = () => {\n    var _item$statuses;\n\n    const his = (item === null || item === void 0 ? void 0 : (_item$statuses = item.statuses) === null || _item$statuses === void 0 ? void 0 : _item$statuses.orderHistory) || [];\n\n    if (his.length === 0) {\n      return;\n    }\n\n    setHistory(his.map(x => ({ ...x,\n      status: getOrderStatusLabel(x.status)\n    })).reverse());\n    setType('Order');\n  };\n\n  const openPaymentHistory = () => {\n    var _order$statuses;\n\n    const his = (order === null || order === void 0 ? void 0 : (_order$statuses = order.statuses) === null || _order$statuses === void 0 ? void 0 : _order$statuses.paymentHistory) || [];\n\n    if (his.length === 0) {\n      return;\n    }\n\n    setHistory(his.map(x => ({ ...x,\n      status: getPaymentStatusLabel(x.status)\n    })).reverse());\n    setType('Payment');\n  };\n\n  const openShippingHistory = () => {\n    var _item$statuses2;\n\n    const his = (item === null || item === void 0 ? void 0 : (_item$statuses2 = item.statuses) === null || _item$statuses2 === void 0 ? void 0 : _item$statuses2.shippingHistory) || [];\n\n    if (his.length === 0) {\n      return;\n    }\n\n    setHistory(his.map(x => ({ ...x,\n      status: getShippingStatusLabel(x.status)\n    })).reverse());\n    setType('Shipping');\n  };\n\n  const setLinks = async links => {\n    try {\n      Loader.show();\n      await Factory.updateStatus(order._id, 'shipping', 'delivered', [item._id], '', {}, links);\n      refreshOrder();\n    } catch (e) {\n      Snackbar.showError(e);\n    } finally {\n      Loader.hide();\n    }\n  };\n\n  const renderNotePopOver = () => {\n    if (!anchorEl) {\n      return null;\n    }\n\n    return /*#__PURE__*/React.createElement(Popover, {\n      open: !!anchorEl,\n      anchorEl: anchorEl,\n      onClose: () => setAnchorEl(null),\n      anchorOrigin: {\n        vertical: 'top',\n        horizontal: 'center'\n      },\n      transformOrigin: {\n        vertical: 'bottom',\n        horizontal: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.noteContainer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: infoIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.customerNote,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }\n    }, \"Customer Note\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 13\n      }\n    }, item === null || item === void 0 ? void 0 : item.note))));\n  };\n\n  if (isDesktop) {\n    var _item$statuses3, _item$statuses4, _order$statuses2;\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.container,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }\n    }, history && /*#__PURE__*/React.createElement(StatusHistory, {\n      type: type,\n      onClose: () => setHistory(null),\n      history: history,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 13\n      }\n    }), renderNotePopOver(), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.imageContainer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: image,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.firstRow,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      spacing: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      md: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }\n    }, item.content.title)), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      md: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.qty,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }\n    }, \"Qty\")), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      md: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 15\n      }\n    }, color && color !== null && color !== void 0 && color.hex ? /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.colorName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 19\n      }\n    }, \"Colors\") : /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.colorName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 19\n      }\n    }, \"\\xA0\")), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      md: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 15\n      }\n    }, !_.isEmpty(item.note) && /*#__PURE__*/React.createElement(Clickable, {\n      className: styles.note,\n      onClick: e => setAnchorEl(e.currentTarget),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: infoIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 21\n      }\n    }, \"View Note\")), _.isEmpty(item.note) && /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.emptyNote,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 19\n      }\n    }, \"\\xA0\"))), /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      spacing: 2,\n      alignItems: \"flex-end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      md: 6,\n      className: styles.variantRow,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.price,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 17\n      }\n    }, currency, ' ', item.discountedAmount), (variant === null || variant === void 0 ? void 0 : variant.name) && (variant === null || variant === void 0 ? void 0 : variant.value) && /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.variant,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 19\n      }\n    }, variant.value, ' ', variant.name)), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      md: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.qty,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 17\n      }\n    }, item.quantity)), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      md: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 15\n      }\n    }, color && (color === null || color === void 0 ? void 0 : color.hex) && /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.color,\n      style: {\n        background: color === null || color === void 0 ? void 0 : color.hex\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 19\n      }\n    }))), /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      spacing: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      md: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Clickable, {\n      className: styles.orderStatus,\n      onClick: openOrderHistory,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.thIcon,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: thIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 19\n      }\n    }, getOrderStatusLabel(item === null || item === void 0 ? void 0 : (_item$statuses3 = item.statuses) === null || _item$statuses3 === void 0 ? void 0 : _item$statuses3.order)))), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      md: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Clickable, {\n      className: styles.shippingStatus,\n      onClick: openShippingHistory,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.tIcon,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: tIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 19\n      }\n    }, getShippingStatusLabel(item === null || item === void 0 ? void 0 : (_item$statuses4 = item.statuses) === null || _item$statuses4 === void 0 ? void 0 : _item$statuses4.shipping)))), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      md: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Clickable, {\n      className: styles.paymentStatus,\n      onClick: openPaymentHistory,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.fIcon,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: fIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 19\n      }\n    }, getPaymentStatusLabel(order === null || order === void 0 ? void 0 : (_order$statuses2 = order.statuses) === null || _order$statuses2 === void 0 ? void 0 : _order$statuses2.payment))))))), productType === 'digital' && /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.digitalShippingSection,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(DigitalShippingCard, {\n      digitalProducts: links,\n      onUpload: setLinks,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.shareSection,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(RatingsShare, {\n      shop: shop,\n      product: item,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 11\n      }\n    })));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 5\n    }\n  }, history && /*#__PURE__*/React.createElement(StatusHistory, {\n    type: type,\n    onClose: () => setHistory(null),\n    history: history,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 9\n    }\n  }), renderNotePopOver(), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.firstRow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.imageContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: image,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.right,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 11\n    }\n  }, item.content.title), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.priceRow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.price,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 13\n    }\n  }, currency, ' ', item.discountedAmount), !_.isEmpty(item.note) && /*#__PURE__*/React.createElement(Clickable, {\n    className: styles.note,\n    onClick: e => setAnchorEl(e.currentTarget),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: infoIcon,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 17\n    }\n  }, \"View Note\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.variantRow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 11\n    }\n  }, (variant === null || variant === void 0 ? void 0 : variant.name) && (variant === null || variant === void 0 ? void 0 : variant.value) && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.variant,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 15\n    }\n  }, variant.name, ' ', \":\", ' ', variant.value), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 13\n    }\n  }, item.quantity, ' ', \"Qty\"), color && (color === null || color === void 0 ? void 0 : color.hex) && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.color,\n    style: {\n      background: color === null || color === void 0 ? void 0 : color.hex\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 15\n    }\n  })))), productType === 'digital' && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.digitalShippingSection,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(DigitalShippingCard, {\n    digitalProducts: links,\n    onUpload: setLinks,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.shareSection,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(RatingsShare, {\n    shop: shop,\n    product: item,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.statusContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Clickable, {\n    className: styles.orderStatus,\n    onClick: openOrderHistory,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.thIcon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: thIcon,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 11\n    }\n  }, getOrderStatusLabel(item === null || item === void 0 ? void 0 : (_item$statuses5 = item.statuses) === null || _item$statuses5 === void 0 ? void 0 : _item$statuses5.order))), /*#__PURE__*/React.createElement(Clickable, {\n    className: styles.shippingStatus,\n    onClick: openShippingHistory,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.tIcon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: tIcon,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 11\n    }\n  }, getShippingStatusLabel(item === null || item === void 0 ? void 0 : (_item$statuses6 = item.statuses) === null || _item$statuses6 === void 0 ? void 0 : _item$statuses6.shipping))), /*#__PURE__*/React.createElement(Clickable, {\n    className: styles.paymentStatus,\n    onClick: openPaymentHistory,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.fIcon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: fIcon,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 11\n    }\n  }, getPaymentStatusLabel(order === null || order === void 0 ? void 0 : (_order$statuses3 = order.statuses) === null || _order$statuses3 === void 0 ? void 0 : _order$statuses3.payment)))));\n}\n\n_s(Item, \"PtzDMXjOiGYCYGGku32bE7L6fAI=\", false, function () {\n  return [useShop, useOrder, useRefresh, useDesktop];\n});\n\n_c = Item;\nItem.propTypes = {\n  item: PropTypes.object.isRequired\n};\nItem.defaultProps = {};\n\nvar _c;\n\n$RefreshReg$(_c, \"Item\");","map":{"version":3,"sources":["/home/harish/windo/phoenix/src/components/orders/v2/Item.jsx"],"names":["React","useState","PropTypes","useDesktop","useShop","_","Clickable","Grid","Popover","useOrder","useRefresh","getOrderStatusLabel","getPaymentStatusLabel","getShippingStatusLabel","RatingsShare","DigitalShippingCard","StatusHistory","Loader","Snackbar","Factory","styles","Item","item","shop","order","refreshOrder","currency","image","content","images","url","variant","details","color","anchorEl","setAnchorEl","isDesktop","type","setType","history","setHistory","links","productType","openOrderHistory","his","statuses","orderHistory","length","map","x","status","reverse","openPaymentHistory","paymentHistory","openShippingHistory","shippingHistory","setLinks","show","updateStatus","_id","e","showError","hide","renderNotePopOver","vertical","horizontal","noteContainer","infoIcon","customerNote","note","container","imageContainer","firstRow","title","qty","hex","colorName","isEmpty","currentTarget","emptyNote","variantRow","price","discountedAmount","name","value","quantity","background","orderStatus","thIcon","shippingStatus","tIcon","shipping","paymentStatus","fIcon","payment","digitalShippingSection","shareSection","right","priceRow","statusContainer","propTypes","object","isRequired","defaultProps"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,UAAT,EAAqBC,OAArB;AACA,OAAOC,CAAP,MAAc,QAAd;;AAEA,SAASC,SAAT,QAA0B,oBAA1B;AACA,SAASC,IAAT,EAAeC,OAAf,QAA8B,mBAA9B;AACA,SAASC,QAAT,EAAmBC,UAAnB;AACA,SAASC,mBAAT,EAA8BC,qBAA9B,EAAqDC,sBAArD;;;AAGA,SAASC,YAAT;AACA,OAAOC,mBAAP;;AAEA,SAASC,aAAT;AACA,OAAOC,MAAP;AACA,OAAOC,QAAP;AACA,SAASC,OAAT;AACA,OAAOC,MAAP;AAEA,OAAO,SAASC,IAAT,CAAc;AAAEC,EAAAA;AAAF,CAAd,EAAwB;AAAA;;AAAA;;AAC7B,QAAMC,IAAI,GAAGnB,OAAO,EAApB;AACA,QAAMoB,KAAK,GAAGf,QAAQ,EAAtB;AACA,QAAMgB,YAAY,GAAGf,UAAU,EAA/B;AACA,QAAM;AAAEgB,IAAAA;AAAF,MAAeH,IAArB;AACA,QAAMI,KAAK,GAAGL,IAAH,aAAGA,IAAH,wCAAGA,IAAI,CAAEM,OAAT,2EAAG,cAAeC,MAAf,CAAsB,CAAtB,CAAH,0DAAG,sBAA0BC,GAAxC;AACA,QAAMC,OAAO,GAAGT,IAAH,aAAGA,IAAH,yCAAGA,IAAI,CAAEM,OAAT,mDAAG,eAAeI,OAA/B;AACA,QAAMC,KAAK,GAAGX,IAAH,aAAGA,IAAH,yCAAGA,IAAI,CAAEM,OAAT,mDAAG,eAAeK,KAA7B;AACA,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BlC,QAAQ,CAAC,IAAD,CAAxC;AACA,QAAMmC,SAAS,GAAGjC,UAAU,EAA5B;AACA,QAAM,CAACkC,IAAD,EAAOC,OAAP,IAAkBrC,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACsC,OAAD,EAAUC,UAAV,IAAwBvC,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAMwC,KAAK,GAAGnB,IAAH,aAAGA,IAAH,uBAAGA,IAAI,CAAEmB,KAApB;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAkBpB,IAAxB;;AAEA,QAAMqB,gBAAgB,GAAG,MAAM;AAAA;;AAC7B,UAAMC,GAAG,GAAG,CAAAtB,IAAI,SAAJ,IAAAA,IAAI,WAAJ,8BAAAA,IAAI,CAAEuB,QAAN,kEAAgBC,YAAhB,KAAgC,EAA5C;;AACA,QAAIF,GAAG,CAACG,MAAJ,KAAe,CAAnB,EAAsB;AACpB;AACD;;AACDP,IAAAA,UAAU,CAACI,GAAG,CAACI,GAAJ,CAAQC,CAAC,KAAK,EACvB,GAAGA,CADoB;AAEvBC,MAAAA,MAAM,EAAEvC,mBAAmB,CAACsC,CAAC,CAACC,MAAH;AAFJ,KAAL,CAAT,EAGPC,OAHO,EAAD,CAAV;AAIAb,IAAAA,OAAO,CAAC,OAAD,CAAP;AACD,GAVD;;AAYA,QAAMc,kBAAkB,GAAG,MAAM;AAAA;;AAC/B,UAAMR,GAAG,GAAG,CAAApB,KAAK,SAAL,IAAAA,KAAK,WAAL,+BAAAA,KAAK,CAAEqB,QAAP,oEAAiBQ,cAAjB,KAAmC,EAA/C;;AACA,QAAIT,GAAG,CAACG,MAAJ,KAAe,CAAnB,EAAsB;AACpB;AACD;;AACDP,IAAAA,UAAU,CAACI,GAAG,CAACI,GAAJ,CAAQC,CAAC,KAAK,EACvB,GAAGA,CADoB;AAEvBC,MAAAA,MAAM,EAAEtC,qBAAqB,CAACqC,CAAC,CAACC,MAAH;AAFN,KAAL,CAAT,EAGPC,OAHO,EAAD,CAAV;AAIAb,IAAAA,OAAO,CAAC,SAAD,CAAP;AACD,GAVD;;AAYA,QAAMgB,mBAAmB,GAAG,MAAM;AAAA;;AAChC,UAAMV,GAAG,GAAG,CAAAtB,IAAI,SAAJ,IAAAA,IAAI,WAAJ,+BAAAA,IAAI,CAAEuB,QAAN,oEAAgBU,eAAhB,KAAmC,EAA/C;;AACA,QAAIX,GAAG,CAACG,MAAJ,KAAe,CAAnB,EAAsB;AACpB;AACD;;AACDP,IAAAA,UAAU,CAACI,GAAG,CAACI,GAAJ,CAAQC,CAAC,KAAK,EACvB,GAAGA,CADoB;AAEvBC,MAAAA,MAAM,EAAErC,sBAAsB,CAACoC,CAAC,CAACC,MAAH;AAFP,KAAL,CAAT,EAGPC,OAHO,EAAD,CAAV;AAIAb,IAAAA,OAAO,CAAC,UAAD,CAAP;AACD,GAVD;;AAYA,QAAMkB,QAAQ,GAAG,MAAOf,KAAP,IAAiB;AAChC,QAAI;AACFxB,MAAAA,MAAM,CAACwC,IAAP;AACA,YAAMtC,OAAO,CAACuC,YAAR,CAAqBlC,KAAK,CAACmC,GAA3B,EAAgC,UAAhC,EAA4C,WAA5C,EAAyD,CAACrC,IAAI,CAACqC,GAAN,CAAzD,EAAqE,EAArE,EAAyE,EAAzE,EAA6ElB,KAA7E,CAAN;AACAhB,MAAAA,YAAY;AACb,KAJD,CAIE,OAAOmC,CAAP,EAAU;AACV1C,MAAAA,QAAQ,CAAC2C,SAAT,CAAmBD,CAAnB;AACD,KAND,SAMU;AACR3C,MAAAA,MAAM,CAAC6C,IAAP;AACD;AACF,GAVD;;AAYA,QAAMC,iBAAiB,GAAG,MAAM;AAC9B,QAAI,CAAC7B,QAAL,EAAe;AACb,aAAO,IAAP;AACD;;AACD,wBACE,oBAAC,OAAD;AACE,MAAA,IAAI,EAAE,CAAC,CAACA,QADV;AAEE,MAAA,QAAQ,EAAEA,QAFZ;AAGE,MAAA,OAAO,EAAE,MAAMC,WAAW,CAAC,IAAD,CAH5B;AAIE,MAAA,YAAY,EAAE;AACZ6B,QAAAA,QAAQ,EAAE,KADE;AAEZC,QAAAA,UAAU,EAAE;AAFA,OAJhB;AAQE,MAAA,eAAe,EAAE;AACfD,QAAAA,QAAQ,EAAE,QADK;AAEfC,QAAAA,UAAU,EAAE;AAFG,OARnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAaE;AAAK,MAAA,SAAS,EAAE7C,MAAM,CAAC8C,aAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,GAAG,EAAEC,QAAV;AAAoB,MAAA,GAAG,EAAC,EAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAE/C,MAAM,CAACgD,YAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG9C,IADH,aACGA,IADH,uBACGA,IAAI,CAAE+C,IADT,CAFF,CAFF,CAbF,CADF;AAyBD,GA7BD;;AA+BA,MAAIjC,SAAJ,EAAe;AAAA;;AACb,wBACE,uDACE;AAAK,MAAA,SAAS,EAAEhB,MAAM,CAACkD,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG/B,OAAO,iBACN,oBAAC,aAAD;AAAe,MAAA,IAAI,EAAEF,IAArB;AAA2B,MAAA,OAAO,EAAE,MAAMG,UAAU,CAAC,IAAD,CAApD;AAA4D,MAAA,OAAO,EAAED,OAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,EAIGwB,iBAAiB,EAJpB,eAKE;AAAK,MAAA,SAAS,EAAE3C,MAAM,CAACmD,cAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,GAAG,EAAE5C,KAAV;AAAiB,MAAA,GAAG,EAAC,EAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CALF,eAQE;AAAK,MAAA,SAAS,EAAEP,MAAM,CAACoD,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AAAM,MAAA,SAAS,MAAf;AAAgB,MAAA,OAAO,EAAE,CAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AAAM,MAAA,IAAI,MAAV;AAAW,MAAA,EAAE,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAEpD,MAAM,CAACqD,KAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGnD,IAAI,CAACM,OAAL,CAAa6C,KADhB,CADF,CADF,eAME,oBAAC,IAAD;AAAM,MAAA,IAAI,MAAV;AAAW,MAAA,EAAE,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAErD,MAAM,CAACsD,GAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,CANF,eAWE,oBAAC,IAAD;AAAM,MAAA,IAAI,MAAV;AAAW,MAAA,EAAE,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGzC,KAAK,IAAIA,KAAJ,aAAIA,KAAJ,eAAIA,KAAK,CAAE0C,GAAhB,gBACC;AAAK,MAAA,SAAS,EAAEvD,MAAM,CAACwD,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADD,gBAKC;AAAK,MAAA,SAAS,EAAExD,MAAM,CAACwD,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cANJ,CAXF,eAsBE,oBAAC,IAAD;AAAM,MAAA,IAAI,MAAV;AAAW,MAAA,EAAE,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,CAACvE,CAAC,CAACwE,OAAF,CAAUvD,IAAI,CAAC+C,IAAf,CAAD,iBACC,oBAAC,SAAD;AAAW,MAAA,SAAS,EAAEjD,MAAM,CAACiD,IAA7B;AAAmC,MAAA,OAAO,EAAET,CAAC,IAAIzB,WAAW,CAACyB,CAAC,CAACkB,aAAH,CAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,GAAG,EAAEX,QAAV;AAAoB,MAAA,GAAG,EAAC,EAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAFF,CAFJ,EAOG9D,CAAC,CAACwE,OAAF,CAAUvD,IAAI,CAAC+C,IAAf,kBACC;AAAK,MAAA,SAAS,EAAEjD,MAAM,CAAC2D,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cARJ,CAtBF,CADF,eAqCE,oBAAC,IAAD;AAAM,MAAA,SAAS,MAAf;AAAgB,MAAA,OAAO,EAAE,CAAzB;AAA4B,MAAA,UAAU,EAAC,UAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AAAM,MAAA,IAAI,MAAV;AAAW,MAAA,EAAE,EAAE,CAAf;AAAkB,MAAA,SAAS,EAAE3D,MAAM,CAAC4D,UAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAE5D,MAAM,CAAC6D,KAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGvD,QADH,EAEG,GAFH,EAGGJ,IAAI,CAAC4D,gBAHR,CADF,EAMG,CAAAnD,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEoD,IAAT,MAAiBpD,OAAjB,aAAiBA,OAAjB,uBAAiBA,OAAO,CAAEqD,KAA1B,kBACC;AAAK,MAAA,SAAS,EAAEhE,MAAM,CAACW,OAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGA,OAAO,CAACqD,KADX,EAEG,GAFH,EAGGrD,OAAO,CAACoD,IAHX,CAPJ,CADF,eAeE,oBAAC,IAAD;AAAM,MAAA,IAAI,MAAV;AAAW,MAAA,EAAE,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAE/D,MAAM,CAACsD,GAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGpD,IAAI,CAAC+D,QADR,CADF,CAfF,eAoBE,oBAAC,IAAD;AAAM,MAAA,IAAI,MAAV;AAAW,MAAA,EAAE,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGpD,KAAK,KAAIA,KAAJ,aAAIA,KAAJ,uBAAIA,KAAK,CAAE0C,GAAX,CAAL,iBACC;AAAK,MAAA,SAAS,EAAEvD,MAAM,CAACa,KAAvB;AAA8B,MAAA,KAAK,EAAE;AAAEqD,QAAAA,UAAU,EAAErD,KAAF,aAAEA,KAAF,uBAAEA,KAAK,CAAE0C;AAArB,OAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CApBF,CArCF,eAgEE,oBAAC,IAAD;AAAM,MAAA,SAAS,MAAf;AAAgB,MAAA,OAAO,EAAE,CAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AAAM,MAAA,IAAI,MAAV;AAAW,MAAA,EAAE,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,SAAD;AAAW,MAAA,SAAS,EAAEvD,MAAM,CAACmE,WAA7B;AAA0C,MAAA,OAAO,EAAE5C,gBAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAEvB,MAAM,CAACoE,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,GAAG,EAAEA,MAAV;AAAkB,MAAA,GAAG,EAAC,EAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG7E,mBAAmB,CAACW,IAAD,aAACA,IAAD,0CAACA,IAAI,CAAEuB,QAAP,oDAAC,gBAAgBrB,KAAjB,CADtB,CAJF,CADF,CADF,eAWE,oBAAC,IAAD;AAAM,MAAA,IAAI,MAAV;AAAW,MAAA,EAAE,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,SAAD;AAAW,MAAA,SAAS,EAAEJ,MAAM,CAACqE,cAA7B;AAA6C,MAAA,OAAO,EAAEnC,mBAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAElC,MAAM,CAACsE,KAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,GAAG,EAAEA,KAAV;AAAiB,MAAA,GAAG,EAAC,EAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG7E,sBAAsB,CAACS,IAAD,aAACA,IAAD,0CAACA,IAAI,CAAEuB,QAAP,oDAAC,gBAAgB8C,QAAjB,CADzB,CAJF,CADF,CAXF,eAqBE,oBAAC,IAAD;AAAM,MAAA,IAAI,MAAV;AAAW,MAAA,EAAE,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,SAAD;AAAW,MAAA,SAAS,EAAEvE,MAAM,CAACwE,aAA7B;AAA4C,MAAA,OAAO,EAAExC,kBAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAEhC,MAAM,CAACyE,KAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,GAAG,EAAEA,KAAV;AAAiB,MAAA,GAAG,EAAC,EAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGjF,qBAAqB,CAACY,KAAD,aAACA,KAAD,2CAACA,KAAK,CAAEqB,QAAR,qDAAC,iBAAiBiD,OAAlB,CADxB,CAJF,CADF,CArBF,CAhEF,CARF,CADF,EA2GGpD,WAAW,KAAK,SAAhB,iBACC;AAAK,MAAA,SAAS,EAAEtB,MAAM,CAAC2E,sBAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,mBAAD;AAAqB,MAAA,eAAe,EAAEtD,KAAtC;AAA6C,MAAA,QAAQ,EAAEe,QAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CA5GJ,eAgHE;AAAK,MAAA,SAAS,EAAEpC,MAAM,CAAC4E,YAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,YAAD;AAAc,MAAA,IAAI,EAAEzE,IAApB;AAA0B,MAAA,OAAO,EAAED,IAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAhHF,CADF;AAsHD;;AAED,sBACE;AAAK,IAAA,SAAS,EAAEF,MAAM,CAACkD,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG/B,OAAO,iBACN,oBAAC,aAAD;AAAe,IAAA,IAAI,EAAEF,IAArB;AAA2B,IAAA,OAAO,EAAE,MAAMG,UAAU,CAAC,IAAD,CAApD;AAA4D,IAAA,OAAO,EAAED,OAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAIGwB,iBAAiB,EAJpB,eAKE;AAAK,IAAA,SAAS,EAAE3C,MAAM,CAACoD,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAEpD,MAAM,CAACmD,cAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,GAAG,EAAE5C,KAAV;AAAiB,IAAA,GAAG,EAAC,EAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eAIE;AAAK,IAAA,SAAS,EAAEP,MAAM,CAAC6E,KAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAE7E,MAAM,CAACqD,KAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGnD,IAAI,CAACM,OAAL,CAAa6C,KADhB,CADF,eAIE;AAAK,IAAA,SAAS,EAAErD,MAAM,CAAC8E,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAE9E,MAAM,CAAC6D,KAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGvD,QADH,EAEG,GAFH,EAGGJ,IAAI,CAAC4D,gBAHR,CADF,EAMG,CAAC7E,CAAC,CAACwE,OAAF,CAAUvD,IAAI,CAAC+C,IAAf,CAAD,iBACC,oBAAC,SAAD;AAAW,IAAA,SAAS,EAAEjD,MAAM,CAACiD,IAA7B;AAAmC,IAAA,OAAO,EAAET,CAAC,IAAIzB,WAAW,CAACyB,CAAC,CAACkB,aAAH,CAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,GAAG,EAAEX,QAAV;AAAoB,IAAA,GAAG,EAAC,EAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFF,CAPJ,CAJF,eAiBE;AAAK,IAAA,SAAS,EAAE/C,MAAM,CAAC4D,UAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,CAAAjD,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEoD,IAAT,MAAiBpD,OAAjB,aAAiBA,OAAjB,uBAAiBA,OAAO,CAAEqD,KAA1B,kBACC;AAAK,IAAA,SAAS,EAAEhE,MAAM,CAACW,OAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGA,OAAO,CAACoD,IADX,EAEG,GAFH,OAIG,GAJH,EAKGpD,OAAO,CAACqD,KALX,CAFJ,eAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG9D,IAAI,CAAC+D,QADR,EAEG,GAFH,QAVF,EAeGpD,KAAK,KAAIA,KAAJ,aAAIA,KAAJ,uBAAIA,KAAK,CAAE0C,GAAX,CAAL,iBACC;AAAK,IAAA,SAAS,EAAEvD,MAAM,CAACa,KAAvB;AAA8B,IAAA,KAAK,EAAE;AAAEqD,MAAAA,UAAU,EAAErD,KAAF,aAAEA,KAAF,uBAAEA,KAAK,CAAE0C;AAArB,KAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAhBJ,CAjBF,CAJF,CALF,EAgDGjC,WAAW,KAAK,SAAhB,iBACC;AAAK,IAAA,SAAS,EAAEtB,MAAM,CAAC2E,sBAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,mBAAD;AAAqB,IAAA,eAAe,EAAEtD,KAAtC;AAA6C,IAAA,QAAQ,EAAEe,QAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAjDJ,eAqDE;AAAK,IAAA,SAAS,EAAEpC,MAAM,CAAC4E,YAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,YAAD;AAAc,IAAA,IAAI,EAAEzE,IAApB;AAA0B,IAAA,OAAO,EAAED,IAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CArDF,eAwDE;AAAK,IAAA,SAAS,EAAEF,MAAM,CAAC+E,eAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAW,IAAA,SAAS,EAAE/E,MAAM,CAACmE,WAA7B;AAA0C,IAAA,OAAO,EAAE5C,gBAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAEvB,MAAM,CAACoE,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,GAAG,EAAEA,MAAV;AAAkB,IAAA,GAAG,EAAC,EAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG7E,mBAAmB,CAACW,IAAD,aAACA,IAAD,0CAACA,IAAI,CAAEuB,QAAP,oDAAC,gBAAgBrB,KAAjB,CADtB,CAJF,CADF,eASE,oBAAC,SAAD;AAAW,IAAA,SAAS,EAAEJ,MAAM,CAACqE,cAA7B;AAA6C,IAAA,OAAO,EAAEnC,mBAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAElC,MAAM,CAACsE,KAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,GAAG,EAAEA,KAAV;AAAiB,IAAA,GAAG,EAAC,EAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG7E,sBAAsB,CAACS,IAAD,aAACA,IAAD,0CAACA,IAAI,CAAEuB,QAAP,oDAAC,gBAAgB8C,QAAjB,CADzB,CAJF,CATF,eAiBE,oBAAC,SAAD;AAAW,IAAA,SAAS,EAAEvE,MAAM,CAACwE,aAA7B;AAA4C,IAAA,OAAO,EAAExC,kBAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAEhC,MAAM,CAACyE,KAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,GAAG,EAAEA,KAAV;AAAiB,IAAA,GAAG,EAAC,EAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGjF,qBAAqB,CAACY,KAAD,aAACA,KAAD,2CAACA,KAAK,CAAEqB,QAAR,qDAAC,iBAAiBiD,OAAlB,CADxB,CAJF,CAjBF,CAxDF,CADF;AAqFD;;GA5SezE,I;UACDjB,O,EACCK,Q,EACOC,U,EAMHP,U;;;KATJkB,I;AA8ShBA,IAAI,CAAC+E,SAAL,GAAiB;AACf9E,EAAAA,IAAI,EAAEpB,SAAS,CAACmG,MAAV,CAAiBC;AADR,CAAjB;AAIAjF,IAAI,CAACkF,YAAL,GAAoB,EAApB","sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDesktop, useShop } from 'contexts';\nimport _ from 'lodash';\nimport infoIcon from 'assets/v2/orders/info.svg';\nimport { Clickable } from 'phoenix-components';\nimport { Grid, Popover } from '@material-ui/core';\nimport { useOrder, useRefresh } from 'contexts/orderContext';\nimport { getOrderStatusLabel, getPaymentStatusLabel, getShippingStatusLabel } from 'components/orders/v2/statusUtils';\nimport thIcon from 'assets/images/orders/list/payment.svg';\nimport tIcon from 'assets/images/orders/list/rocket.svg';\nimport { RatingsShare } from 'components/reviewProduct/RatingsShare';\nimport DigitalShippingCard from 'components/orders/v2/DigitalShippingCard';\nimport fIcon from 'assets/images/orders/list/bag.svg';\nimport { StatusHistory } from 'components/orders/v2/StatusHistory';\nimport Loader from 'services/loader';\nimport Snackbar from 'services/snackbar';\nimport { Factory } from 'api';\nimport styles from './Item.module.css';\n\nexport function Item({ item }) {\n  const shop = useShop();\n  const order = useOrder();\n  const refreshOrder = useRefresh();\n  const { currency } = shop;\n  const image = item?.content?.images[0]?.url;\n  const variant = item?.content?.details;\n  const color = item?.content?.color;\n  const [anchorEl, setAnchorEl] = useState(null);\n  const isDesktop = useDesktop();\n  const [type, setType] = useState('');\n  const [history, setHistory] = useState(null);\n  const links = item?.links;\n  const { productType } = item;\n\n  const openOrderHistory = () => {\n    const his = item?.statuses?.orderHistory || [];\n    if (his.length === 0) {\n      return;\n    }\n    setHistory(his.map(x => ({\n      ...x,\n      status: getOrderStatusLabel(x.status),\n    })).reverse());\n    setType('Order');\n  };\n\n  const openPaymentHistory = () => {\n    const his = order?.statuses?.paymentHistory || [];\n    if (his.length === 0) {\n      return;\n    }\n    setHistory(his.map(x => ({\n      ...x,\n      status: getPaymentStatusLabel(x.status),\n    })).reverse());\n    setType('Payment');\n  };\n\n  const openShippingHistory = () => {\n    const his = item?.statuses?.shippingHistory || [];\n    if (his.length === 0) {\n      return;\n    }\n    setHistory(his.map(x => ({\n      ...x,\n      status: getShippingStatusLabel(x.status),\n    })).reverse());\n    setType('Shipping');\n  };\n\n  const setLinks = async (links) => {\n    try {\n      Loader.show();\n      await Factory.updateStatus(order._id, 'shipping', 'delivered', [item._id], '', {}, links);\n      refreshOrder();\n    } catch (e) {\n      Snackbar.showError(e);\n    } finally {\n      Loader.hide();\n    }\n  };\n\n  const renderNotePopOver = () => {\n    if (!anchorEl) {\n      return null;\n    }\n    return (\n      <Popover\n        open={!!anchorEl}\n        anchorEl={anchorEl}\n        onClose={() => setAnchorEl(null)}\n        anchorOrigin={{\n          vertical: 'top',\n          horizontal: 'center',\n        }}\n        transformOrigin={{\n          vertical: 'bottom',\n          horizontal: 'center',\n        }}\n      >\n        <div className={styles.noteContainer}>\n          <img src={infoIcon} alt=\"\" />\n          <div>\n            <div className={styles.customerNote}>Customer Note</div>\n            <div>\n              {item?.note}\n            </div>\n          </div>\n        </div>\n      </Popover>\n    );\n  };\n\n  if (isDesktop) {\n    return (\n      <>\n        <div className={styles.container}>\n          {history && (\n            <StatusHistory type={type} onClose={() => setHistory(null)} history={history} />\n          )}\n          {renderNotePopOver()}\n          <div className={styles.imageContainer}>\n            <img src={image} alt=\"\" />\n          </div>\n          <div className={styles.firstRow}>\n            <Grid container spacing={2}>\n              <Grid item md={6}>\n                <div className={styles.title}>\n                  {item.content.title}\n                </div>\n              </Grid>\n              <Grid item md={2}>\n                <div className={styles.qty}>\n                  Qty\n                </div>\n              </Grid>\n              <Grid item md={2}>\n                {color && color?.hex ? (\n                  <div className={styles.colorName}>\n                    Colors\n                  </div>\n                ) : (\n                  <div className={styles.colorName}>\n                    &nbsp;\n                  </div>\n                )}\n              </Grid>\n              <Grid item md={2}>\n                {!_.isEmpty(item.note) && (\n                  <Clickable className={styles.note} onClick={e => setAnchorEl(e.currentTarget)}>\n                    <img src={infoIcon} alt=\"\" />\n                    <span>View Note</span>\n                  </Clickable>\n                )}\n                {_.isEmpty(item.note) && (\n                  <div className={styles.emptyNote}>\n                    &nbsp;\n                  </div>\n                )}\n              </Grid>\n            </Grid>\n            <Grid container spacing={2} alignItems=\"flex-end\">\n              <Grid item md={6} className={styles.variantRow}>\n                <div className={styles.price}>\n                  {currency}\n                  {' '}\n                  {item.discountedAmount}\n                </div>\n                {variant?.name && variant?.value && (\n                  <div className={styles.variant}>\n                    {variant.value}\n                    {' '}\n                    {variant.name}\n                  </div>\n                )}\n              </Grid>\n              <Grid item md={2}>\n                <div className={styles.qty}>\n                  {item.quantity}\n                </div>\n              </Grid>\n              <Grid item md={2}>\n                {color && color?.hex && (\n                  <div className={styles.color} style={{ background: color?.hex }}>\n                  </div>\n                )}\n              </Grid>\n            </Grid>\n            <Grid container spacing={2}>\n              <Grid item md={3}>\n                <Clickable className={styles.orderStatus} onClick={openOrderHistory}>\n                  <div className={styles.thIcon}>\n                    <img src={thIcon} alt=\"\" />\n                  </div>\n                  <span>\n                    {getOrderStatusLabel(item?.statuses?.order)}\n                  </span>\n                </Clickable>\n              </Grid>\n              <Grid item md={3}>\n                <Clickable className={styles.shippingStatus} onClick={openShippingHistory}>\n                  <div className={styles.tIcon}>\n                    <img src={tIcon} alt=\"\" />\n                  </div>\n                  <span>\n                    {getShippingStatusLabel(item?.statuses?.shipping)}\n                  </span>\n                </Clickable>\n              </Grid>\n              <Grid item md={3}>\n                <Clickable className={styles.paymentStatus} onClick={openPaymentHistory}>\n                  <div className={styles.fIcon}>\n                    <img src={fIcon} alt=\"\" />\n                  </div>\n                  <span>\n                    {getPaymentStatusLabel(order?.statuses?.payment)}\n                  </span>\n                </Clickable>\n              </Grid>\n            </Grid>\n          </div>\n        </div>\n        {productType === 'digital' && (\n          <div className={styles.digitalShippingSection}>\n            <DigitalShippingCard digitalProducts={links} onUpload={setLinks} />\n          </div>\n        )}\n        <div className={styles.shareSection}>\n          <RatingsShare shop={shop} product={item} />\n        </div>\n      </>\n    );\n  }\n\n  return (\n    <div className={styles.container}>\n      {history && (\n        <StatusHistory type={type} onClose={() => setHistory(null)} history={history} />\n      )}\n      {renderNotePopOver()}\n      <div className={styles.firstRow}>\n        <div className={styles.imageContainer}>\n          <img src={image} alt=\"\" />\n        </div>\n        <div className={styles.right}>\n          <div className={styles.title}>\n            {item.content.title}\n          </div>\n          <div className={styles.priceRow}>\n            <div className={styles.price}>\n              {currency}\n              {' '}\n              {item.discountedAmount}\n            </div>\n            {!_.isEmpty(item.note) && (\n              <Clickable className={styles.note} onClick={e => setAnchorEl(e.currentTarget)}>\n                <img src={infoIcon} alt=\"\" />\n                <span>View Note</span>\n              </Clickable>\n            )}\n          </div>\n          <div className={styles.variantRow}>\n            {variant?.name && variant?.value && (\n              <div className={styles.variant}>\n                {variant.name}\n                {' '}\n                :\n                {' '}\n                {variant.value}\n              </div>\n            )}\n            <div>\n              {item.quantity}\n              {' '}\n              Qty\n            </div>\n            {color && color?.hex && (\n              <div className={styles.color} style={{ background: color?.hex }}>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n      {productType === 'digital' && (\n        <div className={styles.digitalShippingSection}>\n          <DigitalShippingCard digitalProducts={links} onUpload={setLinks} />\n        </div>\n      )}\n      <div className={styles.shareSection}>\n        <RatingsShare shop={shop} product={item} />\n      </div>\n      <div className={styles.statusContainer}>\n        <Clickable className={styles.orderStatus} onClick={openOrderHistory}>\n          <div className={styles.thIcon}>\n            <img src={thIcon} alt=\"\" />\n          </div>\n          <span>\n            {getOrderStatusLabel(item?.statuses?.order)}\n          </span>\n        </Clickable>\n        <Clickable className={styles.shippingStatus} onClick={openShippingHistory}>\n          <div className={styles.tIcon}>\n            <img src={tIcon} alt=\"\" />\n          </div>\n          <span>\n            {getShippingStatusLabel(item?.statuses?.shipping)}\n          </span>\n        </Clickable>\n        <Clickable className={styles.paymentStatus} onClick={openPaymentHistory}>\n          <div className={styles.fIcon}>\n            <img src={fIcon} alt=\"\" />\n          </div>\n          <span>\n            {getPaymentStatusLabel(order?.statuses?.payment)}\n          </span>\n        </Clickable>\n      </div>\n    </div>\n  );\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n};\n\nItem.defaultProps = {};\n"]},"metadata":{},"sourceType":"module"}