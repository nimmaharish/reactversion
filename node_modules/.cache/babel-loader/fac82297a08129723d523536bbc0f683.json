{"ast":null,"code":"var _jsxFileName = \"/home/harish/windo/phoenix/src/components/orders/CartDetails.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Drawer } from \"../shared/Drawer\";\nimport { useCartDetails } from \"../../hooks/cart\";\nimport { Grid } from '@material-ui/core';\nimport { useParams } from 'react-router-dom';\nimport { useHistory } from 'react-router-dom';\nimport { useDesktop } from \"../../contexts\";\nimport { FooterButton } from \"../common/FooterButton\";\nimport { Button, Clickable } from 'phoenix-components';\nimport whatsAppIcon from \"../../assets/images/orders/details/whatsapp.svg\";\nimport emailIcon from \"../../assets/images/orders/details/emailC.svg\";\nimport phoneIcon from \"../../assets/images/orders/details/phone.svg\";\nimport { useShop } from \"../../contexts/userContext\";\nimport { KeyValue } from \"./v2/KeyValue\";\nimport moment from 'moment';\nimport _ from 'lodash';\nimport WebView from \"../../services/webview\";\nimport { Loading } from \"../shared/Loading\";\nimport chevronLeftDesk from \"../../assets/v2/common/chevronPrimaryLeft.svg\";\nimport CartProduct from \"./CartProduct\";\nimport styles from \"./CartDetails.module.css\";\nimport cmStyles from \"./Common.module.css\";\n\nfunction CartDetails() {\n  _s();\n\n  var _cart$userData, _cart$userData2, _cart$userData3, _cart$userData4, _cart$cartData, _cart$cartData2;\n\n  const history = useHistory();\n  const shop = useShop();\n  const isDesktop = useDesktop();\n  const {\n    id\n  } = useParams();\n  const [cart] = useCartDetails(id);\n  const phone = cart === null || cart === void 0 ? void 0 : (_cart$userData = cart.userData) === null || _cart$userData === void 0 ? void 0 : _cart$userData.phone;\n  const name = cart !== null && cart !== void 0 && (_cart$userData2 = cart.userData) !== null && _cart$userData2 !== void 0 && _cart$userData2.isGuest ? 'Guest' : cart === null || cart === void 0 ? void 0 : (_cart$userData3 = cart.userData) === null || _cart$userData3 === void 0 ? void 0 : _cart$userData3.name;\n  const email = cart === null || cart === void 0 ? void 0 : (_cart$userData4 = cart.userData) === null || _cart$userData4 === void 0 ? void 0 : _cart$userData4.email;\n\n  const totalQuantity = _.sumBy(cart === null || cart === void 0 ? void 0 : (_cart$cartData = cart.cartData) === null || _cart$cartData === void 0 ? void 0 : _cart$cartData.products, 'quantity');\n\n  const totalAmount = _.sumBy(cart === null || cart === void 0 ? void 0 : (_cart$cartData2 = cart.cartData) === null || _cart$cartData2 === void 0 ? void 0 : _cart$cartData2.products, 'total');\n\n  const openWhatsapp = () => {\n    if (!phone) {\n      return;\n    }\n\n    const url = `https://wa.me/${phone.replace(/\\s/g, '')}`;\n\n    if (WebView.isWebView()) {\n      WebView.openUrl(url);\n    } else {\n      window.open(url, '_blank');\n    }\n  };\n\n  const openPhone = () => {\n    if (!phone) {\n      return;\n    }\n\n    const url = `tel:${phone.replace(/\\s/g, '')}`;\n\n    if (WebView.isWebView()) {\n      WebView.openUrl(url);\n    } else {\n      window.open(url, '_blank');\n    }\n  };\n\n  const openEmail = () => {\n    if (!email) {\n      return;\n    }\n\n    const url = `mailto:${email}`;\n\n    if (WebView.isWebView()) {\n      WebView.openUrl(url);\n    } else {\n      window.open(url, '_blank');\n    }\n  };\n\n  if (!cart) {\n    return /*#__PURE__*/React.createElement(Loading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 7\n      }\n    });\n  }\n\n  const body = () => /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: cmStyles.heading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, \"Cart Details\")), /*#__PURE__*/React.createElement(KeyValue, {\n    valueClass: styles.value,\n    titleClass: styles.keyTitle,\n    title: \"Date\",\n    value: moment(cart.cartData.createdAt).format('DD MMM, YYYY'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(KeyValue, {\n    valueClass: styles.value,\n    titleClass: styles.keyTitle,\n    title: \"Cart Total\",\n    value: `${shop.currency} ${totalAmount}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: cmStyles.borderBottom,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }\n  }, !isDesktop && /*#__PURE__*/React.createElement(\"div\", {\n    className: cmStyles.heading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  }, \"Item List\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.infoContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.info,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }, \"Total Products\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }, \":\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  }, cart.cartData.products.length)), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.info,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }\n  }, \"Total Quantity\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }\n  }, \":\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }\n  }, totalQuantity))), cart.cartData.products.map(product => /*#__PURE__*/React.createElement(CartProduct, {\n    product: product,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.containerC,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: isDesktop ? styles.desktopBox : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.rowC,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.titleC,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 17\n    }\n  }, \"Customer Details\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 17\n    }\n  }, phone && /*#__PURE__*/React.createElement(Clickable, {\n    onClick: openWhatsapp,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: whatsAppIcon,\n    className: styles.img,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 23\n    }\n  })), email && /*#__PURE__*/React.createElement(Clickable, {\n    onClick: openEmail,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: emailIcon,\n    className: styles.img,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 23\n    }\n  })), phone && /*#__PURE__*/React.createElement(Clickable, {\n    onClick: openPhone,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: phoneIcon,\n    className: styles.img,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 23\n    }\n  }))))), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 2,\n    className: styles.gridDesk,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 13\n    }\n  }, name && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 19\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 19\n    }\n  }, name)), email && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 19\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 19\n    }\n  }, email)), phone && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 19\n    }\n  }, \"phone\"), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 19\n    }\n  }, phone)))))), isDesktop ? /*#__PURE__*/React.createElement(Button, {\n    fullWidth: true,\n    bordered: true,\n    label: \"Send Email\",\n    size: \"large\",\n    onClick: openEmail,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(FooterButton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    fullWidth: true,\n    bordered: false,\n    label: \"Send Email\",\n    size: \"large\" // style={styles.button}\n    ,\n    onClick: openEmail,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 11\n    }\n  })));\n\n  if (isDesktop) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.desktopContainer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      onClick: () => history.push('/carts'),\n      className: styles.maintitle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: styles.backIconForDesktop,\n      src: chevronLeftDesk,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 11\n      }\n    }, \"\\xA0\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 11\n      }\n    }, \"\\xA0\"), \"Cart\"), body());\n  }\n\n  return /*#__PURE__*/React.createElement(Drawer, {\n    title: \"Product Details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 5\n    }\n  }, body());\n}\n\n_s(CartDetails, \"uOzRA4RNCub/8Qyx++AInGt4F/I=\", false, function () {\n  return [useHistory, useShop, useDesktop, useParams, useCartDetails];\n});\n\n_c = CartDetails;\nexport default CartDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartDetails\");","map":{"version":3,"sources":["/home/harish/windo/phoenix/src/components/orders/CartDetails.jsx"],"names":["React","Drawer","useCartDetails","Grid","useParams","useHistory","useDesktop","FooterButton","Button","Clickable","useShop","KeyValue","moment","_","WebView","Loading","CartProduct","styles","cmStyles","CartDetails","history","shop","isDesktop","id","cart","phone","userData","name","isGuest","email","totalQuantity","sumBy","cartData","products","totalAmount","openWhatsapp","url","replace","isWebView","openUrl","window","open","openPhone","openEmail","body","container","heading","value","keyTitle","createdAt","format","currency","borderBottom","infoContainer","info","length","map","product","containerC","desktopBox","rowC","titleC","whatsAppIcon","img","emailIcon","phoneIcon","gridDesk","desktopContainer","push","maintitle","backIconForDesktop","chevronLeftDesk"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Drawer } from 'components/shared/Drawer';\nimport { useCartDetails } from 'hooks/cart';\nimport { Grid } from '@material-ui/core';\nimport { useParams } from 'react-router-dom';\nimport { useHistory } from 'react-router-dom';\nimport {\n  useDesktop\n} from 'contexts';\nimport { FooterButton } from 'components/common/FooterButton';\nimport { Button, Clickable } from 'phoenix-components';\nimport whatsAppIcon from 'assets/images/orders/details/whatsapp.svg';\nimport emailIcon from 'assets/images/orders/details/emailC.svg';\nimport phoneIcon from 'assets/images/orders/details/phone.svg';\nimport { useShop } from 'contexts/userContext';\nimport { KeyValue } from 'components/orders/v2/KeyValue';\nimport moment from 'moment';\nimport _ from 'lodash';\nimport WebView from 'services/webview';\nimport { Loading } from 'components/shared/Loading';\nimport chevronLeftDesk from 'assets/v2/common/chevronPrimaryLeft.svg';\nimport CartProduct from './CartProduct';\nimport styles from './CartDetails.module.css';\nimport cmStyles from './Common.module.css';\n\nfunction CartDetails() {\n  const history = useHistory();\n  const shop = useShop();\n  const isDesktop = useDesktop();\n  const { id } = useParams();\n  const [cart] = useCartDetails(id);\n  const phone = cart?.userData?.phone;\n  const name = cart?.userData?.isGuest ? 'Guest' : cart?.userData?.name;\n  const email = cart?.userData?.email;\n  const totalQuantity = _.sumBy(cart?.cartData?.products, 'quantity');\n  const totalAmount = _.sumBy(cart?.cartData?.products, 'total');\n  const openWhatsapp = () => {\n    if (!phone) {\n      return;\n    }\n    const url = `https://wa.me/${phone.replace(/\\s/g, '')}`;\n    if (WebView.isWebView()) {\n      WebView.openUrl(url);\n    } else {\n      window.open(url, '_blank');\n    }\n  };\n\n  const openPhone = () => {\n    if (!phone) {\n      return;\n    }\n    const url = `tel:${phone.replace(/\\s/g, '')}`;\n    if (WebView.isWebView()) {\n      WebView.openUrl(url);\n    } else {\n      window.open(url, '_blank');\n    }\n  };\n\n  const openEmail = () => {\n    if (!email) {\n      return;\n    }\n    const url = `mailto:${email}`;\n    if (WebView.isWebView()) {\n      WebView.openUrl(url);\n    } else {\n      window.open(url, '_blank');\n    }\n  };\n  if (!cart) {\n    return (\n      <Loading />\n    );\n  }\n\n  const body = () => (\n    <div className={styles.container}>\n      <div>\n        <Grid container spacing={0}>\n          <Grid item xs={12}>\n            <div className={cmStyles.heading}>\n              Cart Details\n            </div>\n          </Grid>\n          <KeyValue\n            valueClass={styles.value}\n            titleClass={styles.keyTitle}\n            title=\"Date\"\n            value={moment(cart.cartData.createdAt)\n              .format('DD MMM, YYYY')} />\n          <KeyValue\n            valueClass={styles.value}\n            titleClass={styles.keyTitle}\n            title=\"Cart Total\"\n            value={`${shop.currency} ${totalAmount}`}\n          />\n          <div className={cmStyles.borderBottom} />\n        </Grid>\n      </div>\n      <div>\n        {!isDesktop && (\n          <div className={cmStyles.heading}>\n            Item List\n          </div>\n        )}\n        <div className={styles.infoContainer}>\n          <div className={styles.info}>\n            <span>\n              Total Products\n            </span>\n            <span>:</span>\n            <span>\n              {cart.cartData.products.length}\n            </span>\n          </div>\n          <div className={styles.info}>\n            <span>\n              Total Quantity\n            </span>\n            <span>:</span>\n            <span>\n              {totalQuantity}\n            </span>\n          </div>\n        </div>\n        {/* //productcard// */}\n        {cart.cartData.products.map((product) => (\n          <CartProduct product={product} />\n        ))}\n        {/* //customercard// */}\n        <>\n          <div className={styles.containerC}>\n            <div className={isDesktop ? styles.desktopBox : null}>\n              <div className={styles.rowC}>\n                <div className={styles.titleC}>Customer Details</div>\n                <div>\n                  {phone && (\n                    <Clickable onClick={openWhatsapp}>\n                      <img src={whatsAppIcon} className={styles.img} alt=\"\" />\n                    </Clickable>\n                  )}\n                  {email && (\n                    <Clickable onClick={openEmail}>\n                      <img src={emailIcon} className={styles.img} alt=\"\" />\n                    </Clickable>\n                  )}\n                  {phone && (\n                    <Clickable onClick={openPhone}>\n                      <img src={phoneIcon} className={styles.img} alt=\"\" />\n                    </Clickable>\n                  )}\n                </div>\n              </div>\n            </div>\n            <Grid container spacing={2} className={styles.gridDesk}>\n              {name && (\n                <>\n                  <Grid item xs={6}>\n                    Name\n                  </Grid>\n                  <Grid item xs={6}>\n                    {name}\n                  </Grid>\n                </>\n              )}\n              {email && (\n                <>\n                  <Grid item xs={6}>\n                    Email\n                  </Grid>\n                  <Grid item xs={6}>\n                    {email}\n                  </Grid>\n                </>\n              )}\n              {phone && (\n                <>\n                  <Grid item xs={6}>\n                    phone\n                  </Grid>\n                  <Grid item xs={6}>\n                    {phone}\n                  </Grid>\n                </>\n              )}\n            </Grid>\n          </div>\n        </>\n      </div>\n      {isDesktop ? (\n        <Button\n          fullWidth\n          bordered={true}\n          label=\"Send Email\"\n          size=\"large\"\n          onClick={openEmail}\n        />\n      ) : (\n        <FooterButton>\n          <Button\n            fullWidth\n            bordered={false}\n            label=\"Send Email\"\n            size=\"large\"\n            // style={styles.button}\n            onClick={openEmail}\n          />\n        </FooterButton>\n      )}\n\n    </div>\n  );\n\n  if (isDesktop) {\n    return (\n      <div className={styles.desktopContainer}>\n        <div onClick={() => history.push('/carts')} className={styles.maintitle}>\n          <img className={styles.backIconForDesktop} src={chevronLeftDesk} alt=\"\" />\n          <div>&nbsp;</div>\n          <div>&nbsp;</div>\n          Cart\n        </div>\n        {body()}\n      </div>\n    );\n  }\n\n  return (\n    <Drawer\n      title=\"Product Details\"\n    >\n      {body()}\n    </Drawer>\n  );\n}\n\nexport default CartDetails;\n"]},"metadata":{},"sourceType":"module"}