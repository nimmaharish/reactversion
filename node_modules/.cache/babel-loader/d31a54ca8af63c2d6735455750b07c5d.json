{"ast":null,"code":"var _jsxFileName = \"/home/harish/windo/phoenix/src/components/orders/OrderCard.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { lazy } from 'react';\nimport PropTypes from 'prop-types';\nimport _ from 'lodash';\nimport { useHistory } from 'react-router-dom';\nimport { useQueryParams } from \"../../hooks\";\nimport moment from 'moment';\nimport { useShop } from \"../../contexts/userContext\";\nimport multiIcon from \"../../assets/images/orders/multi/multi.svg\";\nimport fIcon from \"../../assets/images/orders/list/bag.svg\";\nimport tIcon from \"../../assets/images/orders/list/rocket.svg\";\nimport thIcon from \"../../assets/images/orders/list/payment.svg\";\nimport crIcon from \"../../assets/images/payments/chevRight.svg\";\nimport { useOpenPlans } from \"../../contexts\";\nimport { Clickable } from 'phoenix-components';\nimport cx from 'classnames';\nimport { useToggle } from \"../../hooks/common\";\nimport { getOrderStatusLabel, getPaymentStatusLabel, getShippingStatusLabel } from \"./v2/statusUtils\";\nimport styles from \"./OrderCard.module.css\";\nconst UpdateDrawer = /*#__PURE__*/lazy(_c = () => import(\n/* webpackChunkName: \"order-update-drawer\" */\n\"./v2/UpdateButtonDrawer\"));\n_c2 = UpdateDrawer;\nexport function OrderCard({\n  order,\n  showAlert = false,\n  noPadding,\n  showBorder,\n  refresh\n}) {\n  _s();\n\n  var _order$variant, _order$variant$value, _order$variant2, _order$variant2$name, _order$variant3, _order$variant4;\n\n  const history = useHistory();\n  const shop = useShop();\n\n  const image = _.get(order, 'images[0].url', '');\n\n  const queryParams = useQueryParams();\n  const openPlans = useOpenPlans(false, 'abandonCart');\n  const isNotMulti = _.get(order, 'items', 1) === 1;\n  const [open, toggleOpen] = useToggle();\n\n  const getClass = (type = 0) => {\n    if (type === 1) {\n      return cx(styles.badge, styles.pink);\n    }\n\n    if (type === 2) {\n      return cx(styles.badge, styles.blue);\n    }\n\n    return cx(styles.badge, styles.green);\n  };\n\n  const getIconClass = (type = 0) => {\n    if (type === 1) {\n      return cx(styles.icon, styles.pink1);\n    }\n\n    if (type === 2) {\n      return cx(styles.icon, styles.blue1);\n    }\n\n    return cx(styles.icon, styles.green1);\n  };\n\n  const onClick = () => {\n    if (showAlert) {\n      openPlans();\n      return;\n    }\n\n    queryParams.set('id', order._id);\n    history.push({\n      pathname: `/orders/${order._id}`\n    });\n  };\n\n  const isMultiItem = order.items > 1;\n\n  const onCloseDrawer = () => {\n    toggleOpen();\n    refresh();\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, open && /*#__PURE__*/React.createElement(UpdateDrawer, {\n    id: order._id,\n    onClose: onCloseDrawer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Clickable, {\n    onClick: onClick,\n    className: cx(styles.root, {\n      [styles.noPadding]: noPadding,\n      [styles.border]: showBorder,\n      [styles.noBorder]: !showBorder\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.top,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.left,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: image,\n    alt: \"\",\n    loading: \"lazy\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 15\n    }\n  }), order.items > 1 && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.multi,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 35\n    }\n  }, `+${order.items - 1}`)), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.column,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.row,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.title,\n    translate: \"no\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }, order.title), (order === null || order === void 0 ? void 0 : order.status) === 'archived' ? null : /*#__PURE__*/React.createElement(Clickable, {\n    onClick: e => {\n      e.stopPropagation();\n      toggleOpen();\n    },\n    className: styles.update,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 19\n    }\n  }, \"UPDATE\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.row,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.orderId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 17\n    }\n  }, order.orderId), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.dot,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.date,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 17\n    }\n  }, moment(order.createdAt).format('ll'))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.row,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.price,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 17\n    }\n  }, shop.currency, ' ', order.payable.toFixed(2)), !isMultiItem && (order === null || order === void 0 ? void 0 : (_order$variant = order.variant) === null || _order$variant === void 0 ? void 0 : (_order$variant$value = _order$variant.value) === null || _order$variant$value === void 0 ? void 0 : _order$variant$value.length) > 0 && (order === null || order === void 0 ? void 0 : (_order$variant2 = order.variant) === null || _order$variant2 === void 0 ? void 0 : (_order$variant2$name = _order$variant2.name) === null || _order$variant2$name === void 0 ? void 0 : _order$variant2$name.length) > 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.price,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 21\n    }\n  }, (order === null || order === void 0 ? void 0 : (_order$variant3 = order.variant) === null || _order$variant3 === void 0 ? void 0 : _order$variant3.value) || '', ' ', (order === null || order === void 0 ? void 0 : (_order$variant4 = order.variant) === null || _order$variant4 === void 0 ? void 0 : _order$variant4.name) || '')), isMultiItem && order.status !== 'payment pending' && /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.multiItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: multiIcon,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 21\n    }\n  }), \"Multi Item\"), !isMultiItem && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.price,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 19\n    }\n  }, order.quantity, ' ', \"Qty\"), /*#__PURE__*/React.createElement(\"img\", {\n    className: styles.view,\n    src: crIcon,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 17\n    }\n  })))), isNotMulti && /*#__PURE__*/React.createElement(\"div\", {\n    className: cx(styles.statsSection),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    size: \"small\",\n    className: getClass(0),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: getIconClass(0),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: thIcon,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 50\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 17\n    }\n  }, getOrderStatusLabel(order.orderStatus))), /*#__PURE__*/React.createElement(\"div\", {\n    size: \"small\",\n    className: getClass(1),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: getIconClass(1),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: tIcon,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 50\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 17\n    }\n  }, getShippingStatusLabel(order.shippingStatus))), /*#__PURE__*/React.createElement(\"div\", {\n    size: \"small\",\n    className: getClass(2),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: getIconClass(2),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: fIcon,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 50\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 17\n    }\n  }, getPaymentStatusLabel(order.paymentStatus)))))));\n}\n\n_s(OrderCard, \"5NQV36iLxr34JxsGdgTbUCoruEQ=\", false, function () {\n  return [useHistory, useShop, useQueryParams, useOpenPlans, useToggle];\n});\n\n_c3 = OrderCard;\nOrderCard.defaultProps = {\n  showAlert: false,\n  noPadding: false,\n  showBorder: false,\n  refresh: () => {}\n};\nOrderCard.propTypes = {\n  order: PropTypes.object.isRequired,\n  showAlert: PropTypes.bool,\n  noPadding: PropTypes.bool,\n  showBorder: PropTypes.bool,\n  refresh: PropTypes.func\n};\nOrderCard.defaultProps = {};\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"UpdateDrawer$lazy\");\n$RefreshReg$(_c2, \"UpdateDrawer\");\n$RefreshReg$(_c3, \"OrderCard\");","map":{"version":3,"sources":["/home/harish/windo/phoenix/src/components/orders/OrderCard.jsx"],"names":["React","lazy","PropTypes","_","useHistory","useQueryParams","moment","useShop","useOpenPlans","Clickable","cx","useToggle","getOrderStatusLabel","getPaymentStatusLabel","getShippingStatusLabel","styles","UpdateDrawer","OrderCard","order","showAlert","noPadding","showBorder","refresh","history","shop","image","get","queryParams","openPlans","isNotMulti","open","toggleOpen","getClass","type","badge","pink","blue","green","getIconClass","icon","pink1","blue1","green1","onClick","set","_id","push","pathname","isMultiItem","items","onCloseDrawer","root","border","noBorder","container","top","left","multi","column","row","title","status","e","stopPropagation","update","orderId","dot","date","createdAt","format","price","currency","payable","toFixed","variant","value","length","name","multiItem","multiIcon","quantity","view","crIcon","statsSection","thIcon","text","orderStatus","tIcon","shippingStatus","fIcon","paymentStatus","defaultProps","propTypes","object","isRequired","bool","func"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,IAAhB,QAA4B,OAA5B;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,cAAT;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,SAASC,OAAT;;;;;;AAMA,SAASC,YAAT;AACA,SAASC,SAAT,QAA0B,oBAA1B;AACA,OAAOC,EAAP,MAAe,YAAf;AACA,SAASC,SAAT;AACA,SAASC,mBAAT,EAA8BC,qBAA9B,EAAqDC,sBAArD;AACA,OAAOC,MAAP;AAEA,MAAMC,YAAY,gBAAGf,IAAI,MAAC,MAAM;AAAO;AAAP,0BAAP,CAAzB;MAAMe,Y;AAIN,OAAO,SAASC,SAAT,CAAmB;AACxBC,EAAAA,KADwB;AAExBC,EAAAA,SAAS,GAAG,KAFY;AAGxBC,EAAAA,SAHwB;AAIxBC,EAAAA,UAJwB;AAKxBC,EAAAA;AALwB,CAAnB,EAMJ;AAAA;;AAAA;;AACD,QAAMC,OAAO,GAAGnB,UAAU,EAA1B;AACA,QAAMoB,IAAI,GAAGjB,OAAO,EAApB;;AACA,QAAMkB,KAAK,GAAGtB,CAAC,CAACuB,GAAF,CAAMR,KAAN,EAAa,eAAb,EAA8B,EAA9B,CAAd;;AACA,QAAMS,WAAW,GAAGtB,cAAc,EAAlC;AACA,QAAMuB,SAAS,GAAGpB,YAAY,CAAC,KAAD,EAAQ,aAAR,CAA9B;AACA,QAAMqB,UAAU,GAAG1B,CAAC,CAACuB,GAAF,CAAMR,KAAN,EAAa,OAAb,EAAsB,CAAtB,MAA6B,CAAhD;AACA,QAAM,CAACY,IAAD,EAAOC,UAAP,IAAqBpB,SAAS,EAApC;;AAEA,QAAMqB,QAAQ,GAAG,CAACC,IAAI,GAAG,CAAR,KAAc;AAC7B,QAAIA,IAAI,KAAK,CAAb,EAAgB;AACd,aAAOvB,EAAE,CAACK,MAAM,CAACmB,KAAR,EAAenB,MAAM,CAACoB,IAAtB,CAAT;AACD;;AACD,QAAIF,IAAI,KAAK,CAAb,EAAgB;AACd,aAAOvB,EAAE,CAACK,MAAM,CAACmB,KAAR,EAAenB,MAAM,CAACqB,IAAtB,CAAT;AACD;;AACD,WAAO1B,EAAE,CAACK,MAAM,CAACmB,KAAR,EAAenB,MAAM,CAACsB,KAAtB,CAAT;AACD,GARD;;AAUA,QAAMC,YAAY,GAAG,CAACL,IAAI,GAAG,CAAR,KAAc;AACjC,QAAIA,IAAI,KAAK,CAAb,EAAgB;AACd,aAAOvB,EAAE,CAACK,MAAM,CAACwB,IAAR,EAAcxB,MAAM,CAACyB,KAArB,CAAT;AACD;;AACD,QAAIP,IAAI,KAAK,CAAb,EAAgB;AACd,aAAOvB,EAAE,CAACK,MAAM,CAACwB,IAAR,EAAcxB,MAAM,CAAC0B,KAArB,CAAT;AACD;;AACD,WAAO/B,EAAE,CAACK,MAAM,CAACwB,IAAR,EAAcxB,MAAM,CAAC2B,MAArB,CAAT;AACD,GARD;;AAUA,QAAMC,OAAO,GAAG,MAAM;AACpB,QAAIxB,SAAJ,EAAe;AACbS,MAAAA,SAAS;AACT;AACD;;AACDD,IAAAA,WAAW,CAACiB,GAAZ,CAAgB,IAAhB,EAAsB1B,KAAK,CAAC2B,GAA5B;AACAtB,IAAAA,OAAO,CAACuB,IAAR,CAAa;AACXC,MAAAA,QAAQ,EAAG,WAAU7B,KAAK,CAAC2B,GAAI;AADpB,KAAb;AAGD,GATD;;AAWA,QAAMG,WAAW,GAAG9B,KAAK,CAAC+B,KAAN,GAAc,CAAlC;;AAEA,QAAMC,aAAa,GAAG,MAAM;AAC1BnB,IAAAA,UAAU;AACVT,IAAAA,OAAO;AACR,GAHD;;AAKA,sBACE,0CACGQ,IAAI,iBACH,oBAAC,YAAD;AACE,IAAA,EAAE,EAAEZ,KAAK,CAAC2B,GADZ;AAEE,IAAA,OAAO,EAAEK,aAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,eAOE,oBAAC,SAAD;AACE,IAAA,OAAO,EAAEP,OADX;AAEE,IAAA,SAAS,EAAEjC,EAAE,CAACK,MAAM,CAACoC,IAAR,EAAc;AACzB,OAACpC,MAAM,CAACK,SAAR,GAAoBA,SADK;AAEzB,OAACL,MAAM,CAACqC,MAAR,GAAiB/B,UAFQ;AAGzB,OAACN,MAAM,CAACsC,QAAR,GAAmB,CAAChC;AAHK,KAAd,CAFf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAOE;AAAK,IAAA,SAAS,EAAEN,MAAM,CAACuC,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAEvC,MAAM,CAACwC,GAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAExC,MAAM,CAACyC,IAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,GAAG,EAAE/B,KAAV;AAAiB,IAAA,GAAG,EAAC,EAArB;AAAwB,IAAA,OAAO,EAAC,MAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEGP,KAAK,CAAC+B,KAAN,GAAc,CAAd,iBAAmB;AAAK,IAAA,SAAS,EAAElC,MAAM,CAAC0C,KAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAgC,IAAGvC,KAAK,CAAC+B,KAAN,GAAc,CAAE,EAAnD,CAFtB,CADF,eAKE;AAAK,IAAA,SAAS,EAAElC,MAAM,CAAC2C,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAE3C,MAAM,CAAC4C,GAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAE5C,MAAM,CAAC6C,KAAvB;AAA8B,IAAA,SAAS,EAAC,IAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG1C,KAAK,CAAC0C,KADT,CADF,EAIG,CAAA1C,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAE2C,MAAP,MAAkB,UAAlB,GACC,IADD,gBAGC,oBAAC,SAAD;AACE,IAAA,OAAO,EAAGC,CAAD,IAAO;AACdA,MAAAA,CAAC,CAACC,eAAF;AACAhC,MAAAA,UAAU;AACX,KAJH;AAKE,IAAA,SAAS,EAAEhB,MAAM,CAACiD,MALpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAPJ,CADF,eAmBE;AAAK,IAAA,SAAS,EAAEjD,MAAM,CAAC4C,GAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAE5C,MAAM,CAACkD,OAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG/C,KAAK,CAAC+C,OADT,CADF,eAIE;AAAK,IAAA,SAAS,EAAElD,MAAM,CAACmD,GAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,eAKE;AAAK,IAAA,SAAS,EAAEnD,MAAM,CAACoD,IAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG7D,MAAM,CAACY,KAAK,CAACkD,SAAP,CAAN,CACEC,MADF,CACS,IADT,CADH,CALF,CAnBF,eA6BE;AAAK,IAAA,SAAS,EAAEtD,MAAM,CAAC4C,GAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAE5C,MAAM,CAACuD,KAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG9C,IAAI,CAAC+C,QADR,EAEG,GAFH,EAGGrD,KAAK,CAACsD,OAAN,CAAcC,OAAd,CAAsB,CAAtB,CAHH,CADF,EAMG,CAACzB,WAAD,IAAgB,CAAA9B,KAAK,SAAL,IAAAA,KAAK,WAAL,8BAAAA,KAAK,CAAEwD,OAAP,0FAAgBC,KAAhB,8EAAuBC,MAAvB,IAAgC,CAAhD,IAAqD,CAAA1D,KAAK,SAAL,IAAAA,KAAK,WAAL,+BAAAA,KAAK,CAAEwD,OAAP,4FAAgBG,IAAhB,8EAAsBD,MAAtB,IAA+B,CAApF,iBACC;AAAK,IAAA,SAAS,EAAE7D,MAAM,CAACuD,KAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,CAAApD,KAAK,SAAL,IAAAA,KAAK,WAAL,+BAAAA,KAAK,CAAEwD,OAAP,oEAAgBC,KAAhB,KAAyB,EAD5B,EAEG,GAFH,EAGG,CAAAzD,KAAK,SAAL,IAAAA,KAAK,WAAL,+BAAAA,KAAK,CAAEwD,OAAP,oEAAgBG,IAAhB,KAAwB,EAH3B,CADF,CAPJ,EAeG7B,WAAW,IAAI9B,KAAK,CAAC2C,MAAN,KAAiB,iBAAhC,iBACC;AAAM,IAAA,SAAS,EAAE9C,MAAM,CAAC+D,SAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,GAAG,EAAEC,SAAV;AAAqB,IAAA,GAAG,EAAC,EAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAhBJ,EAqBG,CAAC/B,WAAD,iBACC;AAAK,IAAA,SAAS,EAAEjC,MAAM,CAACuD,KAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGpD,KAAK,CAAC8D,QADT,EAEG,GAFH,QAtBJ,eA4BE;AAAK,IAAA,SAAS,EAAEjE,MAAM,CAACkE,IAAvB;AAA6B,IAAA,GAAG,EAAEC,MAAlC;AAA0C,IAAA,GAAG,EAAC,EAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA5BF,CA7BF,CALF,CADF,EAmEGrD,UAAU,iBACT;AAAK,IAAA,SAAS,EAAEnB,EAAE,CAACK,MAAM,CAACoE,YAAR,CAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,IAAI,EAAC,OADP;AAEE,IAAA,SAAS,EAAEnD,QAAQ,CAAC,CAAD,CAFrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAIE;AAAK,IAAA,SAAS,EAAEM,YAAY,CAAC,CAAD,CAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAiC;AAAK,IAAA,GAAG,EAAE8C,MAAV;AAAkB,IAAA,GAAG,EAAC,EAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAjC,CAJF,eAKE;AAAK,IAAA,SAAS,EAAErE,MAAM,CAACsE,IAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGzE,mBAAmB,CAACM,KAAK,CAACoE,WAAP,CADtB,CALF,CADF,eAUE;AACE,IAAA,IAAI,EAAC,OADP;AAEE,IAAA,SAAS,EAAEtD,QAAQ,CAAC,CAAD,CAFrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAIE;AAAK,IAAA,SAAS,EAAEM,YAAY,CAAC,CAAD,CAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAiC;AAAK,IAAA,GAAG,EAAEiD,KAAV;AAAiB,IAAA,GAAG,EAAC,EAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAjC,CAJF,eAKE;AAAK,IAAA,SAAS,EAAExE,MAAM,CAACsE,IAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGvE,sBAAsB,CAACI,KAAK,CAACsE,cAAP,CADzB,CALF,CAVF,eAmBE;AACE,IAAA,IAAI,EAAC,OADP;AAEE,IAAA,SAAS,EAAExD,QAAQ,CAAC,CAAD,CAFrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAIE;AAAK,IAAA,SAAS,EAAEM,YAAY,CAAC,CAAD,CAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAiC;AAAK,IAAA,GAAG,EAAEmD,KAAV;AAAiB,IAAA,GAAG,EAAC,EAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAjC,CAJF,eAKE;AAAK,IAAA,SAAS,EAAE1E,MAAM,CAACsE,IAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGxE,qBAAqB,CAACK,KAAK,CAACwE,aAAP,CADxB,CALF,CAnBF,CApEJ,CAPF,CAPF,CADF;AAqHD;;GA1KezE,S;UAOEb,U,EACHG,O,EAEOF,c,EACFG,Y,EAESG,S;;;MAbbM,S;AA4KhBA,SAAS,CAAC0E,YAAV,GAAyB;AACvBxE,EAAAA,SAAS,EAAE,KADY;AAEvBC,EAAAA,SAAS,EAAE,KAFY;AAGvBC,EAAAA,UAAU,EAAE,KAHW;AAIvBC,EAAAA,OAAO,EAAE,MAAM,CACd;AALsB,CAAzB;AAQAL,SAAS,CAAC2E,SAAV,GAAsB;AACpB1E,EAAAA,KAAK,EAAEhB,SAAS,CAAC2F,MAAV,CAAiBC,UADJ;AAEpB3E,EAAAA,SAAS,EAAEjB,SAAS,CAAC6F,IAFD;AAGpB3E,EAAAA,SAAS,EAAElB,SAAS,CAAC6F,IAHD;AAIpB1E,EAAAA,UAAU,EAAEnB,SAAS,CAAC6F,IAJF;AAKpBzE,EAAAA,OAAO,EAAEpB,SAAS,CAAC8F;AALC,CAAtB;AAQA/E,SAAS,CAAC0E,YAAV,GAAyB,EAAzB","sourcesContent":["import React, { lazy } from 'react';\nimport PropTypes from 'prop-types';\nimport _ from 'lodash';\nimport { useHistory } from 'react-router-dom';\nimport { useQueryParams } from 'hooks';\nimport moment from 'moment';\nimport { useShop } from 'contexts/userContext';\nimport multiIcon from 'assets/images/orders/multi/multi.svg';\nimport fIcon from 'assets/images/orders/list/bag.svg';\nimport tIcon from 'assets/images/orders/list/rocket.svg';\nimport thIcon from 'assets/images/orders/list/payment.svg';\nimport crIcon from 'assets/images/payments/chevRight.svg';\nimport { useOpenPlans } from 'contexts';\nimport { Clickable } from 'phoenix-components';\nimport cx from 'classnames';\nimport { useToggle } from 'hooks/common';\nimport { getOrderStatusLabel, getPaymentStatusLabel, getShippingStatusLabel } from 'components/orders/v2/statusUtils';\nimport styles from './OrderCard.module.css';\n\nconst UpdateDrawer = lazy(() => import(/* webpackChunkName: \"order-update-drawer\" */\n  'components/orders/v2/UpdateButtonDrawer'\n));\n\nexport function OrderCard({\n  order,\n  showAlert = false,\n  noPadding,\n  showBorder,\n  refresh,\n}) {\n  const history = useHistory();\n  const shop = useShop();\n  const image = _.get(order, 'images[0].url', '');\n  const queryParams = useQueryParams();\n  const openPlans = useOpenPlans(false, 'abandonCart');\n  const isNotMulti = _.get(order, 'items', 1) === 1;\n  const [open, toggleOpen] = useToggle();\n\n  const getClass = (type = 0) => {\n    if (type === 1) {\n      return cx(styles.badge, styles.pink);\n    }\n    if (type === 2) {\n      return cx(styles.badge, styles.blue);\n    }\n    return cx(styles.badge, styles.green);\n  };\n\n  const getIconClass = (type = 0) => {\n    if (type === 1) {\n      return cx(styles.icon, styles.pink1);\n    }\n    if (type === 2) {\n      return cx(styles.icon, styles.blue1);\n    }\n    return cx(styles.icon, styles.green1);\n  };\n\n  const onClick = () => {\n    if (showAlert) {\n      openPlans();\n      return;\n    }\n    queryParams.set('id', order._id);\n    history.push({\n      pathname: `/orders/${order._id}`,\n    });\n  };\n\n  const isMultiItem = order.items > 1;\n\n  const onCloseDrawer = () => {\n    toggleOpen();\n    refresh();\n  };\n\n  return (\n    <>\n      {open && (\n        <UpdateDrawer\n          id={order._id}\n          onClose={onCloseDrawer}\n        />\n      )}\n      <Clickable\n        onClick={onClick}\n        className={cx(styles.root, {\n          [styles.noPadding]: noPadding,\n          [styles.border]: showBorder,\n          [styles.noBorder]: !showBorder\n        })}>\n        <div className={styles.container}>\n          <div className={styles.top}>\n            <div className={styles.left}>\n              <img src={image} alt=\"\" loading=\"lazy\" />\n              {order.items > 1 && <div className={styles.multi}>{`+${order.items - 1}`}</div>}\n            </div>\n            <div className={styles.column}>\n              <div className={styles.row}>\n                <div className={styles.title} translate=\"no\">\n                  {order.title}\n                </div>\n                {order?.status === 'archived' ? (\n                  null\n                ) : (\n                  <Clickable\n                    onClick={(e) => {\n                      e.stopPropagation();\n                      toggleOpen();\n                    }}\n                    className={styles.update}\n                  >\n                    UPDATE\n                  </Clickable>\n                )}\n              </div>\n              <div className={styles.row}>\n                <div className={styles.orderId}>\n                  {order.orderId}\n                </div>\n                <div className={styles.dot} />\n                <div className={styles.date}>\n                  {moment(order.createdAt)\n                    .format('ll')}\n                </div>\n              </div>\n              <div className={styles.row}>\n                <div className={styles.price}>\n                  {shop.currency}\n                  {' '}\n                  {order.payable.toFixed(2)}\n                </div>\n                {!isMultiItem && order?.variant?.value?.length > 0 && order?.variant?.name?.length > 0 && (\n                  <div className={styles.price}>\n                    <span>\n                      {order?.variant?.value || ''}\n                      {' '}\n                      {order?.variant?.name || ''}\n                    </span>\n                  </div>\n                )}\n                {isMultiItem && order.status !== 'payment pending' && (\n                  <span className={styles.multiItem}>\n                    <img src={multiIcon} alt=\"\" />\n                    Multi Item\n                  </span>\n                )}\n                {!isMultiItem && (\n                  <div className={styles.price}>\n                    {order.quantity}\n                    {' '}\n                    Qty\n                  </div>\n                )}\n                <img className={styles.view} src={crIcon} alt=\"\" />\n              </div>\n            </div>\n          </div>\n          {isNotMulti && (\n            <div className={cx(styles.statsSection)}>\n              <div\n                size=\"small\"\n                className={getClass(0)}\n              >\n                <div className={getIconClass(0)}><img src={thIcon} alt=\"\" /></div>\n                <div className={styles.text}>\n                  {getOrderStatusLabel(order.orderStatus)}\n                </div>\n              </div>\n              <div\n                size=\"small\"\n                className={getClass(1)}\n              >\n                <div className={getIconClass(1)}><img src={tIcon} alt=\"\" /></div>\n                <div className={styles.text}>\n                  {getShippingStatusLabel(order.shippingStatus)}\n                </div>\n              </div>\n              <div\n                size=\"small\"\n                className={getClass(2)}\n              >\n                <div className={getIconClass(2)}><img src={fIcon} alt=\"\" /></div>\n                <div className={styles.text}>\n                  {getPaymentStatusLabel(order.paymentStatus)}\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </Clickable>\n    </>\n  );\n}\n\nOrderCard.defaultProps = {\n  showAlert: false,\n  noPadding: false,\n  showBorder: false,\n  refresh: () => {\n  },\n};\n\nOrderCard.propTypes = {\n  order: PropTypes.object.isRequired,\n  showAlert: PropTypes.bool,\n  noPadding: PropTypes.bool,\n  showBorder: PropTypes.bool,\n  refresh: PropTypes.func,\n};\n\nOrderCard.defaultProps = {};\n"]},"metadata":{},"sourceType":"module"}