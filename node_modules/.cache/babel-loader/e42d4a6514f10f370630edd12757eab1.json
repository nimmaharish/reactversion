{"ast":null,"code":"var _jsxFileName = \"/home/harish/windo/phoenix/src/components/overview/ShopShare.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport SnackBar from \"../../services/snackbar\";\nimport { shareShop } from \"../../utils/share\";\nimport { share } from \"../../utils\";\nimport { useInfiniteOrders } from \"../../hooks\";\nimport { LinkBar } from 'phoenix-components/lib/containers';\nimport { Button, Clickable } from 'phoenix-components';\nimport eyeIcon from \"../../assets/onboarding/eye.svg\";\nimport WebView from \"../../services/webview\";\nimport qrcodeIcon from \"../../assets/v2/overview/qrcode.svg\";\nimport { useCustomDomain, useIsFreePlan, useIsOnCustomDomain, useOpenPlans } from \"../../contexts\";\nimport { useToggle } from \"../../hooks/common\";\nimport { QRCode } from \"./lazy\";\nimport DeviceUtils from \"../../utils/deviceUtils\";\nimport styles from \"./ShopShare.module.css\";\nexport function ShopShare({\n  slug,\n  name\n}) {\n  _s();\n\n  const isCustomDomain = useIsOnCustomDomain();\n  const domain = useCustomDomain();\n  const value = isCustomDomain ? `https://${domain}` : `https://mywindo.shop/${slug}`;\n  const [activeOrders] = useInfiniteOrders({}, {\n    createdAt: 1\n  });\n  const [openQr, toggleQr] = useToggle();\n  const isFree = useIsFreePlan();\n  const openPlans = useOpenPlans();\n\n  const openQrCode = () => {\n    if (isFree) {\n      openPlans();\n      return;\n    }\n\n    toggleQr();\n  };\n\n  const copyToClipboard = () => {\n    DeviceUtils.copy(value);\n    SnackBar.show('Shop URL Copied !!!');\n  };\n\n  const shareToUser = e => {\n    e.stopPropagation();\n    e.preventDefault();\n    share(`Hello\nWe are now selling online. Please visit my WINDO Shop at\n${shareShop(slug, isCustomDomain, domain)} to buy my products.\n\nThank you\n${name}`);\n  };\n\n  const url = shareShop(slug, isCustomDomain, domain);\n\n  const openShop = e => {\n    if (WebView.isWebView()) {\n      e.preventDefault();\n      WebView.openUrl(url);\n      return;\n    }\n\n    window.open(url);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.section,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(React.Fragment, null, (activeOrders === null || activeOrders === void 0 ? void 0 : activeOrders.length) < 3 ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.head,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, \"Get your orders rolling with these easy steps:\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.sub,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.dot,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 15\n    }\n  }), \"Add your shop URL to your Instagram bio\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.sub,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.dot,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 15\n    }\n  }), \"Share your shop URL via Whatsapp and Facebook\")) : /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.head,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }, \"Share your shop more to get more orders\"), /*#__PURE__*/React.createElement(LinkBar, {\n    url: value,\n    onCopy: copyToClipboard,\n    onClick: shareToUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.shareContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"spacer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: openShop,\n    primary: false,\n    size: \"small\",\n    startIcon: eyeIcon,\n    className: styles.eye,\n    label: \"View Shop\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"spacer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Clickable, {\n    className: styles.qrCode,\n    onClick: openQrCode,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: qrcodeIcon,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, \"Scan QR\")), openQr && /*#__PURE__*/React.createElement(QRCode, {\n    url: url,\n    onClose: toggleQr,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }))));\n}\n\n_s(ShopShare, \"tBxDbcSSPx6AJSYkpQbzRFc8tic=\", false, function () {\n  return [useIsOnCustomDomain, useCustomDomain, useInfiniteOrders, useToggle, useIsFreePlan, useOpenPlans];\n});\n\n_c = ShopShare;\nShopShare.propTypes = {\n  slug: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"ShopShare\");","map":{"version":3,"sources":["/home/harish/windo/phoenix/src/components/overview/ShopShare.jsx"],"names":["React","PropTypes","SnackBar","shareShop","share","useInfiniteOrders","LinkBar","Button","Clickable","WebView","useCustomDomain","useIsFreePlan","useIsOnCustomDomain","useOpenPlans","useToggle","QRCode","DeviceUtils","styles","ShopShare","slug","name","isCustomDomain","domain","value","activeOrders","createdAt","openQr","toggleQr","isFree","openPlans","openQrCode","copyToClipboard","copy","show","shareToUser","e","stopPropagation","preventDefault","url","openShop","isWebView","openUrl","window","open","section","length","head","sub","dot","shareContainer","eyeIcon","eye","qrCode","qrcodeIcon","propTypes","string","isRequired"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport SnackBar from 'services/snackbar';\nimport { shareShop } from 'utils/share';\nimport { share } from 'utils';\nimport { useInfiniteOrders, } from 'hooks';\nimport { LinkBar } from 'phoenix-components/lib/containers';\nimport { Button, Clickable } from 'phoenix-components';\nimport eyeIcon from 'assets/onboarding/eye.svg';\nimport WebView from 'services/webview';\nimport qrcodeIcon from 'assets/v2/overview/qrcode.svg';\nimport {\n  useCustomDomain, useIsFreePlan, useIsOnCustomDomain, useOpenPlans\n} from 'contexts';\nimport { useToggle } from 'hooks/common';\nimport { QRCode } from 'components/overview/lazy';\nimport DeviceUtils from '../../utils/deviceUtils';\nimport styles from './ShopShare.module.css';\n\nexport function ShopShare({\n  slug,\n  name,\n}) {\n  const isCustomDomain = useIsOnCustomDomain();\n  const domain = useCustomDomain();\n  const value = isCustomDomain ? `https://${domain}` : `https://mywindo.shop/${slug}`;\n  const [activeOrders] = useInfiniteOrders({}, { createdAt: 1 });\n  const [openQr, toggleQr] = useToggle();\n  const isFree = useIsFreePlan();\n  const openPlans = useOpenPlans();\n\n  const openQrCode = () => {\n    if (isFree) {\n      openPlans();\n      return;\n    }\n    toggleQr();\n  };\n\n  const copyToClipboard = () => {\n    DeviceUtils.copy(value);\n    SnackBar.show('Shop URL Copied !!!');\n  };\n\n  const shareToUser = e => {\n    e.stopPropagation();\n    e.preventDefault();\n    share(`Hello\nWe are now selling online. Please visit my WINDO Shop at\n${shareShop(slug, isCustomDomain, domain)} to buy my products.\n\nThank you\n${name}`);\n  };\n\n  const url = shareShop(slug, isCustomDomain, domain);\n\n  const openShop = (e) => {\n    if (WebView.isWebView()) {\n      e.preventDefault();\n      WebView.openUrl(url);\n      return;\n    }\n    window.open(url);\n  };\n\n  return (\n    <div className={styles.section}>\n      <>\n        {activeOrders?.length < 3 ? (\n          <div>\n            <div className={styles.head}>Get your orders rolling with these easy steps:</div>\n            <div className={styles.sub}>\n              <span className={styles.dot} />\n              Add your shop URL to your Instagram bio\n            </div>\n            <div className={styles.sub}>\n              <span className={styles.dot} />\n              Share your shop URL via Whatsapp and Facebook\n            </div>\n          </div>\n        ) : (\n          <div className={styles.head}>Share your shop more to get more orders</div>\n        )}\n        <LinkBar url={value} onCopy={copyToClipboard} onClick={shareToUser} />\n        <div className={styles.shareContainer}>\n          <div className=\"spacer\" />\n          <div>\n            <Button\n              onClick={openShop}\n              primary={false}\n              size=\"small\"\n              startIcon={eyeIcon}\n              className={styles.eye}\n              label=\"View Shop\"\n            />\n          </div>\n          <div className=\"spacer\" />\n          <Clickable className={styles.qrCode} onClick={openQrCode}>\n            <img src={qrcodeIcon} alt=\"\" />\n            <span>Scan QR</span>\n          </Clickable>\n          {openQr && (\n            <QRCode url={url} onClose={toggleQr} />\n          )}\n        </div>\n      </>\n    </div>\n  );\n}\n\nShopShare.propTypes = {\n  slug: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n};\n"]},"metadata":{},"sourceType":"module"}