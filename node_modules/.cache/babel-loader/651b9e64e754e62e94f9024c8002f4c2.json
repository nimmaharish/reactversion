{"ast":null,"code":"var _jsxFileName = \"/home/harish/windo/phoenix/src/components/payments/OrderCard.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport _ from 'lodash';\nimport { LightBlueTile } from \"../cards\";\nimport { Badge } from 'phoenix-components';\nimport moment from 'moment';\nimport cx from 'classnames';\nimport { useHistory } from 'react-router-dom';\nimport { useQueryParams } from \"../../hooks\";\nimport crIcon from \"../../assets/images/payments/chevRight.svg\";\nimport { useShop } from \"../../contexts/userContext\";\nimport { getPaymentStatusLabel } from \"../orders/v2/statusUtils\";\nimport styles from \"./OrderCard.module.css\";\nexport function OrderCard({\n  order,\n  noBorder\n}) {\n  _s();\n\n  var _order$amount;\n\n  const history = useHistory();\n  const shop = useShop();\n\n  const image = _.get(order, 'images.[0].url', '');\n\n  const queryParams = useQueryParams();\n\n  const onClick = () => {\n    queryParams.set('id', order._id);\n    history.push({\n      pathname: `/orders/${order._id}`\n    });\n  };\n\n  const getPsStatus = item => getPaymentStatusLabel(item === null || item === void 0 ? void 0 : item.status);\n\n  const getPmStatus = item => {\n    var _item$paymentMode;\n\n    const status = item === null || item === void 0 ? void 0 : (_item$paymentMode = item.paymentMode) === null || _item$paymentMode === void 0 ? void 0 : _item$paymentMode.toLowerCase();\n\n    if (['custompayment'].includes(status)) {\n      return 'Custom Payment';\n    }\n\n    if (['online'].includes(status)) {\n      return 'Online';\n    }\n\n    if (['cod'].includes(status)) {\n      return 'Cash';\n    }\n\n    return status;\n  };\n\n  const getClass = (isMode = false) => {\n    if (!isMode) {\n      return cx(styles.badge, styles.pink);\n    }\n\n    return cx(styles.badge, styles.green);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    onClick: onClick,\n    className: cx(styles.root, {\n      [styles.noBorder]: !noBorder\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(LightBlueTile, {\n    className: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.top,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.left,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: image,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.right,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.orderId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, `Order id : ${order.orderId}`), /*#__PURE__*/React.createElement(\"div\", {\n    className: cx(styles.price, 'flexStart'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: cx(styles.currency),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 15\n    }\n  }, shop.currency), ' ', order === null || order === void 0 ? void 0 : (_order$amount = order.amount) === null || _order$amount === void 0 ? void 0 : _order$amount.toFixed(2), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.date,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 15\n    }\n  }, moment(order.updatedAt).format('LL')))), /*#__PURE__*/React.createElement(\"img\", {\n    src: crIcon,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: cx(styles.statsSection),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Badge, {\n    size: \"small\",\n    className: getClass(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, getPmStatus(order)), /*#__PURE__*/React.createElement(Badge, {\n    size: \"small\",\n    className: getClass(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }, getPsStatus(order)))));\n}\n\n_s(OrderCard, \"S4jT7ZANd67TNzzz2zjfUwomcVc=\", false, function () {\n  return [useHistory, useShop, useQueryParams];\n});\n\n_c = OrderCard;\nOrderCard.propTypes = {\n  order: PropTypes.object.isRequired,\n  noBorder: PropTypes.bool\n};\nOrderCard.defaultProps = {\n  noBorder: true\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"OrderCard\");","map":{"version":3,"sources":["/home/harish/windo/phoenix/src/components/payments/OrderCard.jsx"],"names":["React","PropTypes","_","LightBlueTile","Badge","moment","cx","useHistory","useQueryParams","useShop","getPaymentStatusLabel","styles","OrderCard","order","noBorder","history","shop","image","get","queryParams","onClick","set","_id","push","pathname","getPsStatus","item","status","getPmStatus","paymentMode","toLowerCase","includes","getClass","isMode","badge","pink","green","root","container","top","left","right","orderId","price","currency","amount","toFixed","date","updatedAt","format","crIcon","statsSection","propTypes","object","isRequired","bool","defaultProps"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,SAASC,aAAT;AACA,SAASC,KAAT,QAAsB,oBAAtB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,EAAP,MAAe,YAAf;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,cAAT;;AAEA,SAASC,OAAT;AACA,SAASC,qBAAT;AACA,OAAOC,MAAP;AAEA,OAAO,SAASC,SAAT,CAAmB;AACxBC,EAAAA,KADwB;AAExBC,EAAAA;AAFwB,CAAnB,EAGJ;AAAA;;AAAA;;AACD,QAAMC,OAAO,GAAGR,UAAU,EAA1B;AACA,QAAMS,IAAI,GAAGP,OAAO,EAApB;;AACA,QAAMQ,KAAK,GAAGf,CAAC,CAACgB,GAAF,CAAML,KAAN,EAAa,gBAAb,EAA+B,EAA/B,CAAd;;AACA,QAAMM,WAAW,GAAGX,cAAc,EAAlC;;AAEA,QAAMY,OAAO,GAAG,MAAM;AACpBD,IAAAA,WAAW,CAACE,GAAZ,CAAgB,IAAhB,EAAsBR,KAAK,CAACS,GAA5B;AACAP,IAAAA,OAAO,CAACQ,IAAR,CAAa;AACXC,MAAAA,QAAQ,EAAG,WAAUX,KAAK,CAACS,GAAI;AADpB,KAAb;AAGD,GALD;;AAOA,QAAMG,WAAW,GAAIC,IAAD,IAAUhB,qBAAqB,CAACgB,IAAD,aAACA,IAAD,uBAACA,IAAI,CAAEC,MAAP,CAAnD;;AAEA,QAAMC,WAAW,GAAIF,IAAD,IAAU;AAAA;;AAC5B,UAAMC,MAAM,GAAGD,IAAH,aAAGA,IAAH,4CAAGA,IAAI,CAAEG,WAAT,sDAAG,kBAAmBC,WAAnB,EAAf;;AACA,QAAI,CAAC,eAAD,EAAkBC,QAAlB,CAA2BJ,MAA3B,CAAJ,EAAwC;AACtC,aAAO,gBAAP;AACD;;AACD,QAAI,CAAC,QAAD,EAAWI,QAAX,CAAoBJ,MAApB,CAAJ,EAAiC;AAC/B,aAAO,QAAP;AACD;;AACD,QAAI,CAAC,KAAD,EAAQI,QAAR,CAAiBJ,MAAjB,CAAJ,EAA8B;AAC5B,aAAO,MAAP;AACD;;AACD,WAAOA,MAAP;AACD,GAZD;;AAcA,QAAMK,QAAQ,GAAG,CAACC,MAAM,GAAG,KAAV,KAAoB;AACnC,QAAI,CAACA,MAAL,EAAa;AACX,aAAO3B,EAAE,CAACK,MAAM,CAACuB,KAAR,EAAevB,MAAM,CAACwB,IAAtB,CAAT;AACD;;AACD,WAAO7B,EAAE,CAACK,MAAM,CAACuB,KAAR,EAAevB,MAAM,CAACyB,KAAtB,CAAT;AACD,GALD;;AAOA,sBACE;AAAK,IAAA,OAAO,EAAEhB,OAAd;AAAuB,IAAA,SAAS,EAAEd,EAAE,CAACK,MAAM,CAAC0B,IAAR,EAAc;AAAE,OAAC1B,MAAM,CAACG,QAAR,GAAmB,CAACA;AAAtB,KAAd,CAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,aAAD;AAAe,IAAA,SAAS,EAAEH,MAAM,CAAC2B,SAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAE3B,MAAM,CAAC4B,GAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAE5B,MAAM,CAAC6B,IAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,GAAG,EAAEvB,KAAV;AAAiB,IAAA,GAAG,EAAC,EAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eAIE;AAAK,IAAA,SAAS,EAAEN,MAAM,CAAC8B,KAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAE9B,MAAM,CAAC+B,OAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,cAAa7B,KAAK,CAAC6B,OAAQ,EAD/B,CADF,eAIE;AAAK,IAAA,SAAS,EAAEpC,EAAE,CAACK,MAAM,CAACgC,KAAR,EAAe,WAAf,CAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAErC,EAAE,CAACK,MAAM,CAACiC,QAAR,CAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAsC5B,IAAI,CAAC4B,QAA3C,CADF,EAEG,GAFH,EAGG/B,KAHH,aAGGA,KAHH,wCAGGA,KAAK,CAAEgC,MAHV,kDAGG,cAAeC,OAAf,CAAuB,CAAvB,CAHH,eAIE;AAAK,IAAA,SAAS,EAAEnC,MAAM,CAACoC,IAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG1C,MAAM,CAACQ,KAAK,CAACmC,SAAP,CAAN,CACEC,MADF,CACS,IADT,CADH,CAJF,CAJF,CAJF,eAkBE;AAAK,IAAA,GAAG,EAAEC,MAAV;AAAkB,IAAA,GAAG,EAAC,EAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAlBF,CADF,eAqBE;AAAK,IAAA,SAAS,EAAE5C,EAAE,CAACK,MAAM,CAACwC,YAAR,CAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AACE,IAAA,IAAI,EAAC,OADP;AAEE,IAAA,SAAS,EAAEnB,QAAQ,CAAC,IAAD,CAFrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIGJ,WAAW,CAACf,KAAD,CAJd,CADF,eAOE,oBAAC,KAAD;AACE,IAAA,IAAI,EAAC,OADP;AAEE,IAAA,SAAS,EAAEmB,QAAQ,CAAC,KAAD,CAFrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIGP,WAAW,CAACZ,KAAD,CAJd,CAPF,CArBF,CADF,CADF;AAwCD;;GA/EeD,S;UAIEL,U,EACHE,O,EAEOD,c;;;KAPNI,S;AAiFhBA,SAAS,CAACwC,SAAV,GAAsB;AACpBvC,EAAAA,KAAK,EAAEZ,SAAS,CAACoD,MAAV,CAAiBC,UADJ;AAEpBxC,EAAAA,QAAQ,EAAEb,SAAS,CAACsD;AAFA,CAAtB;AAKA3C,SAAS,CAAC4C,YAAV,GAAyB;AACvB1C,EAAAA,QAAQ,EAAE;AADa,CAAzB","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport _ from 'lodash';\nimport { LightBlueTile } from 'components/cards';\nimport { Badge } from 'phoenix-components';\nimport moment from 'moment';\nimport cx from 'classnames';\nimport { useHistory } from 'react-router-dom';\nimport { useQueryParams } from 'hooks';\nimport crIcon from 'assets/images/payments/chevRight.svg';\nimport { useShop } from 'contexts/userContext';\nimport { getPaymentStatusLabel } from 'components/orders/v2/statusUtils';\nimport styles from './OrderCard.module.css';\n\nexport function OrderCard({\n  order,\n  noBorder\n}) {\n  const history = useHistory();\n  const shop = useShop();\n  const image = _.get(order, 'images.[0].url', '');\n  const queryParams = useQueryParams();\n\n  const onClick = () => {\n    queryParams.set('id', order._id);\n    history.push({\n      pathname: `/orders/${order._id}`,\n    });\n  };\n\n  const getPsStatus = (item) => getPaymentStatusLabel(item?.status);\n\n  const getPmStatus = (item) => {\n    const status = item?.paymentMode?.toLowerCase();\n    if (['custompayment'].includes(status)) {\n      return 'Custom Payment';\n    }\n    if (['online'].includes(status)) {\n      return 'Online';\n    }\n    if (['cod'].includes(status)) {\n      return 'Cash';\n    }\n    return status;\n  };\n\n  const getClass = (isMode = false) => {\n    if (!isMode) {\n      return cx(styles.badge, styles.pink);\n    }\n    return cx(styles.badge, styles.green);\n  };\n\n  return (\n    <div onClick={onClick} className={cx(styles.root, { [styles.noBorder]: !noBorder })}>\n      <LightBlueTile className={styles.container}>\n        <div className={styles.top}>\n          <div className={styles.left}>\n            <img src={image} alt=\"\" />\n          </div>\n          <div className={styles.right}>\n            <div className={styles.orderId}>\n              {`Order id : ${order.orderId}`}\n            </div>\n            <div className={cx(styles.price, 'flexStart')}>\n              <div className={cx(styles.currency)}>{shop.currency}</div>\n              {' '}\n              {order?.amount?.toFixed(2)}\n              <div className={styles.date}>\n                {moment(order.updatedAt)\n                  .format('LL')}\n              </div>\n            </div>\n          </div>\n          <img src={crIcon} alt=\"\" />\n        </div>\n        <div className={cx(styles.statsSection)}>\n          <Badge\n            size=\"small\"\n            className={getClass(true)}\n          >\n            {getPmStatus(order)}\n          </Badge>\n          <Badge\n            size=\"small\"\n            className={getClass(false)}\n          >\n            {getPsStatus(order)}\n          </Badge>\n        </div>\n      </LightBlueTile>\n    </div>\n  );\n}\n\nOrderCard.propTypes = {\n  order: PropTypes.object.isRequired,\n  noBorder: PropTypes.bool\n};\n\nOrderCard.defaultProps = {\n  noBorder: true\n};\n"]},"metadata":{},"sourceType":"module"}