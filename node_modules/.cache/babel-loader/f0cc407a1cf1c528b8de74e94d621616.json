{"ast":null,"code":"export var globalState = {\n  fetchInProgress: false\n};\nexport function apmSymbol(name) {\n  return '__apm_symbol__' + name;\n}\n\nfunction isPropertyWritable(propertyDesc) {\n  if (!propertyDesc) {\n    return true;\n  }\n\n  if (propertyDesc.writable === false) {\n    return false;\n  }\n\n  return !(typeof propertyDesc.get === 'function' && typeof propertyDesc.set === 'undefined');\n}\n\nfunction attachOriginToPatched(patched, original) {\n  patched[apmSymbol('OriginalDelegate')] = original;\n}\n\nexport function patchMethod(target, name, patchFn) {\n  var proto = target;\n\n  while (proto && !proto.hasOwnProperty(name)) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  if (!proto && target[name]) {\n    proto = target;\n  }\n\n  var delegateName = apmSymbol(name);\n  var delegate;\n\n  if (proto && !(delegate = proto[delegateName])) {\n    delegate = proto[delegateName] = proto[name];\n    var desc = proto && Object.getOwnPropertyDescriptor(proto, name);\n\n    if (isPropertyWritable(desc)) {\n      var patchDelegate = patchFn(delegate, delegateName, name);\n\n      proto[name] = function () {\n        return patchDelegate(this, arguments);\n      };\n\n      attachOriginToPatched(proto[name], delegate);\n    }\n  }\n\n  return delegate;\n}\nexport var XHR_IGNORE = apmSymbol('xhrIgnore');\nexport var XHR_SYNC = apmSymbol('xhrSync');\nexport var XHR_URL = apmSymbol('xhrURL');\nexport var XHR_METHOD = apmSymbol('xhrMethod');","map":{"version":3,"sources":["/home/harish/windo/phoenix/node_modules/@elastic/apm-rum-core/dist/es/common/patching/patch-utils.js"],"names":["globalState","fetchInProgress","apmSymbol","name","isPropertyWritable","propertyDesc","writable","get","set","attachOriginToPatched","patched","original","patchMethod","target","patchFn","proto","hasOwnProperty","Object","getPrototypeOf","delegateName","delegate","desc","getOwnPropertyDescriptor","patchDelegate","arguments","XHR_IGNORE","XHR_SYNC","XHR_URL","XHR_METHOD"],"mappings":"AAAA,OAAO,IAAIA,WAAW,GAAG;AACvBC,EAAAA,eAAe,EAAE;AADM,CAAlB;AAGP,OAAO,SAASC,SAAT,CAAmBC,IAAnB,EAAyB;AAC9B,SAAO,mBAAmBA,IAA1B;AACD;;AAED,SAASC,kBAAT,CAA4BC,YAA5B,EAA0C;AACxC,MAAI,CAACA,YAAL,EAAmB;AACjB,WAAO,IAAP;AACD;;AAED,MAAIA,YAAY,CAACC,QAAb,KAA0B,KAA9B,EAAqC;AACnC,WAAO,KAAP;AACD;;AAED,SAAO,EAAE,OAAOD,YAAY,CAACE,GAApB,KAA4B,UAA5B,IAA0C,OAAOF,YAAY,CAACG,GAApB,KAA4B,WAAxE,CAAP;AACD;;AAED,SAASC,qBAAT,CAA+BC,OAA/B,EAAwCC,QAAxC,EAAkD;AAChDD,EAAAA,OAAO,CAACR,SAAS,CAAC,kBAAD,CAAV,CAAP,GAAyCS,QAAzC;AACD;;AAED,OAAO,SAASC,WAAT,CAAqBC,MAArB,EAA6BV,IAA7B,EAAmCW,OAAnC,EAA4C;AACjD,MAAIC,KAAK,GAAGF,MAAZ;;AAEA,SAAOE,KAAK,IAAI,CAACA,KAAK,CAACC,cAAN,CAAqBb,IAArB,CAAjB,EAA6C;AAC3CY,IAAAA,KAAK,GAAGE,MAAM,CAACC,cAAP,CAAsBH,KAAtB,CAAR;AACD;;AAED,MAAI,CAACA,KAAD,IAAUF,MAAM,CAACV,IAAD,CAApB,EAA4B;AAC1BY,IAAAA,KAAK,GAAGF,MAAR;AACD;;AAED,MAAIM,YAAY,GAAGjB,SAAS,CAACC,IAAD,CAA5B;AACA,MAAIiB,QAAJ;;AAEA,MAAIL,KAAK,IAAI,EAAEK,QAAQ,GAAGL,KAAK,CAACI,YAAD,CAAlB,CAAb,EAAgD;AAC9CC,IAAAA,QAAQ,GAAGL,KAAK,CAACI,YAAD,CAAL,GAAsBJ,KAAK,CAACZ,IAAD,CAAtC;AACA,QAAIkB,IAAI,GAAGN,KAAK,IAAIE,MAAM,CAACK,wBAAP,CAAgCP,KAAhC,EAAuCZ,IAAvC,CAApB;;AAEA,QAAIC,kBAAkB,CAACiB,IAAD,CAAtB,EAA8B;AAC5B,UAAIE,aAAa,GAAGT,OAAO,CAACM,QAAD,EAAWD,YAAX,EAAyBhB,IAAzB,CAA3B;;AAEAY,MAAAA,KAAK,CAACZ,IAAD,CAAL,GAAc,YAAY;AACxB,eAAOoB,aAAa,CAAC,IAAD,EAAOC,SAAP,CAApB;AACD,OAFD;;AAIAf,MAAAA,qBAAqB,CAACM,KAAK,CAACZ,IAAD,CAAN,EAAciB,QAAd,CAArB;AACD;AACF;;AAED,SAAOA,QAAP;AACD;AACD,OAAO,IAAIK,UAAU,GAAGvB,SAAS,CAAC,WAAD,CAA1B;AACP,OAAO,IAAIwB,QAAQ,GAAGxB,SAAS,CAAC,SAAD,CAAxB;AACP,OAAO,IAAIyB,OAAO,GAAGzB,SAAS,CAAC,QAAD,CAAvB;AACP,OAAO,IAAI0B,UAAU,GAAG1B,SAAS,CAAC,WAAD,CAA1B","sourcesContent":["export var globalState = {\n  fetchInProgress: false\n};\nexport function apmSymbol(name) {\n  return '__apm_symbol__' + name;\n}\n\nfunction isPropertyWritable(propertyDesc) {\n  if (!propertyDesc) {\n    return true;\n  }\n\n  if (propertyDesc.writable === false) {\n    return false;\n  }\n\n  return !(typeof propertyDesc.get === 'function' && typeof propertyDesc.set === 'undefined');\n}\n\nfunction attachOriginToPatched(patched, original) {\n  patched[apmSymbol('OriginalDelegate')] = original;\n}\n\nexport function patchMethod(target, name, patchFn) {\n  var proto = target;\n\n  while (proto && !proto.hasOwnProperty(name)) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  if (!proto && target[name]) {\n    proto = target;\n  }\n\n  var delegateName = apmSymbol(name);\n  var delegate;\n\n  if (proto && !(delegate = proto[delegateName])) {\n    delegate = proto[delegateName] = proto[name];\n    var desc = proto && Object.getOwnPropertyDescriptor(proto, name);\n\n    if (isPropertyWritable(desc)) {\n      var patchDelegate = patchFn(delegate, delegateName, name);\n\n      proto[name] = function () {\n        return patchDelegate(this, arguments);\n      };\n\n      attachOriginToPatched(proto[name], delegate);\n    }\n  }\n\n  return delegate;\n}\nexport var XHR_IGNORE = apmSymbol('xhrIgnore');\nexport var XHR_SYNC = apmSymbol('xhrSync');\nexport var XHR_URL = apmSymbol('xhrURL');\nexport var XHR_METHOD = apmSymbol('xhrMethod');"]},"metadata":{},"sourceType":"module"}