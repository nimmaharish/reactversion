{"ast":null,"code":"var _jsxFileName = \"/home/harish/windo/phoenix/src/components/testimonials/TestimonialsCard.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Formik } from 'formik';\nimport cx from 'classnames';\nimport { Switch } from 'phoenix-components/lib/formik';\nimport editIcon from \"../../assets/v2/settings/domain/edit.svg\";\nimport { DeleteAlert } from \"../shared/DeleteAlert\";\nimport Loader from \"../../services/loader\";\nimport { useTestimonials } from \"../../hooks/common\";\nimport SnackBar from \"../../services/snackbar\";\nimport deleteIcon from \"../../assets/overview/deleteIcon.svg\";\nimport { Clickable } from 'phoenix-components';\nimport { useToggle } from \"../../hooks/common\";\nimport defaultPicIcon from \"../../assets/images/testimonials/defaultpic.svg\";\nimport { Becca } from \"../../api\";\nimport styles from \"./TestimonialsCard.module.css\";\nexport default function TestimonialsCard({\n  testimonials,\n  count,\n  handleEdit,\n  handleRef\n}) {\n  _s();\n\n  const [dlt, toggleDlt] = useToggle(false);\n  const [data] = useTestimonials();\n\n  const submitForm = async values => {\n    data.forEach((item, index) => {\n      if (item._id === values._id) {\n        data[index].enabled = !values.enabled;\n      }\n    });\n\n    try {\n      Loader.show();\n      await Becca.updateUiConfig('testimonials', data);\n      handleRef();\n      SnackBar.show('Status updated successfully', 'success');\n    } catch (e) {\n      SnackBar.showError(e);\n    } finally {\n      Loader.hide();\n    }\n  };\n\n  const handleDelete = async id => {\n    const newData = data.filter(details => details._id !== id);\n\n    try {\n      Loader.show();\n      await Becca.updateUiConfig('testimonials', [...newData]);\n      handleRef();\n      SnackBar.show(' Deleted successfully', 'success');\n    } catch (e) {\n      SnackBar.showError(e);\n    } finally {\n      Loader.hide();\n    }\n\n    toggleDlt();\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Formik, {\n    initialValues: testimonials,\n    onSubmit: submitForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, ({\n    submitForm\n  }) => /*#__PURE__*/React.createElement(\"div\", {\n    className: cx(styles.CardMainContainer, {\n      [styles.removeMargin]: count === 0\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.section1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.profilePhotoContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: testimonials.customerImage === '' ? defaultPicIcon : testimonials.customerImage,\n    alt: \"\",\n    className: styles.profilePic,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, testimonials.name)), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.switchs,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Switch, {\n    name: \"enabled\",\n    onChange: () => {\n      submitForm();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }))), testimonials.type === 'image' && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.testimonialImageCon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: testimonials.testimonialImage,\n    alt: \"\",\n    className: styles.testimonialsImage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  })), testimonials.type === 'message' && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.section2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 15\n    }\n  }, testimonials.message), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.section3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Clickable, {\n    onClick: toggleDlt,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: deleteIcon,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Clickable, {\n    className: styles.editIcon,\n    onClick: () => {\n      handleEdit(testimonials);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: editIcon,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }))), dlt && /*#__PURE__*/React.createElement(DeleteAlert, {\n    title: \"Are you sure you want to permanently delete this testimonial?\",\n    onCancel: toggleDlt,\n    primary: \"Yes\",\n    secondary: \"No\",\n    onDelete: () => {\n      handleDelete(testimonials._id);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 15\n    }\n  }))));\n}\n\n_s(TestimonialsCard, \"2IK8fXum1mLSkehK8OD1Z+IxdnA=\", false, function () {\n  return [useToggle, useTestimonials];\n});\n\n_c = TestimonialsCard;\nTestimonialsCard.propTypes = {\n  testimonials: PropTypes.object.isRequired,\n  count: PropTypes.number.isRequired,\n  handleEdit: PropTypes.func.isRequired,\n  handleRef: PropTypes.func.isRequired\n};\nTestimonialsCard.defaultProps = {};\n\nvar _c;\n\n$RefreshReg$(_c, \"TestimonialsCard\");","map":{"version":3,"sources":["/home/harish/windo/phoenix/src/components/testimonials/TestimonialsCard.jsx"],"names":["React","PropTypes","Formik","cx","Switch","DeleteAlert","Loader","useTestimonials","SnackBar","Clickable","useToggle","Becca","styles","TestimonialsCard","testimonials","count","handleEdit","handleRef","dlt","toggleDlt","data","submitForm","values","forEach","item","index","_id","enabled","show","updateUiConfig","e","showError","hide","handleDelete","id","newData","filter","details","CardMainContainer","removeMargin","section1","profilePhotoContainer","customerImage","defaultPicIcon","profilePic","name","switchs","type","testimonialImageCon","testimonialImage","testimonialsImage","section2","message","section3","deleteIcon","editIcon","propTypes","object","isRequired","number","func","defaultProps"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,MAAT,QAAuB,QAAvB;AACA,OAAOC,EAAP,MAAe,YAAf;AACA,SAASC,MAAT,QAAuB,+BAAvB;;AAEA,SAASC,WAAT;AACA,OAAOC,MAAP;AACA,SAASC,eAAT;AACA,OAAOC,QAAP;;AAEA,SAASC,SAAT,QAA0B,oBAA1B;AACA,SAASC,SAAT;;AAEA,SAASC,KAAT;AACA,OAAOC,MAAP;AACA,eAAe,SAASC,gBAAT,CAA0B;AACvCC,EAAAA,YADuC;AACzBC,EAAAA,KADyB;AAClBC,EAAAA,UADkB;AACNC,EAAAA;AADM,CAA1B,EAEZ;AAAA;;AACD,QAAM,CAACC,GAAD,EAAMC,SAAN,IAAmBT,SAAS,CAAC,KAAD,CAAlC;AACA,QAAM,CAACU,IAAD,IAASb,eAAe,EAA9B;;AAEA,QAAMc,UAAU,GAAG,MAAOC,MAAP,IAAkB;AACnCF,IAAAA,IAAI,CAACG,OAAL,CAAa,CAACC,IAAD,EAAOC,KAAP,KAAiB;AAC5B,UAAID,IAAI,CAACE,GAAL,KAAaJ,MAAM,CAACI,GAAxB,EAA6B;AAC3BN,QAAAA,IAAI,CAACK,KAAD,CAAJ,CAAYE,OAAZ,GAAsB,CAACL,MAAM,CAACK,OAA9B;AACD;AACF,KAJD;;AAKA,QAAI;AACFrB,MAAAA,MAAM,CAACsB,IAAP;AACA,YAAMjB,KAAK,CAACkB,cAAN,CAAqB,cAArB,EAAqCT,IAArC,CAAN;AACAH,MAAAA,SAAS;AACTT,MAAAA,QAAQ,CAACoB,IAAT,CAAc,6BAAd,EAA6C,SAA7C;AACD,KALD,CAKE,OAAOE,CAAP,EAAU;AACVtB,MAAAA,QAAQ,CAACuB,SAAT,CAAmBD,CAAnB;AACD,KAPD,SAOU;AACRxB,MAAAA,MAAM,CAAC0B,IAAP;AACD;AACF,GAhBD;;AAkBA,QAAMC,YAAY,GAAG,MAAOC,EAAP,IAAc;AACjC,UAAMC,OAAO,GAAGf,IAAI,CAACgB,MAAL,CACbC,OAAD,IAAaA,OAAO,CAACX,GAAR,KAAgBQ,EADf,CAAhB;;AAGA,QAAI;AACF5B,MAAAA,MAAM,CAACsB,IAAP;AACA,YAAMjB,KAAK,CAACkB,cAAN,CAAqB,cAArB,EAAqC,CAAC,GAAGM,OAAJ,CAArC,CAAN;AACAlB,MAAAA,SAAS;AACTT,MAAAA,QAAQ,CAACoB,IAAT,CAAc,uBAAd,EAAuC,SAAvC;AACD,KALD,CAKE,OAAOE,CAAP,EAAU;AACVtB,MAAAA,QAAQ,CAACuB,SAAT,CAAmBD,CAAnB;AACD,KAPD,SAOU;AACRxB,MAAAA,MAAM,CAAC0B,IAAP;AACD;;AACDb,IAAAA,SAAS;AACV,GAfD;;AAiBA,sBACE,uDACE,oBAAC,MAAD;AACE,IAAA,aAAa,EAAEL,YADjB;AAEE,IAAA,QAAQ,EAAEO,UAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIG,CAAC;AAAEA,IAAAA;AAAF,GAAD,kBACC;AACE,IAAA,SAAS,EAAElB,EAAE,CAACS,MAAM,CAAC0B,iBAAR,EAA2B;AACtC,OAAC1B,MAAM,CAAC2B,YAAR,GAAuBxB,KAAK,KAAK;AADK,KAA3B,CADf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAIE;AAAK,IAAA,SAAS,EAAEH,MAAM,CAAC4B,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAE5B,MAAM,CAAC6B,qBAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,GAAG,EAAE3B,YAAY,CAAC4B,aAAb,KAA+B,EAA/B,GAAoCC,cAApC,GAAqD7B,YAAY,CAAC4B,aADzE;AAEE,IAAA,GAAG,EAAC,EAFN;AAGE,IAAA,SAAS,EAAE9B,MAAM,CAACgC,UAHpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAKE;AAAK,IAAA,SAAS,EAAEhC,MAAM,CAACiC,IAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG/B,YAAY,CAAC+B,IADhB,CALF,CADF,eAUE;AAAK,IAAA,SAAS,EAAEjC,MAAM,CAACkC,OAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AACE,IAAA,IAAI,EAAC,SADP;AAEE,IAAA,QAAQ,EAAE,MAAM;AACdzB,MAAAA,UAAU;AACX,KAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAVF,CAJF,EAuBGP,YAAY,CAACiC,IAAb,KAAsB,OAAtB,iBACC;AAAK,IAAA,SAAS,EAAEnC,MAAM,CAACoC,mBAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,GAAG,EAAElC,YAAY,CAACmC,gBAAvB;AAAyC,IAAA,GAAG,EAAC,EAA7C;AAAgD,IAAA,SAAS,EAAErC,MAAM,CAACsC,iBAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAxBJ,EA4BGpC,YAAY,CAACiC,IAAb,KAAsB,SAAtB,iBACC;AAAK,IAAA,SAAS,EAAEnC,MAAM,CAACuC,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGrC,YAAY,CAACsC,OADhB,CA7BJ,eAiCE;AAAK,IAAA,SAAS,EAAExC,MAAM,CAACyC,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAW,IAAA,OAAO,EAAElC,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,GAAG,EAAEmC,UAAV;AAAsB,IAAA,GAAG,EAAC,EAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eAIE,oBAAC,SAAD;AACE,IAAA,SAAS,EAAE1C,MAAM,CAAC2C,QADpB;AAEE,IAAA,OAAO,EAAE,MAAM;AAAEvC,MAAAA,UAAU,CAACF,YAAD,CAAV;AAA2B,KAF9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAIE;AAAK,IAAA,GAAG,EAAEyC,QAAV;AAAoB,IAAA,GAAG,EAAC,EAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,CAJF,CAjCF,EA4CGrC,GAAG,iBACF,oBAAC,WAAD;AACE,IAAA,KAAK,EAAC,+DADR;AAEE,IAAA,QAAQ,EAAEC,SAFZ;AAGE,IAAA,OAAO,EAAC,KAHV;AAIE,IAAA,SAAS,EAAC,IAJZ;AAKE,IAAA,QAAQ,EAAE,MAAM;AACdc,MAAAA,YAAY,CAACnB,YAAY,CAACY,GAAd,CAAZ;AACD,KAPH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA7CJ,CALJ,CADF,CADF;AAoED;;GA7GuBb,gB;UAGGH,S,EACVH,e;;;KAJOM,gB;AA+GxBA,gBAAgB,CAAC2C,SAAjB,GAA6B;AAC3B1C,EAAAA,YAAY,EAAEb,SAAS,CAACwD,MAAV,CAAiBC,UADJ;AAE3B3C,EAAAA,KAAK,EAAEd,SAAS,CAAC0D,MAAV,CAAiBD,UAFG;AAG3B1C,EAAAA,UAAU,EAAEf,SAAS,CAAC2D,IAAV,CAAeF,UAHA;AAI3BzC,EAAAA,SAAS,EAAEhB,SAAS,CAAC2D,IAAV,CAAeF;AAJC,CAA7B;AAOA7C,gBAAgB,CAACgD,YAAjB,GAAgC,EAAhC","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Formik } from 'formik';\nimport cx from 'classnames';\nimport { Switch } from 'phoenix-components/lib/formik';\nimport editIcon from 'assets/v2/settings/domain/edit.svg';\nimport { DeleteAlert } from 'components/shared/DeleteAlert';\nimport Loader from 'services/loader';\nimport { useTestimonials } from 'hooks/common';\nimport SnackBar from 'services/snackbar';\nimport deleteIcon from 'assets/overview/deleteIcon.svg';\nimport { Clickable } from 'phoenix-components';\nimport { useToggle } from 'hooks/common';\nimport defaultPicIcon from 'assets/images/testimonials/defaultpic.svg';\nimport { Becca } from '../../api';\nimport styles from './TestimonialsCard.module.css';\nexport default function TestimonialsCard({\n  testimonials, count, handleEdit, handleRef\n}) {\n  const [dlt, toggleDlt] = useToggle(false);\n  const [data] = useTestimonials();\n\n  const submitForm = async (values) => {\n    data.forEach((item, index) => {\n      if (item._id === values._id) {\n        data[index].enabled = !values.enabled;\n      }\n    });\n    try {\n      Loader.show();\n      await Becca.updateUiConfig('testimonials', data);\n      handleRef();\n      SnackBar.show('Status updated successfully', 'success');\n    } catch (e) {\n      SnackBar.showError(e);\n    } finally {\n      Loader.hide();\n    }\n  };\n\n  const handleDelete = async (id) => {\n    const newData = data.filter(\n      (details) => details._id !== id\n    );\n    try {\n      Loader.show();\n      await Becca.updateUiConfig('testimonials', [...newData]);\n      handleRef();\n      SnackBar.show(' Deleted successfully', 'success');\n    } catch (e) {\n      SnackBar.showError(e);\n    } finally {\n      Loader.hide();\n    }\n    toggleDlt();\n  };\n\n  return (\n    <>\n      <Formik\n        initialValues={testimonials}\n        onSubmit={submitForm}\n      >\n        {({ submitForm }) => (\n          <div\n            className={cx(styles.CardMainContainer, {\n              [styles.removeMargin]: count === 0\n            })}>\n            <div className={styles.section1}>\n              <div className={styles.profilePhotoContainer}>\n                <img\n                  src={testimonials.customerImage === '' ? defaultPicIcon : testimonials.customerImage}\n                  alt=\"\"\n                  className={styles.profilePic} />\n                <div className={styles.name}>\n                  {testimonials.name}\n                </div>\n              </div>\n              <div className={styles.switchs}>\n                <Switch\n                  name=\"enabled\"\n                  onChange={() => {\n                    submitForm();\n                  }}\n                />\n              </div>\n            </div>\n            {testimonials.type === 'image' && (\n              <div className={styles.testimonialImageCon}>\n                <img src={testimonials.testimonialImage} alt=\"\" className={styles.testimonialsImage} />\n              </div>\n            )}\n            {testimonials.type === 'message' && (\n              <div className={styles.section2}>\n                {testimonials.message}\n              </div>\n            )}\n            <div className={styles.section3}>\n              <Clickable onClick={toggleDlt}>\n                <img src={deleteIcon} alt=\"\" />\n              </Clickable>\n              <Clickable\n                className={styles.editIcon}\n                onClick={() => { handleEdit(testimonials); }}\n              >\n                <img src={editIcon} alt=\"\" />\n              </Clickable>\n            </div>\n            {dlt && (\n              <DeleteAlert\n                title=\"Are you sure you want to permanently delete this testimonial?\"\n                onCancel={toggleDlt}\n                primary=\"Yes\"\n                secondary=\"No\"\n                onDelete={() => {\n                  handleDelete(testimonials._id);\n                }}\n              />\n            )}\n          </div>\n        )}\n      </Formik>\n    </>\n\n  );\n}\n\nTestimonialsCard.propTypes = {\n  testimonials: PropTypes.object.isRequired,\n  count: PropTypes.number.isRequired,\n  handleEdit: PropTypes.func.isRequired,\n  handleRef: PropTypes.func.isRequired\n};\n\nTestimonialsCard.defaultProps = {};\n"]},"metadata":{},"sourceType":"module"}