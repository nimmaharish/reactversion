{"ast":null,"code":"var _jsxFileName = \"/home/harish/windo/phoenix/src/containers/coupons/ListCoupons.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Coupon } from \"../../components/coupons/Coupon\";\nimport { Drawer } from \"../../components/shared/Drawer\";\nimport { useQueryParams } from \"../../hooks\";\nimport { useHistory } from 'react-router-dom'; // import ChevronLeft from '@material-ui/icons/ChevronLeft';\n\nimport { InfiniteLoader, List } from 'react-virtualized';\nimport { LightBlueTile } from \"../../components/cards\";\nimport emptyCoupon from \"../../assets/images/coupons/emptyCoupons.svg\";\nimport { CreateCoupon } from \"../../components/coupons/CreateCoupon\";\nimport { useInfiniteCoupons } from \"../../hooks/coupons\";\nimport { Button as Btn } from 'phoenix-components';\nimport { useDesktop } from \"../../contexts\";\nimport chevronLeftDesk from \"../../assets/v2/common/chevronPrimaryLeft.svg\"; // import { SideDrawer } from 'components/shared/SideDrawer';\n\nimport Kbc from \"../../components/knowBaseCards/KnowBaseCards\";\nimport styles from \"./ListCoupons.module.css\";\n\nfunction ListCoupons() {\n  _s();\n\n  // TODO: filtering\n  // eslint-disable-next-line no-unused-vars\n  const [filters, setFilters] = useState({});\n  const [coupons, loadMore, hasMore,, refresh] = useInfiniteCoupons(filters, {\n    updatedAt: -1\n  });\n  const history = useHistory();\n  const params = useQueryParams();\n  const id = params.has('coupon');\n  const isDesktop = useDesktop();\n  const rowCount = hasMore ? 10000 : coupons.length;\n\n  const isLoaded = i => !!coupons[i];\n\n  const height = window.screen.height - 78 - 36;\n\n  const onCreate = () => {\n    params.set('coupon', '');\n    history.push({\n      search: params.toString()\n    });\n  }; // eslint-disable-next-line react/no-multi-comp\n\n\n  const renderItem = item => /*#__PURE__*/React.createElement(\"div\", {\n    key: item.key,\n    style: item.style,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Coupon, {\n    refresh: refresh,\n    coupon: coupons[item.index],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }));\n\n  if (isDesktop) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.desktopContainer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      onClick: () => history.goBack(),\n      className: styles.maintitle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: styles.backIconForDesktop,\n      src: chevronLeftDesk,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }\n    }, \"\\xA0\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }\n    }, \"\\xA0\"), \"Discount Coupons\"), /*#__PURE__*/React.createElement(React.Fragment, null, coupons.length > 0 ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.couponBox,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flexCenter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Btn, {\n      label: \"Create Coupon\",\n      className: styles.button,\n      onClick: onCreate,\n      size: \"large\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(InfiniteLoader, {\n      loadMoreRows: loadMore,\n      isRowLoaded: isLoaded,\n      rowCount: rowCount,\n      minimumBatchSize: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }\n    }, ({\n      onRowsRendered,\n      registerChild\n    }) => /*#__PURE__*/React.createElement(List, {\n      height: window.screen.height - 336 - 36,\n      onRowsRendered: onRowsRendered,\n      ref: registerChild,\n      rowCount: coupons.length,\n      rowHeight: 140,\n      rowRenderer: renderItem,\n      width: window.screen.width - 826,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 21\n      }\n    })))) : /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.couponBox,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(LightBlueTile, {\n      className: styles.emptyCoupons,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: emptyCoupon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.text,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 15\n      }\n    }, \"You haven\\u2019t created any coupons yet!\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flexCenter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Btn, {\n      label: \"Create Coupon\",\n      className: styles.button,\n      onClick: onCreate,\n      size: \"large\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }\n    })))), id && /*#__PURE__*/React.createElement(CreateCoupon, {\n      refresh: refresh,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 16\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.kbc,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Kbc, {\n      type: \"discountCoupon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }\n    })));\n  }\n\n  return /*#__PURE__*/React.createElement(Drawer, {\n    onClose: () => history.goBack(),\n    title: \"Discount Coupons\",\n    containerClass: styles.drawer,\n    topBarClass: styles.drawer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }\n  }, coupons.length > 0 ? /*#__PURE__*/React.createElement(InfiniteLoader, {\n    loadMoreRows: loadMore,\n    isRowLoaded: isLoaded,\n    rowCount: rowCount,\n    minimumBatchSize: 10,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 11\n    }\n  }, ({\n    onRowsRendered,\n    registerChild\n  }) => /*#__PURE__*/React.createElement(List, {\n    height: height,\n    onRowsRendered: onRowsRendered,\n    ref: registerChild,\n    rowCount: coupons.length,\n    rowHeight: 120,\n    rowRenderer: renderItem,\n    width: window.screen.width,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 15\n    }\n  })) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(LightBlueTile, {\n    className: styles.emptyCoupons,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: emptyCoupon,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }\n  }, \"You haven\\u2019t created any coupons yet!\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.buttonM,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Btn, {\n    label: \"Create Coupon\",\n    onClick: onCreate,\n    size: \"large\",\n    fullWidth: true,\n    bordered: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 11\n    }\n  })), id && /*#__PURE__*/React.createElement(CreateCoupon, {\n    refresh: refresh,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 16\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.kbc,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Kbc, {\n    type: \"discountCoupon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 11\n    }\n  }))));\n}\n\n_s(ListCoupons, \"XuKsP3oy/+1b/Imtm3Wg0bV7EEg=\", false, function () {\n  return [useInfiniteCoupons, useHistory, useQueryParams, useDesktop];\n});\n\n_c = ListCoupons;\nListCoupons.propTypes = {};\nListCoupons.defaultProps = {};\nexport default ListCoupons;\n\nvar _c;\n\n$RefreshReg$(_c, \"ListCoupons\");","map":{"version":3,"sources":["/home/harish/windo/phoenix/src/containers/coupons/ListCoupons.jsx"],"names":["React","useState","Coupon","Drawer","useQueryParams","useHistory","InfiniteLoader","List","LightBlueTile","CreateCoupon","useInfiniteCoupons","Button","Btn","useDesktop","Kbc","styles","ListCoupons","filters","setFilters","coupons","loadMore","hasMore","refresh","updatedAt","history","params","id","has","isDesktop","rowCount","length","isLoaded","i","height","window","screen","onCreate","set","push","search","toString","renderItem","item","key","style","index","desktopContainer","goBack","maintitle","backIconForDesktop","chevronLeftDesk","couponBox","button","onRowsRendered","registerChild","width","emptyCoupons","emptyCoupon","text","kbc","drawer","container","buttonM","propTypes","defaultProps"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Coupon } from 'components/coupons/Coupon';\nimport { Drawer } from 'components/shared/Drawer';\nimport { useQueryParams } from 'hooks';\nimport { useHistory } from 'react-router-dom';\n// import ChevronLeft from '@material-ui/icons/ChevronLeft';\nimport { InfiniteLoader, List } from 'react-virtualized';\nimport { LightBlueTile } from 'components/cards';\nimport emptyCoupon from 'assets/images/coupons/emptyCoupons.svg';\nimport { CreateCoupon } from 'components/coupons/CreateCoupon';\nimport { useInfiniteCoupons } from 'hooks/coupons';\nimport { Button as Btn } from 'phoenix-components';\nimport { useDesktop } from 'contexts';\nimport chevronLeftDesk from 'assets/v2/common/chevronPrimaryLeft.svg';\n// import { SideDrawer } from 'components/shared/SideDrawer';\nimport Kbc from 'components/knowBaseCards/KnowBaseCards';\nimport styles from './ListCoupons.module.css';\n\nfunction ListCoupons() {\n  // TODO: filtering\n  // eslint-disable-next-line no-unused-vars\n  const [filters, setFilters] = useState({});\n  const [coupons, loadMore, hasMore, , refresh] = useInfiniteCoupons(filters, { updatedAt: -1 });\n  const history = useHistory();\n  const params = useQueryParams();\n  const id = params.has('coupon');\n  const isDesktop = useDesktop();\n\n  const rowCount = hasMore ? 10000 : coupons.length;\n\n  const isLoaded = i => !!coupons[i];\n\n  const height = window.screen.height - 78 - 36;\n\n  const onCreate = () => {\n    params.set('coupon', '');\n    history.push({\n      search: params.toString(),\n    });\n  };\n\n  // eslint-disable-next-line react/no-multi-comp\n  const renderItem = (item) => (\n    <div key={item.key} style={item.style}>\n      <Coupon refresh={refresh} coupon={coupons[item.index]} />\n    </div>\n  );\n\n  if (isDesktop) {\n    return (\n      <div className={styles.desktopContainer}>\n        <div onClick={() => history.goBack()} className={styles.maintitle}>\n          <img className={styles.backIconForDesktop} src={chevronLeftDesk} alt=\"\" />\n          <div>&nbsp;</div>\n          <div>&nbsp;</div>\n          Discount Coupons\n        </div>\n        <>\n          {coupons.length > 0 ? (\n            <>\n              <div className={styles.couponBox}>\n                <div className=\"flexCenter\">\n                  <Btn\n                    label=\"Create Coupon\"\n                    className={styles.button}\n                    onClick={onCreate}\n                    size=\"large\"\n                  />\n                </div>\n                <InfiniteLoader\n                  loadMoreRows={loadMore}\n                  isRowLoaded={isLoaded}\n                  rowCount={rowCount}\n                  minimumBatchSize={10}\n                >\n                  {({\n                    onRowsRendered,\n                    registerChild\n                  }) => (\n                    <List\n                      height={window.screen.height - 336 - 36}\n                      onRowsRendered={onRowsRendered}\n                      ref={registerChild}\n                      rowCount={coupons.length}\n                      rowHeight={140}\n                      rowRenderer={renderItem}\n                      width={window.screen.width - 826}\n                    />\n                  )}\n                </InfiniteLoader>\n              </div>\n            </>\n          ) : (\n            <div className={styles.couponBox}>\n              <LightBlueTile className={styles.emptyCoupons}>\n                <img src={emptyCoupon} alt=\"\" />\n              </LightBlueTile>\n              <div className={styles.text}>You haven’t created any coupons yet!</div>\n              <div className=\"flexCenter\">\n                <Btn\n                  label=\"Create Coupon\"\n                  className={styles.button}\n                  onClick={onCreate}\n                  size=\"large\"\n                />\n              </div>\n            </div>\n          )}\n        </>\n        {id && <CreateCoupon refresh={refresh} />}\n        <div className={styles.kbc}>\n          <Kbc type=\"discountCoupon\" />\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <Drawer\n      onClose={() => history.goBack()}\n      title=\"Discount Coupons\"\n      containerClass={styles.drawer}\n      topBarClass={styles.drawer}\n    >\n      <div className={styles.container}>\n        {coupons.length > 0 ? (\n          <InfiniteLoader\n            loadMoreRows={loadMore}\n            isRowLoaded={isLoaded}\n            rowCount={rowCount}\n            minimumBatchSize={10}\n          >\n            {({\n              onRowsRendered,\n              registerChild\n            }) => (\n              <List\n                height={height}\n                onRowsRendered={onRowsRendered}\n                ref={registerChild}\n                rowCount={coupons.length}\n                rowHeight={120}\n                rowRenderer={renderItem}\n                width={window.screen.width}\n              />\n            )}\n          </InfiniteLoader>\n        ) : (\n          <>\n            <LightBlueTile className={styles.emptyCoupons}>\n              <img src={emptyCoupon} alt=\"\" />\n            </LightBlueTile>\n            <div className={styles.text}>You haven’t created any coupons yet!</div>\n          </>\n        )}\n        <div className={styles.buttonM}>\n          <Btn\n            label=\"Create Coupon\"\n            onClick={onCreate}\n            size=\"large\"\n            fullWidth\n            bordered={false}\n          />\n        </div>\n        {id && <CreateCoupon refresh={refresh} />}\n        <div className={styles.kbc}>\n          <Kbc type=\"discountCoupon\" />\n        </div>\n      </div>\n    </Drawer>\n  );\n}\n\nListCoupons.propTypes = {};\n\nListCoupons.defaultProps = {};\n\nexport default ListCoupons;\n"]},"metadata":{},"sourceType":"module"}