{"ast":null,"code":"var _jsxFileName = \"/home/harish/windo/phoenix/src/components/orders/CartCard.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport _ from 'lodash';\nimport { useHistory } from 'react-router-dom';\nimport { useQueryParams } from \"../../hooks\";\nimport moment from 'moment';\nimport { useShop } from \"../../contexts/userContext\";\nimport crIcon from \"../../assets/images/payments/chevRight.svg\";\nimport { useOpenPlans } from \"../../contexts\";\nimport { Clickable } from 'phoenix-components';\nimport cx from 'classnames';\nimport styles from \"./CartCard.module.css\";\nexport function CartCard({\n  cart,\n  showAlert = false,\n  noPadding,\n  showBorder\n}) {\n  _s();\n\n  var _cart$products, _cart$products$, _cart$products$2, _cart$products$2$tota, _cart$products$3, _cart$products$3$vari, _cart$products$3$vari2, _cart$products$4, _cart$products$4$vari, _cart$products$4$vari2, _cart$products$5, _cart$products$5$vari, _cart$products$6, _cart$products$6$vari, _cart$products$7;\n\n  const history = useHistory();\n  const shop = useShop();\n\n  const image = _.get(cart, 'products[0].images[0].url', '');\n\n  const queryParams = useQueryParams();\n  const openPlans = useOpenPlans(false, 'abandonCart');\n  const isMultiItem = (cart === null || cart === void 0 ? void 0 : (_cart$products = cart.products) === null || _cart$products === void 0 ? void 0 : _cart$products.length) > 1;\n\n  const onClick = () => {\n    if (showAlert) {\n      openPlans();\n      return;\n    }\n\n    queryParams.set('id', cart._id);\n    history.push({\n      pathname: `/carts/${cart._id}`\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Clickable, {\n    onClick: onClick,\n    className: cx(styles.root, {\n      [styles.noPadding]: noPadding,\n      [styles.border]: showBorder,\n      [styles.noBorder]: !showBorder\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.top,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.left,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: image,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.column,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.row,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.title,\n    translate: \"no\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  }, cart === null || cart === void 0 ? void 0 : (_cart$products$ = cart.products[0]) === null || _cart$products$ === void 0 ? void 0 : _cart$products$.title)), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.row,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 15\n    }\n  }, moment(cart === null || cart === void 0 ? void 0 : cart.updatedAt).format('ll')), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.row,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.price,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, shop.currency, ' ', cart === null || cart === void 0 ? void 0 : (_cart$products$2 = cart.products[0]) === null || _cart$products$2 === void 0 ? void 0 : (_cart$products$2$tota = _cart$products$2.total) === null || _cart$products$2$tota === void 0 ? void 0 : _cart$products$2$tota.toFixed(2)), !isMultiItem && (cart === null || cart === void 0 ? void 0 : (_cart$products$3 = cart.products[0]) === null || _cart$products$3 === void 0 ? void 0 : (_cart$products$3$vari = _cart$products$3.variant) === null || _cart$products$3$vari === void 0 ? void 0 : (_cart$products$3$vari2 = _cart$products$3$vari.value) === null || _cart$products$3$vari2 === void 0 ? void 0 : _cart$products$3$vari2.length) > 0 && (cart === null || cart === void 0 ? void 0 : (_cart$products$4 = cart.products[0]) === null || _cart$products$4 === void 0 ? void 0 : (_cart$products$4$vari = _cart$products$4.variant) === null || _cart$products$4$vari === void 0 ? void 0 : (_cart$products$4$vari2 = _cart$products$4$vari.name) === null || _cart$products$4$vari2 === void 0 ? void 0 : _cart$products$4$vari2.length) > 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.price,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }\n  }, (cart === null || cart === void 0 ? void 0 : (_cart$products$5 = cart.products[0]) === null || _cart$products$5 === void 0 ? void 0 : (_cart$products$5$vari = _cart$products$5.variant) === null || _cart$products$5$vari === void 0 ? void 0 : _cart$products$5$vari.value) || '', ' ', (cart === null || cart === void 0 ? void 0 : (_cart$products$6 = cart.products[0]) === null || _cart$products$6 === void 0 ? void 0 : (_cart$products$6$vari = _cart$products$6.variant) === null || _cart$products$6$vari === void 0 ? void 0 : _cart$products$6$vari.name) || '')), !isMultiItem && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.price,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 19\n    }\n  }, cart === null || cart === void 0 ? void 0 : (_cart$products$7 = cart.products[0]) === null || _cart$products$7 === void 0 ? void 0 : _cart$products$7.quantity, ' ', \"Qty\"), /*#__PURE__*/React.createElement(\"img\", {\n    className: styles.view,\n    src: crIcon,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  })))))));\n}\n\n_s(CartCard, \"sI+W6Swp/BUCXekJKuSVr6HZVao=\", false, function () {\n  return [useHistory, useShop, useQueryParams, useOpenPlans];\n});\n\n_c = CartCard;\nCartCard.defaultProps = {\n  showAlert: false,\n  noPadding: false,\n  showBorder: false\n};\nCartCard.propTypes = {\n  cart: PropTypes.object.isRequired,\n  showAlert: PropTypes.bool,\n  noPadding: PropTypes.bool,\n  showBorder: PropTypes.bool\n};\nCartCard.defaultProps = {};\n\nvar _c;\n\n$RefreshReg$(_c, \"CartCard\");","map":{"version":3,"sources":["/home/harish/windo/phoenix/src/components/orders/CartCard.jsx"],"names":["React","PropTypes","_","useHistory","useQueryParams","moment","useShop","useOpenPlans","Clickable","cx","styles","CartCard","cart","showAlert","noPadding","showBorder","history","shop","image","get","queryParams","openPlans","isMultiItem","products","length","onClick","set","_id","push","pathname","root","border","noBorder","container","top","left","column","row","title","updatedAt","format","price","currency","total","toFixed","variant","value","name","quantity","view","crIcon","defaultProps","propTypes","object","isRequired","bool"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport _ from 'lodash';\nimport { useHistory } from 'react-router-dom';\nimport { useQueryParams } from 'hooks';\nimport moment from 'moment';\nimport { useShop } from 'contexts/userContext';\nimport crIcon from 'assets/images/payments/chevRight.svg';\nimport { useOpenPlans } from 'contexts';\nimport { Clickable } from 'phoenix-components';\nimport cx from 'classnames';\nimport styles from './CartCard.module.css';\n\nexport function CartCard({\n  cart,\n  showAlert = false,\n  noPadding,\n  showBorder,\n}) {\n  const history = useHistory();\n  const shop = useShop();\n  const image = _.get(cart, 'products[0].images[0].url', '');\n  const queryParams = useQueryParams();\n  const openPlans = useOpenPlans(false, 'abandonCart');\n  const isMultiItem = cart?.products?.length > 1;\n\n  const onClick = () => {\n    if (showAlert) {\n      openPlans();\n      return;\n    }\n    queryParams.set('id', cart._id);\n    history.push({\n      pathname: `/carts/${cart._id}`,\n    });\n  };\n\n  return (\n    <>\n      <Clickable\n        onClick={onClick}\n        className={cx(styles.root, {\n          [styles.noPadding]: noPadding,\n          [styles.border]: showBorder,\n          [styles.noBorder]: !showBorder\n        })}>\n        <div className={styles.container}>\n          <div className={styles.top}>\n            <div className={styles.left}>\n              <img src={image} alt=\"\" />\n            </div>\n            <div className={styles.column}>\n              <div className={styles.row}>\n                <div className={styles.title} translate=\"no\">\n                  {cart?.products[0]?.title}\n                </div>\n              </div>\n              <div className={styles.row}>\n                {moment(cart?.updatedAt)\n                  .format('ll')}\n              </div>\n              <div className={styles.row}>\n                <div className={styles.price}>\n                  {shop.currency}\n                  {' '}\n                  {cart?.products[0]?.total?.toFixed(2)}\n                </div>\n                {!isMultiItem && cart?.products[0]?.variant?.value?.length > 0\n                && cart?.products[0]?.variant?.name?.length > 0 && (\n                  <div className={styles.price}>\n                    <span>\n                      {cart?.products[0]?.variant?.value || ''}\n                      {' '}\n                      {cart?.products[0]?.variant?.name || ''}\n                    </span>\n                  </div>\n                )}\n                {!isMultiItem && (\n                  <div className={styles.price}>\n                    {cart?.products[0]?.quantity}\n                    {' '}\n                    Qty\n                  </div>\n                )}\n                <img className={styles.view} src={crIcon} alt=\"\" />\n              </div>\n            </div>\n          </div>\n        </div>\n      </Clickable>\n    </>\n  );\n}\n\nCartCard.defaultProps = {\n  showAlert: false,\n  noPadding: false,\n  showBorder: false,\n};\n\nCartCard.propTypes = {\n  cart: PropTypes.object.isRequired,\n  showAlert: PropTypes.bool,\n  noPadding: PropTypes.bool,\n  showBorder: PropTypes.bool,\n};\n\nCartCard.defaultProps = {};\n"]},"metadata":{},"sourceType":"module"}