{"ast":null,"code":"import { injectJS } from \"./loadJs\";\n\nasync function waitForTranslator() {\n  return new Promise((resolve, reject) => {\n    let counter = 0;\n    const interval = setInterval(() => {\n      var _window, _window$google, _window$google$transl;\n\n      if ((_window = window) !== null && _window !== void 0 && (_window$google = _window.google) !== null && _window$google !== void 0 && (_window$google$transl = _window$google.translate) !== null && _window$google$transl !== void 0 && _window$google$transl.TranslateElement) {\n        clearInterval(interval);\n        resolve();\n      }\n\n      if (counter > 10) {\n        clearInterval(interval);\n        reject();\n      }\n\n      counter++;\n    }, 300);\n  });\n}\n\nexport async function loadTranslator() {\n  await injectJS('google-translate', 'https://translate.google.com/translate_a/element.js');\n  await waitForTranslator();\n  return window.google.translate.TranslateElement;\n}\nexport function resetTranslatorBody() {\n  let counter = 0;\n  const interval = setInterval(() => {\n    if (counter > 10) {\n      clearInterval(interval);\n      return;\n    }\n\n    if (document.body.style.top !== '0px') {\n      document.body.style.top = '0px';\n      clearInterval(interval);\n      return;\n    }\n\n    counter += 1;\n  }, 200);\n}","map":{"version":3,"sources":["/home/harish/windo/phoenix/src/utils/translate.js"],"names":["injectJS","waitForTranslator","Promise","resolve","reject","counter","interval","setInterval","window","google","translate","TranslateElement","clearInterval","loadTranslator","resetTranslatorBody","document","body","style","top"],"mappings":"AAAA,SAASA,QAAT;;AAEA,eAAeC,iBAAf,GAAmC;AACjC,SAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtC,QAAIC,OAAO,GAAG,CAAd;AACA,UAAMC,QAAQ,GAAGC,WAAW,CAAC,MAAM;AAAA;;AACjC,qBAAIC,MAAJ,sDAAI,QAAQC,MAAZ,oEAAI,eAAgBC,SAApB,kDAAI,sBAA2BC,gBAA/B,EAAiD;AAC/CC,QAAAA,aAAa,CAACN,QAAD,CAAb;AACAH,QAAAA,OAAO;AACR;;AACD,UAAIE,OAAO,GAAG,EAAd,EAAkB;AAChBO,QAAAA,aAAa,CAACN,QAAD,CAAb;AACAF,QAAAA,MAAM;AACP;;AACDC,MAAAA,OAAO;AACR,KAV2B,EAUzB,GAVyB,CAA5B;AAWD,GAbM,CAAP;AAcD;;AAED,OAAO,eAAeQ,cAAf,GAAgC;AACrC,QAAMb,QAAQ,CAAC,kBAAD,EAAqB,qDAArB,CAAd;AACA,QAAMC,iBAAiB,EAAvB;AACA,SAAOO,MAAM,CAACC,MAAP,CAAcC,SAAd,CAAwBC,gBAA/B;AACD;AAED,OAAO,SAASG,mBAAT,GAA+B;AACpC,MAAIT,OAAO,GAAG,CAAd;AACA,QAAMC,QAAQ,GAAGC,WAAW,CAAC,MAAM;AACjC,QAAIF,OAAO,GAAG,EAAd,EAAkB;AAChBO,MAAAA,aAAa,CAACN,QAAD,CAAb;AACA;AACD;;AACD,QAAIS,QAAQ,CAACC,IAAT,CAAcC,KAAd,CAAoBC,GAApB,KAA4B,KAAhC,EAAuC;AACrCH,MAAAA,QAAQ,CAACC,IAAT,CAAcC,KAAd,CAAoBC,GAApB,GAA0B,KAA1B;AACAN,MAAAA,aAAa,CAACN,QAAD,CAAb;AACA;AACD;;AACDD,IAAAA,OAAO,IAAI,CAAX;AACD,GAX2B,EAWzB,GAXyB,CAA5B;AAYD","sourcesContent":["import { injectJS } from 'utils/loadJs';\n\nasync function waitForTranslator() {\n  return new Promise((resolve, reject) => {\n    let counter = 0;\n    const interval = setInterval(() => {\n      if (window?.google?.translate?.TranslateElement) {\n        clearInterval(interval);\n        resolve();\n      }\n      if (counter > 10) {\n        clearInterval(interval);\n        reject();\n      }\n      counter++;\n    }, 300);\n  });\n}\n\nexport async function loadTranslator() {\n  await injectJS('google-translate', 'https://translate.google.com/translate_a/element.js');\n  await waitForTranslator();\n  return window.google.translate.TranslateElement;\n}\n\nexport function resetTranslatorBody() {\n  let counter = 0;\n  const interval = setInterval(() => {\n    if (counter > 10) {\n      clearInterval(interval);\n      return;\n    }\n    if (document.body.style.top !== '0px') {\n      document.body.style.top = '0px';\n      clearInterval(interval);\n      return;\n    }\n    counter += 1;\n  }, 200);\n}\n"]},"metadata":{},"sourceType":"module"}