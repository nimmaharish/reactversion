{"ast":null,"code":"var _jsxFileName = \"/home/harish/windo/phoenix/src/components/products/UnitDrawer.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { BottomDrawer } from \"../shared/BottomDrawer\";\nimport { Chip } from 'phoenix-components';\nimport { useField } from 'formik';\nimport { Dialog } from '@material-ui/core';\nimport { unitTypes } from \"./variantUtils\";\nimport { Button, ReactInput, Clickable } from 'phoenix-components';\nimport Storage from \"../../services/storage\";\nimport closeIcon from \"../../assets/images/orders/list/close.svg\";\nimport { useDesktop } from \"../../contexts\";\nimport SnackBar from \"../../services/snackbar\";\nimport styles from \"./UnitDrawer.module.css\";\nexport function UnitDrawer({\n  prefix,\n  onClose\n}) {\n  _s();\n\n  const [{\n    value\n  },, {\n    setValue\n  }] = useField(prefix);\n  const [custom, setCustom] = useState('');\n  const isDesktop = useDesktop();\n\n  const getUnits = () => {\n    const units = Storage.getUnits('units');\n\n    if (units) {\n      return [...unitTypes, ...units];\n    }\n\n    return unitTypes;\n  };\n\n  const addUnit = () => {\n    if (custom.length === 0) {\n      SnackBar.show('Please add unit', 'error');\n      return;\n    }\n\n    if (getUnits().includes(custom)) {\n      SnackBar.show('Unit Already exists', 'error');\n      return;\n    }\n\n    Storage.addUnit(custom);\n    SnackBar.show('Unit added successfully', 'success');\n    setCustom('');\n  };\n\n  const onChange = type => () => {\n    setValue(type);\n    onClose();\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, !isDesktop && /*#__PURE__*/React.createElement(BottomDrawer, {\n    title: \"Choose product unit\",\n    onClose: onClose,\n    classes: {\n      heading: styles.heading\n    },\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, getUnits().map(type => /*#__PURE__*/React.createElement(Chip, {\n    label: type,\n    key: type,\n    selected: value === type,\n    onSelect: onChange(type),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.border,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ReactInput, {\n    value: custom,\n    label: \"Add custom unit\",\n    placeholder: \"e.g. Gram\",\n    setValue: setCustom,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.footer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    primary: false,\n    label: \"Add\",\n    size: \"medium\",\n    onClick: addUnit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  })))), isDesktop && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Dialog, {\n    open: true,\n    onClose: onClose,\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.head,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 15\n    }\n  }, \"Choose product unit\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flexEnd\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Clickable, {\n    onClick: onClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: closeIcon,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 19\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }, getUnits().map(type => /*#__PURE__*/React.createElement(Chip, {\n    label: type,\n    key: type,\n    selected: value === type,\n    onSelect: onChange(type),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.border1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ReactInput, {\n    value: custom,\n    label: \"Add custom unit\",\n    placeholder: \"e.g. Gram\",\n    setValue: setCustom,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.footer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    primary: false,\n    label: \"Add\",\n    size: \"medium\",\n    onClick: addUnit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 17\n    }\n  }))))));\n}\n\n_s(UnitDrawer, \"OuZJ6k4b/ZynX+pxRJyR0UqJ7QI=\", false, function () {\n  return [useField, useDesktop];\n});\n\n_c = UnitDrawer;\nUnitDrawer.propTypes = {\n  prefix: PropTypes.string.isRequired,\n  onClose: PropTypes.func.isRequired\n};\nUnitDrawer.defaultProps = {};\n\nvar _c;\n\n$RefreshReg$(_c, \"UnitDrawer\");","map":{"version":3,"sources":["/home/harish/windo/phoenix/src/components/products/UnitDrawer.jsx"],"names":["React","useState","PropTypes","BottomDrawer","Chip","useField","Dialog","unitTypes","Button","ReactInput","Clickable","Storage","useDesktop","SnackBar","styles","UnitDrawer","prefix","onClose","value","setValue","custom","setCustom","isDesktop","getUnits","units","addUnit","length","show","includes","onChange","type","heading","container","map","border","footer","head","text","closeIcon","border1","propTypes","string","isRequired","func","defaultProps"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { BottomDrawer } from 'components/shared/BottomDrawer';\nimport { Chip } from 'phoenix-components';\nimport { useField } from 'formik';\nimport {\n  Dialog\n} from '@material-ui/core';\nimport { unitTypes } from 'components/products/variantUtils';\nimport { Button, ReactInput, Clickable } from 'phoenix-components';\nimport Storage from 'services/storage';\nimport closeIcon from 'assets/images/orders/list/close.svg';\nimport { useDesktop } from 'contexts';\nimport SnackBar from 'services/snackbar';\nimport styles from './UnitDrawer.module.css';\n\nexport function UnitDrawer({\n  prefix,\n  onClose\n}) {\n  const [{ value },, { setValue }] = useField(prefix);\n  const [custom, setCustom] = useState('');\n  const isDesktop = useDesktop();\n\n  const getUnits = () => {\n    const units = Storage.getUnits('units');\n    if (units) {\n      return [...unitTypes, ...units];\n    }\n    return unitTypes;\n  };\n\n  const addUnit = () => {\n    if (custom.length === 0) {\n      SnackBar.show('Please add unit', 'error');\n      return;\n    }\n    if (getUnits().includes(custom)) {\n      SnackBar.show('Unit Already exists', 'error');\n      return;\n    }\n    Storage.addUnit(custom);\n    SnackBar.show('Unit added successfully', 'success');\n    setCustom('');\n  };\n\n  const onChange = (type) => () => {\n    setValue(type);\n    onClose();\n  };\n\n  return (\n    <>\n      {!isDesktop && (\n        <BottomDrawer\n          title=\"Choose product unit\"\n          onClose={onClose}\n          classes={{\n            heading: styles.heading,\n          }}\n          closeButton\n        >\n          <div className={styles.container}>\n            {getUnits().map(type => (\n              <Chip\n                label={type}\n                key={type}\n                selected={value === type}\n                onSelect={onChange(type)}\n              />\n            ))}\n          </div>\n          <div className={styles.border}>\n            <ReactInput\n              value={custom}\n              label=\"Add custom unit\"\n              placeholder=\"e.g. Gram\"\n              setValue={setCustom}\n            />\n            <div className={styles.footer}>\n              <Button\n                primary={false}\n                label=\"Add\"\n                size=\"medium\"\n                onClick={addUnit}\n              />\n            </div>\n          </div>\n        </BottomDrawer>\n      )}\n      {isDesktop && (\n        <>\n          <Dialog\n            open={true}\n            onClose={onClose}\n            fullWidth\n          >\n\n            <div className={styles.head}>\n              <div className={styles.text}>\n                Choose product unit\n              </div>\n              <div className=\"flexEnd\">\n                <Clickable\n                  onClick={onClose}>\n                  <img src={closeIcon} alt=\"\" />\n                </Clickable>\n              </div>\n            </div>\n            <div className={styles.container}>\n              {getUnits().map(type => (\n                <Chip\n                  label={type}\n                  key={type}\n                  selected={value === type}\n                  onSelect={onChange(type)} />\n              ))}\n            </div>\n            <div className={styles.border1}>\n              <ReactInput\n                value={custom}\n                label=\"Add custom unit\"\n                placeholder=\"e.g. Gram\"\n                setValue={setCustom} />\n              <div className={styles.footer}>\n                <Button\n                  primary={false}\n                  label=\"Add\"\n                  size=\"medium\"\n                  onClick={addUnit} />\n              </div>\n            </div>\n\n          </Dialog>\n        </>\n      )}\n    </>\n  );\n}\n\nUnitDrawer.propTypes = {\n  prefix: PropTypes.string.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n\nUnitDrawer.defaultProps = {};\n"]},"metadata":{},"sourceType":"module"}