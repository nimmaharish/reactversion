{"ast":null,"code":"var Queue = function () {\n  function Queue(onFlush, opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    this.onFlush = onFlush;\n    this.items = [];\n    this.queueLimit = opts.queueLimit || -1;\n    this.flushInterval = opts.flushInterval || 0;\n    this.timeoutId = undefined;\n  }\n\n  var _proto = Queue.prototype;\n\n  _proto._setTimer = function _setTimer() {\n    var _this = this;\n\n    this.timeoutId = setTimeout(function () {\n      return _this.flush();\n    }, this.flushInterval);\n  };\n\n  _proto._clear = function _clear() {\n    if (typeof this.timeoutId !== 'undefined') {\n      clearTimeout(this.timeoutId);\n      this.timeoutId = undefined;\n    }\n\n    this.items = [];\n  };\n\n  _proto.flush = function flush() {\n    this.onFlush(this.items);\n\n    this._clear();\n  };\n\n  _proto.add = function add(item) {\n    this.items.push(item);\n\n    if (this.queueLimit !== -1 && this.items.length >= this.queueLimit) {\n      this.flush();\n    } else {\n      if (typeof this.timeoutId === 'undefined') {\n        this._setTimer();\n      }\n    }\n  };\n\n  return Queue;\n}();\n\nexport default Queue;","map":{"version":3,"sources":["/home/harish/windo/phoenix/node_modules/@elastic/apm-rum-core/dist/es/common/queue.js"],"names":["Queue","onFlush","opts","items","queueLimit","flushInterval","timeoutId","undefined","_proto","prototype","_setTimer","_this","setTimeout","flush","_clear","clearTimeout","add","item","push","length"],"mappings":"AAAA,IAAIA,KAAK,GAAG,YAAY;AACtB,WAASA,KAAT,CAAeC,OAAf,EAAwBC,IAAxB,EAA8B;AAC5B,QAAIA,IAAI,KAAK,KAAK,CAAlB,EAAqB;AACnBA,MAAAA,IAAI,GAAG,EAAP;AACD;;AAED,SAAKD,OAAL,GAAeA,OAAf;AACA,SAAKE,KAAL,GAAa,EAAb;AACA,SAAKC,UAAL,GAAkBF,IAAI,CAACE,UAAL,IAAmB,CAAC,CAAtC;AACA,SAAKC,aAAL,GAAqBH,IAAI,CAACG,aAAL,IAAsB,CAA3C;AACA,SAAKC,SAAL,GAAiBC,SAAjB;AACD;;AAED,MAAIC,MAAM,GAAGR,KAAK,CAACS,SAAnB;;AAEAD,EAAAA,MAAM,CAACE,SAAP,GAAmB,SAASA,SAAT,GAAqB;AACtC,QAAIC,KAAK,GAAG,IAAZ;;AAEA,SAAKL,SAAL,GAAiBM,UAAU,CAAC,YAAY;AACtC,aAAOD,KAAK,CAACE,KAAN,EAAP;AACD,KAF0B,EAExB,KAAKR,aAFmB,CAA3B;AAGD,GAND;;AAQAG,EAAAA,MAAM,CAACM,MAAP,GAAgB,SAASA,MAAT,GAAkB;AAChC,QAAI,OAAO,KAAKR,SAAZ,KAA0B,WAA9B,EAA2C;AACzCS,MAAAA,YAAY,CAAC,KAAKT,SAAN,CAAZ;AACA,WAAKA,SAAL,GAAiBC,SAAjB;AACD;;AAED,SAAKJ,KAAL,GAAa,EAAb;AACD,GAPD;;AASAK,EAAAA,MAAM,CAACK,KAAP,GAAe,SAASA,KAAT,GAAiB;AAC9B,SAAKZ,OAAL,CAAa,KAAKE,KAAlB;;AAEA,SAAKW,MAAL;AACD,GAJD;;AAMAN,EAAAA,MAAM,CAACQ,GAAP,GAAa,SAASA,GAAT,CAAaC,IAAb,EAAmB;AAC9B,SAAKd,KAAL,CAAWe,IAAX,CAAgBD,IAAhB;;AAEA,QAAI,KAAKb,UAAL,KAAoB,CAAC,CAArB,IAA0B,KAAKD,KAAL,CAAWgB,MAAX,IAAqB,KAAKf,UAAxD,EAAoE;AAClE,WAAKS,KAAL;AACD,KAFD,MAEO;AACL,UAAI,OAAO,KAAKP,SAAZ,KAA0B,WAA9B,EAA2C;AACzC,aAAKI,SAAL;AACD;AACF;AACF,GAVD;;AAYA,SAAOV,KAAP;AACD,CAnDW,EAAZ;;AAqDA,eAAeA,KAAf","sourcesContent":["var Queue = function () {\n  function Queue(onFlush, opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    this.onFlush = onFlush;\n    this.items = [];\n    this.queueLimit = opts.queueLimit || -1;\n    this.flushInterval = opts.flushInterval || 0;\n    this.timeoutId = undefined;\n  }\n\n  var _proto = Queue.prototype;\n\n  _proto._setTimer = function _setTimer() {\n    var _this = this;\n\n    this.timeoutId = setTimeout(function () {\n      return _this.flush();\n    }, this.flushInterval);\n  };\n\n  _proto._clear = function _clear() {\n    if (typeof this.timeoutId !== 'undefined') {\n      clearTimeout(this.timeoutId);\n      this.timeoutId = undefined;\n    }\n\n    this.items = [];\n  };\n\n  _proto.flush = function flush() {\n    this.onFlush(this.items);\n\n    this._clear();\n  };\n\n  _proto.add = function add(item) {\n    this.items.push(item);\n\n    if (this.queueLimit !== -1 && this.items.length >= this.queueLimit) {\n      this.flush();\n    } else {\n      if (typeof this.timeoutId === 'undefined') {\n        this._setTimer();\n      }\n    }\n  };\n\n  return Queue;\n}();\n\nexport default Queue;"]},"metadata":{},"sourceType":"module"}