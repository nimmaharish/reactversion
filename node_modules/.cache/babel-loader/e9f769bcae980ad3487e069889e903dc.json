{"ast":null,"code":"var _jsxFileName = \"/home/harish/windo/phoenix/src/components/orders/ShareTrackingLink.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport SnackBar from \"../../services/snackbar\";\nimport { share } from \"../../utils\";\nimport { LinkBar } from 'phoenix-components/lib/containers';\nimport { useCustomDomain, useIsOnCustomDomain } from \"../../contexts\";\nimport { useShop } from \"../../contexts\";\nimport { useOrder } from \"../../contexts/orderContext\";\nimport DeviceUtils from \"../../utils/deviceUtils\";\nimport styles from \"./shareTrackingLink.module.css\";\nexport function ShareTrackingLink() {\n  _s();\n\n  const shop = useShop();\n  const order = useOrder();\n  const isCustomDomain = useIsOnCustomDomain();\n  const domain = useCustomDomain();\n  const value = isCustomDomain ? `${domain}/tracking/${order.orderId}` : `mywindo.shop/${shop.slug}/tracking/${order.orderId}`;\n\n  const copyToClipboard = () => {\n    DeviceUtils.copy(`https://${value}`);\n    SnackBar.show('Shop URL Copied !!!');\n  };\n\n  const shareToUser = e => {\n    e.stopPropagation();\n    e.preventDefault();\n    share(`Hello\nYour order tracking link for order id #${order.orderId} is\n\nhttps://${value}\n\nThank you\n${shop.name}`);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.section,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.head,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, \"Share Tracking link\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.link,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(LinkBar, {\n    url: value,\n    onCopy: copyToClipboard,\n    onClick: shareToUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  })));\n}\n\n_s(ShareTrackingLink, \"9F8lSd/Q2pbCxt8p2Ofk1n1IRfI=\", false, function () {\n  return [useShop, useOrder, useIsOnCustomDomain, useCustomDomain];\n});\n\n_c = ShareTrackingLink;\nShareTrackingLink.propTypes = {};\n\nvar _c;\n\n$RefreshReg$(_c, \"ShareTrackingLink\");","map":{"version":3,"sources":["/home/harish/windo/phoenix/src/components/orders/ShareTrackingLink.jsx"],"names":["React","SnackBar","share","LinkBar","useCustomDomain","useIsOnCustomDomain","useShop","useOrder","DeviceUtils","styles","ShareTrackingLink","shop","order","isCustomDomain","domain","value","orderId","slug","copyToClipboard","copy","show","shareToUser","e","stopPropagation","preventDefault","name","section","head","link","propTypes"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP;AACA,SAASC,KAAT;AACA,SAASC,OAAT,QAAwB,mCAAxB;AACA,SACEC,eADF,EACmBC,mBADnB;AAGA,SAASC,OAAT;AACA,SAASC,QAAT;AACA,OAAOC,WAAP;AACA,OAAOC,MAAP;AAEA,OAAO,SAASC,iBAAT,GAA6B;AAAA;;AAClC,QAAMC,IAAI,GAAGL,OAAO,EAApB;AACA,QAAMM,KAAK,GAAGL,QAAQ,EAAtB;AACA,QAAMM,cAAc,GAAGR,mBAAmB,EAA1C;AACA,QAAMS,MAAM,GAAGV,eAAe,EAA9B;AACA,QAAMW,KAAK,GAAGF,cAAc,GAAI,GAAEC,MAAO,aAAYF,KAAK,CAACI,OAAQ,EAAvC,GACvB,gBAAeL,IAAI,CAACM,IAAK,aAAYL,KAAK,CAACI,OAAQ,EADxD;;AAGA,QAAME,eAAe,GAAG,MAAM;AAC5BV,IAAAA,WAAW,CAACW,IAAZ,CAAkB,WAAUJ,KAAM,EAAlC;AACAd,IAAAA,QAAQ,CAACmB,IAAT,CAAc,qBAAd;AACD,GAHD;;AAKA,QAAMC,WAAW,GAAGC,CAAC,IAAI;AACvBA,IAAAA,CAAC,CAACC,eAAF;AACAD,IAAAA,CAAC,CAACE,cAAF;AACAtB,IAAAA,KAAK,CAAE;AACX,yCAAyCU,KAAK,CAACI,OAAQ;AACvD;AACA,UAAUD,KAAM;AAChB;AACA;AACA,EAAEJ,IAAI,CAACc,IAAK,EANH,CAAL;AAOD,GAVD;;AAYA,sBACE;AAAK,IAAA,SAAS,EAAEhB,MAAM,CAACiB,OAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAEjB,MAAM,CAACkB,IAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADF,eAEE;AAAK,IAAA,SAAS,EAAElB,MAAM,CAACmB,IAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,OAAD;AAAS,IAAA,GAAG,EAAEb,KAAd;AAAqB,IAAA,MAAM,EAAEG,eAA7B;AAA8C,IAAA,OAAO,EAAEG,WAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAFF,CADF;AAQD;;GAjCeX,iB;UACDJ,O,EACCC,Q,EACSF,mB,EACRD,e;;;KAJDM,iB;AAmChBA,iBAAiB,CAACmB,SAAlB,GAA8B,EAA9B","sourcesContent":["import React from 'react';\nimport SnackBar from 'services/snackbar';\nimport { share } from 'utils';\nimport { LinkBar } from 'phoenix-components/lib/containers';\nimport {\n  useCustomDomain, useIsOnCustomDomain\n} from 'contexts';\nimport { useShop } from 'contexts';\nimport { useOrder } from 'contexts/orderContext';\nimport DeviceUtils from '../../utils/deviceUtils';\nimport styles from './shareTrackingLink.module.css';\n\nexport function ShareTrackingLink() {\n  const shop = useShop();\n  const order = useOrder();\n  const isCustomDomain = useIsOnCustomDomain();\n  const domain = useCustomDomain();\n  const value = isCustomDomain ? `${domain}/tracking/${order.orderId}`\n    : `mywindo.shop/${shop.slug}/tracking/${order.orderId}`;\n\n  const copyToClipboard = () => {\n    DeviceUtils.copy(`https://${value}`);\n    SnackBar.show('Shop URL Copied !!!');\n  };\n\n  const shareToUser = e => {\n    e.stopPropagation();\n    e.preventDefault();\n    share(`Hello\nYour order tracking link for order id #${order.orderId} is\n\nhttps://${value}\n\nThank you\n${shop.name}`);\n  };\n\n  return (\n    <div className={styles.section}>\n      <div className={styles.head}>Share Tracking link</div>\n      <div className={styles.link}>\n        <LinkBar url={value} onCopy={copyToClipboard} onClick={shareToUser} />\n      </div>\n    </div>\n  );\n}\n\nShareTrackingLink.propTypes = {\n};\n"]},"metadata":{},"sourceType":"module"}