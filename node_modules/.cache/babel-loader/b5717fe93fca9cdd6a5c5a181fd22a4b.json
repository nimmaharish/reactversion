{"ast":null,"code":"var _jsxFileName = \"/home/harish/windo/phoenix/src/components/products/ProductCard.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport _ from 'lodash';\nimport { useHistory } from 'react-router-dom';\nimport cx from 'classnames';\nimport { Becca } from \"../../api\";\nimport SnackBar from \"../../services/snackbar\";\nimport Loader from \"../../services/loader\";\nimport { shareProduct, shareShop } from \"../../utils/share\";\nimport { useCustomDomain, useIsOnCustomDomain, useShop } from \"../../contexts/userContext\";\nimport { share } from \"../../utils\";\nimport CONFIG from \"../../config\";\nimport { generateSlug } from \"../../utils/slug\";\nimport { Button, Clickable, Switch } from 'phoenix-components';\nimport eyeIcon from \"../../assets/v2/products/eye.svg\";\nimport shareIcon from \"../../assets/v2/products/share.svg\";\nimport deleteIcon from \"../../assets/images/address/delete.svg\";\nimport WebView from \"../../services/webview\";\nimport { useToggle } from \"../../hooks/common\";\nimport { DeleteAlert } from \"../shared/DeleteAlert\";\nimport { OptionsDrawer } from \"./index\";\nimport styles from \"./ProductCard.module.css\";\nexport function ProductCard({\n  product,\n  showBorder\n}) {\n  _s();\n\n  var _product$variations, _product$variations2, _product$amount;\n\n  const history = useHistory();\n  const shop = useShop();\n\n  const image = _.get(product, 'images[0].url', '');\n\n  const [status, setStatus] = useState(product === null || product === void 0 ? void 0 : product.status);\n  const enableCheckBox = status === 'live' || status === 'created' || status === 'unlive' || status === 'out of stock';\n  const [checked, setChecked] = useState(status === 'live' || status === 'created');\n  const isCustomDomain = useIsOnCustomDomain();\n  const domain = useCustomDomain();\n  const [openModal, toggleModal] = useToggle(false);\n  const [openDelete, toggleDelete] = useToggle(false);\n  const [openRedirect, toggleRedirect] = useToggle(false);\n\n  const onClick = () => {\n    history.push(`/products/product/${product._id}`);\n  };\n\n  const getStatus = () => {\n    if (status === 'live' || status === 'created') {\n      return 'Live';\n    }\n\n    if (status === 'deleted') {\n      return 'Deleted';\n    }\n\n    if (status === 'draft') {\n      return 'Draft';\n    }\n\n    if (status === 'out of stock') {\n      return 'Out Of Stock';\n    }\n\n    if (status === 'unlive') {\n      return 'Hidden';\n    }\n  };\n\n  const onShare = e => {\n    e.stopPropagation();\n    e.preventDefault();\n    const productUrl = shareProduct(generateSlug(product.title, product._id), shop.slug, isCustomDomain, domain);\n    share(`Hello\n\nProduct Name: ${product.title}\nPrice: ${shop.currency} ${product.discountedAmount}\n\nYou can place the order for this product here ${productUrl}\n\nYou can chat with us on the same link if you need any help with this order\n\nP.S Please visit my WINDO Shop at\n${shareShop(shop.slug, isCustomDomain, domain)} to see the complete catalog and buy my products.\n\nThank you\n${shop.name}`);\n  };\n\n  const toggle = async status => {\n    try {\n      Loader.show();\n      await Becca.updateProductStatus(product._id, {\n        status\n      });\n      setChecked(!checked);\n      setStatus(status);\n\n      if (checked) {\n        toggleModal();\n      }\n    } catch (e) {\n      SnackBar.show('please try again later', 'error');\n      console.error(e);\n    } finally {\n      Loader.hide();\n    }\n  };\n\n  const openStatusModal = e => {\n    e.stopPropagation();\n\n    if (checked) {\n      toggleModal();\n      return;\n    }\n\n    if (!product.available) {\n      toggleRedirect();\n      return;\n    }\n\n    toggle('live');\n  };\n\n  const previewUrl = () => {\n    if (CONFIG.ENV === 'staging') {\n      return `https://staging.mywindo.shop/${shop.slug}/${generateSlug(product.title, product._id)}`;\n    }\n\n    return `https://mywindo.shop/${shop.slug}/${generateSlug(product.title, product._id)}`;\n  };\n\n  const openProduct = e => {\n    e.stopPropagation();\n    const url = previewUrl();\n\n    if (WebView.isWebView()) {\n      e.preventDefault();\n      WebView.openUrl(url);\n      return;\n    }\n\n    window.open(url);\n  };\n\n  const variations = (_product$variations = product.variations) !== null && _product$variations !== void 0 && _product$variations.values ? (_product$variations2 = product.variations) === null || _product$variations2 === void 0 ? void 0 : _product$variations2.values.join(', ') : '';\n  const {\n    colors = []\n  } = product;\n  const {\n    amount,\n    discountedAmount\n  } = product;\n  const isOOS = status === 'out of stock';\n  const discount = ((amount - discountedAmount) / amount * 100).toFixed(0);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Clickable, {\n    className: cx(styles.root, {\n      [styles.border]: showBorder,\n      [styles.border1]: !showBorder\n    }),\n    onClick: () => {\n      onClick();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.left,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 11\n    }\n  }, !isOOS && /*#__PURE__*/React.createElement(\"img\", {\n    src: image,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 24\n    }\n  }), isOOS && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.oosSec,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: image,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.oos,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 19\n    }\n  }, \" Out of stock \")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.column,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.row1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.title,\n    translate: \"no\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 15\n    }\n  }, product.title), enableCheckBox && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.relative,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Switch, {\n    active: checked,\n    size: \"small\",\n    onChange: openStatusModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: cx(styles.statusRel),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: cx(styles.status, styles[checked ? 'live' : 'unlive']),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: cx(styles.dot, styles[checked ? 'live' : 'unlive']),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 23\n    }\n  }), ' ', /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 23\n    }\n  }, getStatus())))), !enableCheckBox && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.relative,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 17\n    }\n  }, status === 'draft' && /*#__PURE__*/React.createElement(\"img\", {\n    onClick: e => {\n      e.preventDefault();\n      e.stopPropagation();\n      toggleDelete();\n    },\n    src: deleteIcon,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: cx(styles.statusRel, {\n      [styles.statusRelDel]: status !== 'draft',\n      [styles.statusRel1]: status === 'draft'\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: cx(styles.status, {\n      [styles.oos]: status === 'out of stock',\n      [styles.deleted]: status === 'deleted' || status === 'draft'\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: cx(styles.dot, styles.unlive),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 23\n    }\n  }), ' ', /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 23\n    }\n  }, getStatus()))))), product.variations && /*#__PURE__*/React.createElement(\"div\", {\n    className: cx(styles.row),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.variations,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.nameSection,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 19\n    }\n  }, variations.slice(0, 24), variations.length > 24 ? '...' : ''), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.colorsSection,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 19\n    }\n  }, colors.map(x => /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.colorBox,\n    style: {\n      background: x.hex\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 25\n    }\n  })))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: cx(styles.row, styles.noMar),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: cx(styles.price, {\n      [styles.noBorder]: product.variantCount === 1 && product.amount === product.discountedAmount\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 15\n    }\n  }, `${shop.currency} ${((product === null || product === void 0 ? void 0 : product.discountedAmount) || 0).toFixed(2)}`), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.variantCount,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 15\n    }\n  }, product.amount !== product.discountedAmount && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.amount,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 21\n    }\n  }, `${shop.currency} ${(_product$amount = product.amount) === null || _product$amount === void 0 ? void 0 : _product$amount.toFixed(2)}`), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.discount,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 21\n    }\n  }, discount, \"% OFF\")))), status !== 'draft' && /*#__PURE__*/React.createElement(\"div\", {\n    className: cx(styles.row, styles.shareContainer),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    primary: false,\n    size: \"small\",\n    startIcon: eyeIcon,\n    label: \"Preview\",\n    className: styles.shareButton,\n    onClick: openProduct,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    primary: false,\n    size: \"small\",\n    startIcon: shareIcon,\n    label: \"Share Product\",\n    className: styles.shareButton,\n    onClick: onShare,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 17\n    }\n  }))))), openRedirect && /*#__PURE__*/React.createElement(DeleteAlert, {\n    title: 'Uh-oh! Looks like all the units have been sold out for this product. ' + ' Add inventory for this product to make it Live again.',\n    onCancel: toggleRedirect,\n    onDelete: onClick,\n    primary: \"Yes\",\n    secondary: \"Cancel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 9\n    }\n  }), openDelete && /*#__PURE__*/React.createElement(DeleteAlert, {\n    title: \"Are you sure you want to delete this product from drafts?\",\n    onCancel: toggleDelete,\n    onDelete: () => {\n      toggle('deleted');\n      toggleDelete();\n    },\n    primary: \"Yes\",\n    secondary: \"Cancel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 9\n    }\n  }), openModal && /*#__PURE__*/React.createElement(OptionsDrawer, {\n    onClose: toggleModal,\n    onApply: toggle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 21\n    }\n  }));\n}\n\n_s(ProductCard, \"X8Ac039JLJv8jEHroeqNBK5CHsM=\", false, function () {\n  return [useHistory, useShop, useIsOnCustomDomain, useCustomDomain, useToggle, useToggle, useToggle];\n});\n\n_c = ProductCard;\nProductCard.propTypes = {\n  product: PropTypes.object.isRequired,\n  showBorder: PropTypes.bool\n};\nProductCard.defaultProps = {\n  showBorder: false\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductCard\");","map":{"version":3,"sources":["/home/harish/windo/phoenix/src/components/products/ProductCard.jsx"],"names":["React","useState","PropTypes","_","useHistory","cx","Becca","SnackBar","Loader","shareProduct","shareShop","useCustomDomain","useIsOnCustomDomain","useShop","share","CONFIG","generateSlug","Button","Clickable","Switch","WebView","useToggle","DeleteAlert","OptionsDrawer","styles","ProductCard","product","showBorder","history","shop","image","get","status","setStatus","enableCheckBox","checked","setChecked","isCustomDomain","domain","openModal","toggleModal","openDelete","toggleDelete","openRedirect","toggleRedirect","onClick","push","_id","getStatus","onShare","e","stopPropagation","preventDefault","productUrl","title","slug","currency","discountedAmount","name","toggle","show","updateProductStatus","console","error","hide","openStatusModal","available","previewUrl","ENV","openProduct","url","isWebView","openUrl","window","open","variations","values","join","colors","amount","isOOS","discount","toFixed","root","border","border1","container","left","oosSec","oos","column","row1","relative","statusRel","dot","deleteIcon","statusRelDel","statusRel1","deleted","unlive","row","nameSection","slice","length","colorsSection","map","x","colorBox","background","hex","noMar","price","noBorder","variantCount","shareContainer","eyeIcon","shareButton","shareIcon","propTypes","object","isRequired","bool","defaultProps"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,EAAP,MAAe,YAAf;AACA,SAASC,KAAT;AACA,OAAOC,QAAP;AACA,OAAOC,MAAP;AACA,SAASC,YAAT,EAAuBC,SAAvB;AACA,SAASC,eAAT,EAA0BC,mBAA1B,EAA+CC,OAA/C;AACA,SAASC,KAAT;AACA,OAAOC,MAAP;AACA,SAASC,YAAT;AACA,SAASC,MAAT,EAAiBC,SAAjB,EAA4BC,MAA5B,QAA0C,oBAA1C;;;;AAIA,OAAOC,OAAP;AACA,SAASC,SAAT;AACA,SAASC,WAAT;AACA,SAASC,aAAT;AACA,OAAOC,MAAP;AAEA,OAAO,SAASC,WAAT,CAAqB;AAAEC,EAAAA,OAAF;AAAWC,EAAAA;AAAX,CAArB,EAA8C;AAAA;;AAAA;;AACnD,QAAMC,OAAO,GAAGxB,UAAU,EAA1B;AACA,QAAMyB,IAAI,GAAGhB,OAAO,EAApB;;AACA,QAAMiB,KAAK,GAAG3B,CAAC,CAAC4B,GAAF,CAAML,OAAN,EAAe,eAAf,EAAgC,EAAhC,CAAd;;AACA,QAAM,CAACM,MAAD,EAASC,SAAT,IAAsBhC,QAAQ,CAACyB,OAAD,aAACA,OAAD,uBAACA,OAAO,CAAEM,MAAV,CAApC;AACA,QAAME,cAAc,GAAGF,MAAM,KAAK,MAAX,IAClBA,MAAM,KAAK,SADO,IACMA,MAAM,KAAK,QADjB,IAElBA,MAAM,KAAK,cAFhB;AAGA,QAAM,CAACG,OAAD,EAAUC,UAAV,IAAwBnC,QAAQ,CAAC+B,MAAM,KAAK,MAAX,IAAqBA,MAAM,KAAK,SAAjC,CAAtC;AACA,QAAMK,cAAc,GAAGzB,mBAAmB,EAA1C;AACA,QAAM0B,MAAM,GAAG3B,eAAe,EAA9B;AACA,QAAM,CAAC4B,SAAD,EAAYC,WAAZ,IAA2BnB,SAAS,CAAC,KAAD,CAA1C;AACA,QAAM,CAACoB,UAAD,EAAaC,YAAb,IAA6BrB,SAAS,CAAC,KAAD,CAA5C;AACA,QAAM,CAACsB,YAAD,EAAeC,cAAf,IAAiCvB,SAAS,CAAC,KAAD,CAAhD;;AAEA,QAAMwB,OAAO,GAAG,MAAM;AACpBjB,IAAAA,OAAO,CAACkB,IAAR,CAAc,qBAAoBpB,OAAO,CAACqB,GAAI,EAA9C;AACD,GAFD;;AAIA,QAAMC,SAAS,GAAG,MAAM;AACtB,QAAIhB,MAAM,KAAK,MAAX,IAAqBA,MAAM,KAAK,SAApC,EAA+C;AAC7C,aAAO,MAAP;AACD;;AACD,QAAIA,MAAM,KAAK,SAAf,EAA0B;AACxB,aAAO,SAAP;AACD;;AACD,QAAIA,MAAM,KAAK,OAAf,EAAwB;AACtB,aAAO,OAAP;AACD;;AACD,QAAIA,MAAM,KAAK,cAAf,EAA+B;AAC7B,aAAO,cAAP;AACD;;AACD,QAAIA,MAAM,KAAK,QAAf,EAAyB;AACvB,aAAO,QAAP;AACD;AACF,GAhBD;;AAkBA,QAAMiB,OAAO,GAAIC,CAAD,IAAO;AACrBA,IAAAA,CAAC,CAACC,eAAF;AACAD,IAAAA,CAAC,CAACE,cAAF;AACA,UAAMC,UAAU,GAAG5C,YAAY,CAACO,YAAY,CAACU,OAAO,CAAC4B,KAAT,EAAgB5B,OAAO,CAACqB,GAAxB,CAAb,EAA2ClB,IAAI,CAAC0B,IAAhD,EAAsDlB,cAAtD,EAAsEC,MAAtE,CAA/B;AACAxB,IAAAA,KAAK,CAAE;AACX;AACA,gBAAgBY,OAAO,CAAC4B,KAAM;AAC9B,SAASzB,IAAI,CAAC2B,QAAS,IAAG9B,OAAO,CAAC+B,gBAAiB;AACnD;AACA,gDAAgDJ,UAAW;AAC3D;AACA;AACA;AACA;AACA,EAAE3C,SAAS,CAACmB,IAAI,CAAC0B,IAAN,EAAYlB,cAAZ,EAA4BC,MAA5B,CAAoC;AAC/C;AACA;AACA,EAAET,IAAI,CAAC6B,IAAK,EAbH,CAAL;AAcD,GAlBD;;AAoBA,QAAMC,MAAM,GAAG,MAAM3B,MAAN,IAAgB;AAC7B,QAAI;AACFxB,MAAAA,MAAM,CAACoD,IAAP;AACA,YAAMtD,KAAK,CAACuD,mBAAN,CAA0BnC,OAAO,CAACqB,GAAlC,EAAuC;AAAEf,QAAAA;AAAF,OAAvC,CAAN;AACAI,MAAAA,UAAU,CAAC,CAACD,OAAF,CAAV;AACAF,MAAAA,SAAS,CAACD,MAAD,CAAT;;AACA,UAAIG,OAAJ,EAAa;AACXK,QAAAA,WAAW;AACZ;AACF,KARD,CAQE,OAAOU,CAAP,EAAU;AACV3C,MAAAA,QAAQ,CAACqD,IAAT,CAAc,wBAAd,EAAwC,OAAxC;AACAE,MAAAA,OAAO,CAACC,KAAR,CAAcb,CAAd;AACD,KAXD,SAWU;AACR1C,MAAAA,MAAM,CAACwD,IAAP;AACD;AACF,GAfD;;AAiBA,QAAMC,eAAe,GAAIf,CAAD,IAAO;AAC7BA,IAAAA,CAAC,CAACC,eAAF;;AACA,QAAIhB,OAAJ,EAAa;AACXK,MAAAA,WAAW;AACX;AACD;;AACD,QAAI,CAACd,OAAO,CAACwC,SAAb,EAAwB;AACtBtB,MAAAA,cAAc;AACd;AACD;;AACDe,IAAAA,MAAM,CAAC,MAAD,CAAN;AACD,GAXD;;AAaA,QAAMQ,UAAU,GAAG,MAAM;AACvB,QAAIpD,MAAM,CAACqD,GAAP,KAAe,SAAnB,EAA8B;AAC5B,aAAQ,gCAA+BvC,IAAI,CAAC0B,IAAK,IAAGvC,YAAY,CAACU,OAAO,CAAC4B,KAAT,EAAgB5B,OAAO,CAACqB,GAAxB,CAA6B,EAA7F;AACD;;AACD,WAAQ,wBAAuBlB,IAAI,CAAC0B,IAAK,IAAGvC,YAAY,CAACU,OAAO,CAAC4B,KAAT,EAAgB5B,OAAO,CAACqB,GAAxB,CAA6B,EAArF;AACD,GALD;;AAOA,QAAMsB,WAAW,GAAInB,CAAD,IAAO;AACzBA,IAAAA,CAAC,CAACC,eAAF;AACA,UAAMmB,GAAG,GAAGH,UAAU,EAAtB;;AACA,QAAI/C,OAAO,CAACmD,SAAR,EAAJ,EAAyB;AACvBrB,MAAAA,CAAC,CAACE,cAAF;AACAhC,MAAAA,OAAO,CAACoD,OAAR,CAAgBF,GAAhB;AACA;AACD;;AACDG,IAAAA,MAAM,CAACC,IAAP,CAAYJ,GAAZ;AACD,GATD;;AAWA,QAAMK,UAAU,GAAG,uBAAAjD,OAAO,CAACiD,UAAR,oEAAoBC,MAApB,2BAA6BlD,OAAO,CAACiD,UAArC,yDAA6B,qBAAoBC,MAApB,CAA2BC,IAA3B,CAAgC,IAAhC,CAA7B,GAAqE,EAAxF;AACA,QAAM;AAAEC,IAAAA,MAAM,GAAG;AAAX,MAAkBpD,OAAxB;AAEA,QAAM;AAAEqD,IAAAA,MAAF;AAAUtB,IAAAA;AAAV,MAA+B/B,OAArC;AAEA,QAAMsD,KAAK,GAAGhD,MAAM,KAAK,cAAzB;AAEA,QAAMiD,QAAQ,GAAG,CAAE,CAACF,MAAM,GAAGtB,gBAAV,IAA8BsB,MAA/B,GAAyC,GAA1C,EAA+CG,OAA/C,CAAuD,CAAvD,CAAjB;AAEA,sBACE,uDACE,oBAAC,SAAD;AACE,IAAA,SAAS,EAAE7E,EAAE,CAACmB,MAAM,CAAC2D,IAAR,EAAc;AACzB,OAAC3D,MAAM,CAAC4D,MAAR,GAAiBzD,UADQ;AAEzB,OAACH,MAAM,CAAC6D,OAAR,GAAkB,CAAC1D;AAFM,KAAd,CADf;AAKE,IAAA,OAAO,EAAE,MAAM;AAAEkB,MAAAA,OAAO;AAAK,KAL/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAOE;AAAK,IAAA,SAAS,EAAErB,MAAM,CAAC8D,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAE9D,MAAM,CAAC+D,IAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,CAACP,KAAD,iBAAU;AAAK,IAAA,GAAG,EAAElD,KAAV;AAAiB,IAAA,GAAG,EAAC,EAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADb,EAEGkD,KAAK,iBACJ;AAAK,IAAA,SAAS,EAAExD,MAAM,CAACgE,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,GAAG,EAAE1D,KAAV;AAAiB,IAAA,GAAG,EAAC,EAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAK,IAAA,SAAS,EAAEN,MAAM,CAACiE,GAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,CAFF,CAHJ,CADF,eAYE;AAAK,IAAA,SAAS,EAAEjE,MAAM,CAACkE,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAElE,MAAM,CAACmE,IAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAEnE,MAAM,CAAC8B,KAAvB;AAA8B,IAAA,SAAS,EAAC,IAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG5B,OAAO,CAAC4B,KADX,CADF,EAIGpB,cAAc,iBACb;AAAK,IAAA,SAAS,EAAEV,MAAM,CAACoE,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AACE,IAAA,MAAM,EAAEzD,OADV;AAEE,IAAA,IAAI,EAAC,OAFP;AAGE,IAAA,QAAQ,EAAE8B,eAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAME;AAAK,IAAA,SAAS,EAAE5D,EAAE,CAACmB,MAAM,CAACqE,SAAR,CAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAExF,EAAE,CAACmB,MAAM,CAACQ,MAAR,EAAgBR,MAAM,CAACW,OAAO,GAAG,MAAH,GAAY,QAApB,CAAtB,CAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,SAAS,EAAE9B,EAAE,CAACmB,MAAM,CAACsE,GAAR,EAAatE,MAAM,CAACW,OAAO,GAAG,MAAH,GAAY,QAApB,CAAnB,CAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEG,GAFH,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAOa,SAAS,EAAhB,CAHF,CADF,CANF,CALJ,EAoBG,CAACd,cAAD,iBACC;AAAK,IAAA,SAAS,EAAEV,MAAM,CAACoE,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG5D,MAAM,KAAK,OAAX,iBACC;AACE,IAAA,OAAO,EAAGkB,CAAD,IAAO;AACdA,MAAAA,CAAC,CAACE,cAAF;AACAF,MAAAA,CAAC,CAACC,eAAF;AACAT,MAAAA,YAAY;AACb,KALH;AAME,IAAA,GAAG,EAAEqD,UANP;AAOE,IAAA,GAAG,EAAC,EAPN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,eAWE;AACE,IAAA,SAAS,EAAE1F,EAAE,CAACmB,MAAM,CAACqE,SAAR,EAAmB;AAC9B,OAACrE,MAAM,CAACwE,YAAR,GAAuBhE,MAAM,KAAK,OADJ;AAE9B,OAACR,MAAM,CAACyE,UAAR,GAAqBjE,MAAM,KAAK;AAFF,KAAnB,CADf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKE;AACE,IAAA,SAAS,EAAE3B,EAAE,CAACmB,MAAM,CAACQ,MAAR,EACX;AACE,OAACR,MAAM,CAACiE,GAAR,GAAczD,MAAM,KAAK,cAD3B;AAEE,OAACR,MAAM,CAAC0E,OAAR,GAAkBlE,MAAM,KAAK,SAAX,IAAwBA,MAAM,KAAK;AAFvD,KADW,CADf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAME;AAAM,IAAA,SAAS,EAAE3B,EAAE,CAACmB,MAAM,CAACsE,GAAR,EAAatE,MAAM,CAAC2E,MAApB,CAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,EAOG,GAPH,eAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAOnD,SAAS,EAAhB,CARF,CALF,CAXF,CArBJ,CADF,EAoDGtB,OAAO,CAACiD,UAAR,iBACC;AAAK,IAAA,SAAS,EAAEtE,EAAE,CAACmB,MAAM,CAAC4E,GAAR,CAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAE5E,MAAM,CAACmD,UAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAEnD,MAAM,CAAC6E,WAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG1B,UAAU,CAAC2B,KAAX,CAAiB,CAAjB,EAAoB,EAApB,CADH,EAEG3B,UAAU,CAAC4B,MAAX,GAAoB,EAApB,GAAyB,KAAzB,GAAiC,EAFpC,CADF,eAKE;AAAK,IAAA,SAAS,EAAE/E,MAAM,CAACgF,aAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG1B,MAAM,CAAC2B,GAAP,CAAWC,CAAC,iBACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAElF,MAAM,CAACmF,QAAvB;AAAiC,IAAA,KAAK,EAAE;AAAEC,MAAAA,UAAU,EAAEF,CAAC,CAACG;AAAhB,KAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADD,CADH,CALF,CADF,CArDJ,eAqEE;AAAK,IAAA,SAAS,EAAExG,EAAE,CAACmB,MAAM,CAAC4E,GAAR,EAAa5E,MAAM,CAACsF,KAApB,CAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,SAAS,EAAEzG,EAAE,CAACmB,MAAM,CAACuF,KAAR,EAAe;AAC1B,OAACvF,MAAM,CAACwF,QAAR,GAAmBtF,OAAO,CAACuF,YAAR,KAAyB,CAAzB,IAA8BvF,OAAO,CAACqD,MAAR,KAAmBrD,OAAO,CAAC+B;AADlD,KAAf,CADf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKI,GAAE5B,IAAI,CAAC2B,QAAS,IAAG,CAAC,CAAA9B,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAE+B,gBAAT,KAA6B,CAA9B,EAAiCyB,OAAjC,CAAyC,CAAzC,CAA4C,EALnE,CADF,eAQE;AACE,IAAA,SAAS,EAAE1D,MAAM,CAACyF,YADpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGGvF,OAAO,CAACqD,MAAR,KAAmBrD,OAAO,CAAC+B,gBAA3B,iBACC,uDACE;AAAM,IAAA,SAAS,EAAEjC,MAAM,CAACuD,MAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,GAAElD,IAAI,CAAC2B,QAAS,IAAjB,mBAAoB9B,OAAO,CAACqD,MAA5B,oDAAoB,gBAAgBG,OAAhB,CAAwB,CAAxB,CAA2B,EADlD,CADF,eAIE;AAAM,IAAA,SAAS,EAAE1D,MAAM,CAACyD,QAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGA,QADH,UAJF,CAJJ,CARF,CArEF,EA6FGjD,MAAM,KAAK,OAAX,iBACC;AAAK,IAAA,SAAS,EAAE3B,EAAE,CAACmB,MAAM,CAAC4E,GAAR,EAAa5E,MAAM,CAAC0F,cAApB,CAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AACE,IAAA,OAAO,EAAE,KADX;AAEE,IAAA,IAAI,EAAC,OAFP;AAGE,IAAA,SAAS,EAAEC,OAHb;AAIE,IAAA,KAAK,EAAC,SAJR;AAKE,IAAA,SAAS,EAAE3F,MAAM,CAAC4F,WALpB;AAME,IAAA,OAAO,EAAE/C,WANX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eASE,oBAAC,MAAD;AACE,IAAA,OAAO,EAAE,KADX;AAEE,IAAA,IAAI,EAAC,OAFP;AAGE,IAAA,SAAS,EAAEgD,SAHb;AAIE,IAAA,KAAK,EAAC,eAJR;AAKE,IAAA,SAAS,EAAE7F,MAAM,CAAC4F,WALpB;AAME,IAAA,OAAO,EAAEnE,OANX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,CA9FJ,CAZF,CAPF,CADF,EAwIGN,YAAY,iBACX,oBAAC,WAAD;AACE,IAAA,KAAK,EAAE,0EACH,wDAFN;AAGE,IAAA,QAAQ,EAAEC,cAHZ;AAIE,IAAA,QAAQ,EAAEC,OAJZ;AAKE,IAAA,OAAO,EAAC,KALV;AAME,IAAA,SAAS,EAAC,QANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAzIJ,EAkJGJ,UAAU,iBACT,oBAAC,WAAD;AACE,IAAA,KAAK,EAAC,2DADR;AAEE,IAAA,QAAQ,EAAEC,YAFZ;AAGE,IAAA,QAAQ,EAAE,MAAM;AACdiB,MAAAA,MAAM,CAAC,SAAD,CAAN;AACAjB,MAAAA,YAAY;AACb,KANH;AAOE,IAAA,OAAO,EAAC,KAPV;AAQE,IAAA,SAAS,EAAC,QARZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAnJJ,EA8JGH,SAAS,iBAAI,oBAAC,aAAD;AAAe,IAAA,OAAO,EAAEC,WAAxB;AAAqC,IAAA,OAAO,EAAEmB,MAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA9JhB,CADF;AAkKD;;GApRelC,W;UACErB,U,EACHS,O,EAOUD,mB,EACRD,e,EACkBU,S,EACEA,S,EACIA,S;;;KAbzBI,W;AAsRhBA,WAAW,CAAC6F,SAAZ,GAAwB;AACtB5F,EAAAA,OAAO,EAAExB,SAAS,CAACqH,MAAV,CAAiBC,UADJ;AAEtB7F,EAAAA,UAAU,EAAEzB,SAAS,CAACuH;AAFA,CAAxB;AAKAhG,WAAW,CAACiG,YAAZ,GAA2B;AACzB/F,EAAAA,UAAU,EAAE;AADa,CAA3B","sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport _ from 'lodash';\nimport { useHistory } from 'react-router-dom';\nimport cx from 'classnames';\nimport { Becca } from 'api';\nimport SnackBar from 'services/snackbar';\nimport Loader from 'services/loader';\nimport { shareProduct, shareShop } from 'utils/share';\nimport { useCustomDomain, useIsOnCustomDomain, useShop } from 'contexts/userContext';\nimport { share } from 'utils';\nimport CONFIG from 'config';\nimport { generateSlug } from 'utils/slug';\nimport { Button, Clickable, Switch } from 'phoenix-components';\nimport eyeIcon from 'assets/v2/products/eye.svg';\nimport shareIcon from 'assets/v2/products/share.svg';\nimport deleteIcon from 'assets/images/address/delete.svg';\nimport WebView from 'services/webview';\nimport { useToggle } from 'hooks/common';\nimport { DeleteAlert } from 'components/shared/DeleteAlert';\nimport { OptionsDrawer } from 'components/products';\nimport styles from './ProductCard.module.css';\n\nexport function ProductCard({ product, showBorder }) {\n  const history = useHistory();\n  const shop = useShop();\n  const image = _.get(product, 'images[0].url', '');\n  const [status, setStatus] = useState(product?.status);\n  const enableCheckBox = status === 'live'\n    || status === 'created' || status === 'unlive'\n    || status === 'out of stock';\n  const [checked, setChecked] = useState(status === 'live' || status === 'created');\n  const isCustomDomain = useIsOnCustomDomain();\n  const domain = useCustomDomain();\n  const [openModal, toggleModal] = useToggle(false);\n  const [openDelete, toggleDelete] = useToggle(false);\n  const [openRedirect, toggleRedirect] = useToggle(false);\n\n  const onClick = () => {\n    history.push(`/products/product/${product._id}`);\n  };\n\n  const getStatus = () => {\n    if (status === 'live' || status === 'created') {\n      return 'Live';\n    }\n    if (status === 'deleted') {\n      return 'Deleted';\n    }\n    if (status === 'draft') {\n      return 'Draft';\n    }\n    if (status === 'out of stock') {\n      return 'Out Of Stock';\n    }\n    if (status === 'unlive') {\n      return 'Hidden';\n    }\n  };\n\n  const onShare = (e) => {\n    e.stopPropagation();\n    e.preventDefault();\n    const productUrl = shareProduct(generateSlug(product.title, product._id), shop.slug, isCustomDomain, domain);\n    share(`Hello\n\nProduct Name: ${product.title}\nPrice: ${shop.currency} ${product.discountedAmount}\n\nYou can place the order for this product here ${productUrl}\n\nYou can chat with us on the same link if you need any help with this order\n\nP.S Please visit my WINDO Shop at\n${shareShop(shop.slug, isCustomDomain, domain)} to see the complete catalog and buy my products.\n\nThank you\n${shop.name}`);\n  };\n\n  const toggle = async status => {\n    try {\n      Loader.show();\n      await Becca.updateProductStatus(product._id, { status });\n      setChecked(!checked);\n      setStatus(status);\n      if (checked) {\n        toggleModal();\n      }\n    } catch (e) {\n      SnackBar.show('please try again later', 'error');\n      console.error(e);\n    } finally {\n      Loader.hide();\n    }\n  };\n\n  const openStatusModal = (e) => {\n    e.stopPropagation();\n    if (checked) {\n      toggleModal();\n      return;\n    }\n    if (!product.available) {\n      toggleRedirect();\n      return;\n    }\n    toggle('live');\n  };\n\n  const previewUrl = () => {\n    if (CONFIG.ENV === 'staging') {\n      return `https://staging.mywindo.shop/${shop.slug}/${generateSlug(product.title, product._id)}`;\n    }\n    return `https://mywindo.shop/${shop.slug}/${generateSlug(product.title, product._id)}`;\n  };\n\n  const openProduct = (e) => {\n    e.stopPropagation();\n    const url = previewUrl();\n    if (WebView.isWebView()) {\n      e.preventDefault();\n      WebView.openUrl(url);\n      return;\n    }\n    window.open(url);\n  };\n\n  const variations = product.variations?.values ? product.variations?.values.join(', ') : '';\n  const { colors = [] } = product;\n\n  const { amount, discountedAmount } = product;\n\n  const isOOS = status === 'out of stock';\n\n  const discount = (((amount - discountedAmount) / amount) * 100).toFixed(0);\n\n  return (\n    <>\n      <Clickable\n        className={cx(styles.root, {\n          [styles.border]: showBorder,\n          [styles.border1]: !showBorder\n        })}\n        onClick={() => { onClick(); }}\n      >\n        <div className={styles.container}>\n          <div className={styles.left}>\n            {!isOOS && <img src={image} alt=\"\" />}\n            {isOOS && (\n              <div className={styles.oosSec}>\n                <img src={image} alt=\"\" />\n                <div className={styles.oos}>\n                  <div> Out of stock </div>\n                </div>\n              </div>\n            )}\n          </div>\n          <div className={styles.column}>\n            <div className={styles.row1}>\n              <div className={styles.title} translate=\"no\">\n                {product.title}\n              </div>\n              {enableCheckBox && (\n                <div className={styles.relative}>\n                  <Switch\n                    active={checked}\n                    size=\"small\"\n                    onChange={openStatusModal}\n                  />\n                  <div className={cx(styles.statusRel)}>\n                    <div className={cx(styles.status, styles[checked ? 'live' : 'unlive'])}>\n                      <span className={cx(styles.dot, styles[checked ? 'live' : 'unlive'])} />\n                      {' '}\n                      <span>{getStatus()}</span>\n                    </div>\n                  </div>\n                </div>\n              )}\n              {!enableCheckBox && (\n                <div className={styles.relative}>\n                  {status === 'draft' && (\n                    <img\n                      onClick={(e) => {\n                        e.preventDefault();\n                        e.stopPropagation();\n                        toggleDelete();\n                      }}\n                      src={deleteIcon}\n                      alt=\"\" />\n                  )}\n                  <div\n                    className={cx(styles.statusRel, {\n                      [styles.statusRelDel]: status !== 'draft',\n                      [styles.statusRel1]: status === 'draft'\n                    })}>\n                    <div\n                      className={cx(styles.status,\n                        {\n                          [styles.oos]: status === 'out of stock',\n                          [styles.deleted]: status === 'deleted' || status === 'draft'\n                        })}>\n                      <span className={cx(styles.dot, styles.unlive)} />\n                      {' '}\n                      <span>{getStatus()}</span>\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n            {product.variations && (\n              <div className={cx(styles.row)}>\n                <div className={styles.variations}>\n                  <div className={styles.nameSection}>\n                    {variations.slice(0, 24)}\n                    {variations.length > 24 ? '...' : ''}\n                  </div>\n                  <div className={styles.colorsSection}>\n                    {colors.map(x => (\n                      <div>\n                        <div className={styles.colorBox} style={{ background: x.hex }} />\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              </div>\n            )}\n            <div className={cx(styles.row, styles.noMar)}>\n              <div\n                className={cx(styles.price, {\n                  [styles.noBorder]: product.variantCount === 1 && product.amount === product.discountedAmount,\n                })}\n              >\n                {`${shop.currency} ${(product?.discountedAmount || 0).toFixed(2)}`}\n              </div>\n              <div\n                className={styles.variantCount}\n              >\n                {product.amount !== product.discountedAmount && (\n                  <>\n                    <span className={styles.amount}>\n                      {`${shop.currency} ${product.amount?.toFixed(2)}`}\n                    </span>\n                    <span className={styles.discount}>\n                      {discount}\n                      % OFF\n                    </span>\n                  </>\n                )}\n              </div>\n            </div>\n            {status !== 'draft' && (\n              <div className={cx(styles.row, styles.shareContainer)}>\n                <Button\n                  primary={false}\n                  size=\"small\"\n                  startIcon={eyeIcon}\n                  label=\"Preview\"\n                  className={styles.shareButton}\n                  onClick={openProduct}\n                />\n                <Button\n                  primary={false}\n                  size=\"small\"\n                  startIcon={shareIcon}\n                  label=\"Share Product\"\n                  className={styles.shareButton}\n                  onClick={onShare}\n                />\n              </div>\n            )}\n          </div>\n        </div>\n      </Clickable>\n      {openRedirect && (\n        <DeleteAlert\n          title={'Uh-oh! Looks like all the units have been sold out for this product. '\n            + ' Add inventory for this product to make it Live again.'}\n          onCancel={toggleRedirect}\n          onDelete={onClick}\n          primary=\"Yes\"\n          secondary=\"Cancel\"\n        />\n      )}\n      {openDelete && (\n        <DeleteAlert\n          title=\"Are you sure you want to delete this product from drafts?\"\n          onCancel={toggleDelete}\n          onDelete={() => {\n            toggle('deleted');\n            toggleDelete();\n          }}\n          primary=\"Yes\"\n          secondary=\"Cancel\"\n        />\n      )}\n      {openModal && <OptionsDrawer onClose={toggleModal} onApply={toggle} />}\n    </>\n  );\n}\n\nProductCard.propTypes = {\n  product: PropTypes.object.isRequired,\n  showBorder: PropTypes.bool,\n};\n\nProductCard.defaultProps = {\n  showBorder: false,\n};\n"]},"metadata":{},"sourceType":"module"}