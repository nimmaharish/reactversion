{"ast":null,"code":"import { BEFORE_EVENT, AFTER_EVENT } from './constants';\n\nvar EventHandler = function () {\n  function EventHandler() {\n    this.observers = {};\n  }\n\n  var _proto = EventHandler.prototype;\n\n  _proto.observe = function observe(name, fn) {\n    var _this = this;\n\n    if (typeof fn === 'function') {\n      if (!this.observers[name]) {\n        this.observers[name] = [];\n      }\n\n      this.observers[name].push(fn);\n      return function () {\n        var index = _this.observers[name].indexOf(fn);\n\n        if (index > -1) {\n          _this.observers[name].splice(index, 1);\n        }\n      };\n    }\n  };\n\n  _proto.sendOnly = function sendOnly(name, args) {\n    var obs = this.observers[name];\n\n    if (obs) {\n      obs.forEach(function (fn) {\n        try {\n          fn.apply(undefined, args);\n        } catch (error) {\n          console.log(error, error.stack);\n        }\n      });\n    }\n  };\n\n  _proto.send = function send(name, args) {\n    this.sendOnly(name + BEFORE_EVENT, args);\n    this.sendOnly(name, args);\n    this.sendOnly(name + AFTER_EVENT, args);\n  };\n\n  return EventHandler;\n}();\n\nexport default EventHandler;","map":{"version":3,"sources":["/home/harish/windo/phoenix/node_modules/@elastic/apm-rum-core/dist/es/common/event-handler.js"],"names":["BEFORE_EVENT","AFTER_EVENT","EventHandler","observers","_proto","prototype","observe","name","fn","_this","push","index","indexOf","splice","sendOnly","args","obs","forEach","apply","undefined","error","console","log","stack","send"],"mappings":"AAAA,SAASA,YAAT,EAAuBC,WAAvB,QAA0C,aAA1C;;AAEA,IAAIC,YAAY,GAAG,YAAY;AAC7B,WAASA,YAAT,GAAwB;AACtB,SAAKC,SAAL,GAAiB,EAAjB;AACD;;AAED,MAAIC,MAAM,GAAGF,YAAY,CAACG,SAA1B;;AAEAD,EAAAA,MAAM,CAACE,OAAP,GAAiB,SAASA,OAAT,CAAiBC,IAAjB,EAAuBC,EAAvB,EAA2B;AAC1C,QAAIC,KAAK,GAAG,IAAZ;;AAEA,QAAI,OAAOD,EAAP,KAAc,UAAlB,EAA8B;AAC5B,UAAI,CAAC,KAAKL,SAAL,CAAeI,IAAf,CAAL,EAA2B;AACzB,aAAKJ,SAAL,CAAeI,IAAf,IAAuB,EAAvB;AACD;;AAED,WAAKJ,SAAL,CAAeI,IAAf,EAAqBG,IAArB,CAA0BF,EAA1B;AACA,aAAO,YAAY;AACjB,YAAIG,KAAK,GAAGF,KAAK,CAACN,SAAN,CAAgBI,IAAhB,EAAsBK,OAAtB,CAA8BJ,EAA9B,CAAZ;;AAEA,YAAIG,KAAK,GAAG,CAAC,CAAb,EAAgB;AACdF,UAAAA,KAAK,CAACN,SAAN,CAAgBI,IAAhB,EAAsBM,MAAtB,CAA6BF,KAA7B,EAAoC,CAApC;AACD;AACF,OAND;AAOD;AACF,GAjBD;;AAmBAP,EAAAA,MAAM,CAACU,QAAP,GAAkB,SAASA,QAAT,CAAkBP,IAAlB,EAAwBQ,IAAxB,EAA8B;AAC9C,QAAIC,GAAG,GAAG,KAAKb,SAAL,CAAeI,IAAf,CAAV;;AAEA,QAAIS,GAAJ,EAAS;AACPA,MAAAA,GAAG,CAACC,OAAJ,CAAY,UAAUT,EAAV,EAAc;AACxB,YAAI;AACFA,UAAAA,EAAE,CAACU,KAAH,CAASC,SAAT,EAAoBJ,IAApB;AACD,SAFD,CAEE,OAAOK,KAAP,EAAc;AACdC,UAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,EAAmBA,KAAK,CAACG,KAAzB;AACD;AACF,OAND;AAOD;AACF,GAZD;;AAcAnB,EAAAA,MAAM,CAACoB,IAAP,GAAc,SAASA,IAAT,CAAcjB,IAAd,EAAoBQ,IAApB,EAA0B;AACtC,SAAKD,QAAL,CAAcP,IAAI,GAAGP,YAArB,EAAmCe,IAAnC;AACA,SAAKD,QAAL,CAAcP,IAAd,EAAoBQ,IAApB;AACA,SAAKD,QAAL,CAAcP,IAAI,GAAGN,WAArB,EAAkCc,IAAlC;AACD,GAJD;;AAMA,SAAOb,YAAP;AACD,CA/CkB,EAAnB;;AAiDA,eAAeA,YAAf","sourcesContent":["import { BEFORE_EVENT, AFTER_EVENT } from './constants';\n\nvar EventHandler = function () {\n  function EventHandler() {\n    this.observers = {};\n  }\n\n  var _proto = EventHandler.prototype;\n\n  _proto.observe = function observe(name, fn) {\n    var _this = this;\n\n    if (typeof fn === 'function') {\n      if (!this.observers[name]) {\n        this.observers[name] = [];\n      }\n\n      this.observers[name].push(fn);\n      return function () {\n        var index = _this.observers[name].indexOf(fn);\n\n        if (index > -1) {\n          _this.observers[name].splice(index, 1);\n        }\n      };\n    }\n  };\n\n  _proto.sendOnly = function sendOnly(name, args) {\n    var obs = this.observers[name];\n\n    if (obs) {\n      obs.forEach(function (fn) {\n        try {\n          fn.apply(undefined, args);\n        } catch (error) {\n          console.log(error, error.stack);\n        }\n      });\n    }\n  };\n\n  _proto.send = function send(name, args) {\n    this.sendOnly(name + BEFORE_EVENT, args);\n    this.sendOnly(name, args);\n    this.sendOnly(name + AFTER_EVENT, args);\n  };\n\n  return EventHandler;\n}();\n\nexport default EventHandler;"]},"metadata":{},"sourceType":"module"}