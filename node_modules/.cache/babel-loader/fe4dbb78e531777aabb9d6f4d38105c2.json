{"ast":null,"code":"var _jsxFileName = \"/home/harish/windo/phoenix/src/components/updateAlert/UpdateAlertDialog.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Dialog, DialogContent } from '@material-ui/core';\nimport logo from \"../../assets/images/windo.svg\";\nimport ButtonComponent from \"../../containers/profile/ButtonComponent\";\nimport PropTypes from 'prop-types';\nimport WebView from \"../../services/webview\";\nimport { updateWebApp } from \"../../utils/app\";\nimport { useDesktop } from \"../../contexts\";\nimport styles from \"./UpdateAlertDialog.module.css\";\nexport function UpdateAlertDialog({\n  onClose,\n  type\n}) {\n  _s();\n\n  const isDesktop = useDesktop();\n\n  const onUpdate = async () => {\n    if (type === 'web') {\n      await updateWebApp();\n      return;\n    }\n\n    try {\n      await WebView.doUpdate();\n    } catch (e) {\n      console.error(e);\n    } finally {\n      localStorage.removeItem('coachmarks');\n      onClose();\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Dialog, {\n    open: false,\n    maxWidth: \"md\",\n    fullWidth: true,\n    onClose: onClose,\n    disableBackdropClick: true,\n    disableEscapeKeyDown: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(DialogContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.heading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, \"New version available\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.middle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.logoContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    role: \"none\",\n    src: logo,\n    className: styles.logo,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  })), type === 'web' ? /*#__PURE__*/React.createElement(React.Fragment, null, isDesktop ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }, \"Your WINDO web version has been updated, please click on REFRESH to update to the latest version.\") : /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, \"Your WINDO app version has been updated, please click on UPDATE to update to the latest version.\")) : /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, \"Please update your WINDO app to the latest version to get the new features, now! Click on UPDATE button below.\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.buttonContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, isDesktop ? /*#__PURE__*/React.createElement(ButtonComponent, {\n    style: styles.button,\n    onclick: onUpdate,\n    text: \"Refresh\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }) : /*#__PURE__*/React.createElement(ButtonComponent, {\n    style: styles.button,\n    onclick: onUpdate,\n    text: \"Update\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }))));\n}\n\n_s(UpdateAlertDialog, \"3l4y9eCI8Q4nOrq3yDi/AmhuQWU=\", false, function () {\n  return [useDesktop];\n});\n\n_c = UpdateAlertDialog;\nUpdateAlertDialog.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  type: PropTypes.string\n};\nUpdateAlertDialog.defaultProps = {\n  type: 'web'\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"UpdateAlertDialog\");","map":{"version":3,"sources":["/home/harish/windo/phoenix/src/components/updateAlert/UpdateAlertDialog.jsx"],"names":["React","Dialog","DialogContent","ButtonComponent","PropTypes","WebView","updateWebApp","useDesktop","styles","UpdateAlertDialog","onClose","type","isDesktop","onUpdate","doUpdate","e","console","error","localStorage","removeItem","heading","middle","logoContainer","logo","text","buttonContainer","button","propTypes","func","isRequired","string","defaultProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Dialog, DialogContent } from '@material-ui/core';\nimport logo from 'assets/images/windo.svg';\nimport ButtonComponent from 'containers/profile/ButtonComponent';\nimport PropTypes from 'prop-types';\nimport WebView from 'services/webview';\nimport { updateWebApp } from 'utils/app';\nimport { useDesktop } from 'contexts';\nimport styles from './UpdateAlertDialog.module.css';\n\nexport function UpdateAlertDialog({ onClose, type }) {\n  const isDesktop = useDesktop();\n\n  const onUpdate = async () => {\n    if (type === 'web') {\n      await updateWebApp();\n      return;\n    }\n    try {\n      await WebView.doUpdate();\n    } catch (e) {\n      console.error(e);\n    } finally {\n      localStorage.removeItem('coachmarks');\n      onClose();\n    }\n  };\n\n  return (\n    <Dialog\n      open={false}\n      maxWidth=\"md\"\n      fullWidth\n      onClose={onClose}\n      disableBackdropClick={true}\n      disableEscapeKeyDown={true}\n    >\n      <DialogContent>\n        <div className={styles.heading}>New version available</div>\n        <div className={styles.middle}>\n          <div className={styles.logoContainer}>\n            <img\n              role=\"none\"\n              src={logo}\n              className={styles.logo}\n              alt=\"\"\n            />\n          </div>\n          {type === 'web' ? (\n            <>\n              {isDesktop ? (\n                <div className={styles.text}>\n                  Your WINDO web version has been updated, please click on REFRESH to update to the latest version.\n                </div>\n              ) : (\n                <div className={styles.text}>\n                  Your WINDO app version has been updated, please click on UPDATE to update to the latest version.\n                </div>\n              )}\n            </>\n          ) : (\n            <div className={styles.text}>\n              Please update your WINDO app to the latest version to get the new features,\n              now! Click on UPDATE button below.\n            </div>\n          )}\n\n        </div>\n        <div className={styles.buttonContainer}>\n          {isDesktop ? (\n            <ButtonComponent\n              style={styles.button}\n              onclick={onUpdate}\n              text=\"Refresh\"\n            />\n          ) : (\n            <ButtonComponent\n              style={styles.button}\n              onclick={onUpdate}\n              text=\"Update\"\n            />\n          )}\n\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n\nUpdateAlertDialog.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  type: PropTypes.string,\n};\n\nUpdateAlertDialog.defaultProps = {\n  type: 'web',\n};\n"]},"metadata":{},"sourceType":"module"}