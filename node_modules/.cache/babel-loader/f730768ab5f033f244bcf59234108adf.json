{"ast":null,"code":"var _jsxFileName = \"/home/harish/windo/phoenix/src/components/reviewProduct/RatingsShare.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport SnackBar from \"../../services/snackbar\";\nimport { shareShop } from \"../../utils/share\";\nimport { share } from \"../../utils\";\nimport { LinkBar } from 'phoenix-components/lib/containers';\nimport { useCustomDomain, useIsOnCustomDomain } from \"../../contexts\";\nimport { shareProduct } from \"../../utils/share\";\nimport { generateSlug } from \"../../utils/slug\";\nimport { useOpenPlans } from \"../../contexts\";\nimport { useIsRatingsEnabled } from \"../../contexts\";\nimport DeviceUtils from \"../../utils/deviceUtils\";\nimport styles from \"./RatingsShare.module.css\";\nexport function RatingsShare({\n  product,\n  shop\n}) {\n  _s();\n\n  const isCustomDomain = useIsOnCustomDomain();\n  const domain = useCustomDomain();\n  const openPlans = useOpenPlans(false, 'generic', 'premium');\n  const isEnabledRatings = useIsRatingsEnabled();\n  const productUrl = shareProduct(generateSlug(product.title, product._id), shop.slug, isCustomDomain, domain);\n  const ratingUrl = `${productUrl}/rating`;\n\n  const reDirect = () => {\n    openPlans();\n  };\n\n  const copyToClipboard = e => {\n    if (!isEnabledRatings) {\n      reDirect();\n      return;\n    }\n\n    e.stopPropagation();\n    e.preventDefault();\n    DeviceUtils.copy(ratingUrl);\n    SnackBar.show('Product rating URL Copied !!!');\n  };\n\n  const shareToUser = e => {\n    e.stopPropagation();\n    e.preventDefault();\n\n    if (!isEnabledRatings) {\n      reDirect();\n      return;\n    }\n\n    share(`Hello\n\nProduct Name: ${product.title}\nPrice: ${shop.currency} ${product.discountedAmount}\n\nYou can rate for this product here ${ratingUrl}\n\nP.S Please visit our WINDO Shop at\n${shareShop(shop.slug, isCustomDomain, domain)} to see the complete catalog and buy our products.\n\nThank you\n${shop.name}`);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.section,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.head,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, \"Share this product rating link\"), /*#__PURE__*/React.createElement(LinkBar, {\n    url: ratingUrl,\n    onCopy: copyToClipboard,\n    onClick: shareToUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  })));\n}\n\n_s(RatingsShare, \"lk42/TBrA2Fq5QIHVLOjjyK8jFQ=\", false, function () {\n  return [useIsOnCustomDomain, useCustomDomain, useOpenPlans, useIsRatingsEnabled];\n});\n\n_c = RatingsShare;\nRatingsShare.propTypes = {\n  product: PropTypes.object.isRequired,\n  shop: PropTypes.object.isRequired\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"RatingsShare\");","map":{"version":3,"sources":["/home/harish/windo/phoenix/src/components/reviewProduct/RatingsShare.jsx"],"names":["React","PropTypes","SnackBar","shareShop","share","LinkBar","useCustomDomain","useIsOnCustomDomain","shareProduct","generateSlug","useOpenPlans","useIsRatingsEnabled","DeviceUtils","styles","RatingsShare","product","shop","isCustomDomain","domain","openPlans","isEnabledRatings","productUrl","title","_id","slug","ratingUrl","reDirect","copyToClipboard","e","stopPropagation","preventDefault","copy","show","shareToUser","currency","discountedAmount","name","section","head","propTypes","object","isRequired"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,QAAP;AACA,SAASC,SAAT;AACA,SAASC,KAAT;AACA,SAASC,OAAT,QAAwB,mCAAxB;AACA,SAASC,eAAT,EAA0BC,mBAA1B;AACA,SAASC,YAAT;AACA,SAASC,YAAT;AACA,SAASC,YAAT;AACA,SAASC,mBAAT;AACA,OAAOC,WAAP;AACA,OAAOC,MAAP;AAEA,OAAO,SAASC,YAAT,CAAsB;AAC3BC,EAAAA,OAD2B;AAE3BC,EAAAA;AAF2B,CAAtB,EAGJ;AAAA;;AACD,QAAMC,cAAc,GAAGV,mBAAmB,EAA1C;AACA,QAAMW,MAAM,GAAGZ,eAAe,EAA9B;AACA,QAAMa,SAAS,GAAGT,YAAY,CAAC,KAAD,EAAQ,SAAR,EAAmB,SAAnB,CAA9B;AAEA,QAAMU,gBAAgB,GAAGT,mBAAmB,EAA5C;AAEA,QAAMU,UAAU,GAAGb,YAAY,CAACC,YAAY,CAACM,OAAO,CAACO,KAAT,EAAgBP,OAAO,CAACQ,GAAxB,CAAb,EAA2CP,IAAI,CAACQ,IAAhD,EAAsDP,cAAtD,EAAsEC,MAAtE,CAA/B;AACA,QAAMO,SAAS,GAAI,GAAEJ,UAAW,SAAhC;;AAEA,QAAMK,QAAQ,GAAG,MAAM;AACrBP,IAAAA,SAAS;AACV,GAFD;;AAIA,QAAMQ,eAAe,GAAIC,CAAD,IAAO;AAC7B,QAAI,CAACR,gBAAL,EAAuB;AACrBM,MAAAA,QAAQ;AACR;AACD;;AACDE,IAAAA,CAAC,CAACC,eAAF;AACAD,IAAAA,CAAC,CAACE,cAAF;AACAlB,IAAAA,WAAW,CAACmB,IAAZ,CAAiBN,SAAjB;AACAvB,IAAAA,QAAQ,CAAC8B,IAAT,CAAc,+BAAd;AACD,GATD;;AAWA,QAAMC,WAAW,GAAIL,CAAD,IAAO;AACzBA,IAAAA,CAAC,CAACC,eAAF;AACAD,IAAAA,CAAC,CAACE,cAAF;;AACA,QAAI,CAACV,gBAAL,EAAuB;AACrBM,MAAAA,QAAQ;AACR;AACD;;AACDtB,IAAAA,KAAK,CAAE;AACX;AACA,gBAAgBW,OAAO,CAACO,KAAM;AAC9B,SAASN,IAAI,CAACkB,QAAS,IAAGnB,OAAO,CAACoB,gBAAiB;AACnD;AACA,qCAAqCV,SAAU;AAC/C;AACA;AACA,EAAEtB,SAAS,CAACa,IAAI,CAACQ,IAAN,EAAYP,cAAZ,EAA4BC,MAA5B,CAAoC;AAC/C;AACA;AACA,EAAEF,IAAI,CAACoB,IAAK,EAXH,CAAL;AAYD,GAnBD;;AAqBA,sBACE;AAAK,IAAA,SAAS,EAAEvB,MAAM,CAACwB,OAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,uDACE;AAAK,IAAA,SAAS,EAAExB,MAAM,CAACyB,IAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCADF,eAEE,oBAAC,OAAD;AAAS,IAAA,GAAG,EAAEb,SAAd;AAAyB,IAAA,MAAM,EAAEE,eAAjC;AAAkD,IAAA,OAAO,EAAEM,WAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,CADF;AAQD;;GAzDenB,Y;UAISP,mB,EACRD,e,EACGI,Y,EAEOC,mB;;;KARXG,Y;AA2DhBA,YAAY,CAACyB,SAAb,GAAyB;AACvBxB,EAAAA,OAAO,EAAEd,SAAS,CAACuC,MAAV,CAAiBC,UADH;AAEvBzB,EAAAA,IAAI,EAAEf,SAAS,CAACuC,MAAV,CAAiBC;AAFA,CAAzB","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport SnackBar from 'services/snackbar';\nimport { shareShop } from 'utils/share';\nimport { share } from 'utils';\nimport { LinkBar } from 'phoenix-components/lib/containers';\nimport { useCustomDomain, useIsOnCustomDomain } from 'contexts';\nimport { shareProduct } from 'utils/share';\nimport { generateSlug } from 'utils/slug';\nimport { useOpenPlans } from 'contexts';\nimport { useIsRatingsEnabled } from 'contexts';\nimport DeviceUtils from '../../utils/deviceUtils';\nimport styles from './RatingsShare.module.css';\n\nexport function RatingsShare({\n  product,\n  shop,\n}) {\n  const isCustomDomain = useIsOnCustomDomain();\n  const domain = useCustomDomain();\n  const openPlans = useOpenPlans(false, 'generic', 'premium');\n\n  const isEnabledRatings = useIsRatingsEnabled();\n\n  const productUrl = shareProduct(generateSlug(product.title, product._id), shop.slug, isCustomDomain, domain);\n  const ratingUrl = `${productUrl}/rating`;\n\n  const reDirect = () => {\n    openPlans();\n  };\n\n  const copyToClipboard = (e) => {\n    if (!isEnabledRatings) {\n      reDirect();\n      return;\n    }\n    e.stopPropagation();\n    e.preventDefault();\n    DeviceUtils.copy(ratingUrl);\n    SnackBar.show('Product rating URL Copied !!!');\n  };\n\n  const shareToUser = (e) => {\n    e.stopPropagation();\n    e.preventDefault();\n    if (!isEnabledRatings) {\n      reDirect();\n      return;\n    }\n    share(`Hello\n\nProduct Name: ${product.title}\nPrice: ${shop.currency} ${product.discountedAmount}\n\nYou can rate for this product here ${ratingUrl}\n\nP.S Please visit our WINDO Shop at\n${shareShop(shop.slug, isCustomDomain, domain)} to see the complete catalog and buy our products.\n\nThank you\n${shop.name}`);\n  };\n\n  return (\n    <div className={styles.section}>\n      <>\n        <div className={styles.head}>Share this product rating link</div>\n        <LinkBar url={ratingUrl} onCopy={copyToClipboard} onClick={shareToUser} />\n      </>\n    </div>\n  );\n}\n\nRatingsShare.propTypes = {\n  product: PropTypes.object.isRequired,\n  shop: PropTypes.object.isRequired,\n};\n"]},"metadata":{},"sourceType":"module"}