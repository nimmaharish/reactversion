{"ast":null,"code":"import CONFIG from \"../config\";\nconst isStaging = CONFIG.ENV === 'staging';\n\nfunction genericShare(type, id, direct = false) {\n  const token = encodeURIComponent(btoa(JSON.stringify({\n    type,\n    id,\n    shared: true\n  })));\n\n  if (direct) {\n    return `https://mywindo.shop/redirect?token=${token}`;\n  }\n\n  return `https://windo.onelink.me/HbMF/5d24c4ad?token=${token}`;\n}\n\nexport function sharePost(id, direct = false) {\n  return genericShare('post', id, direct);\n}\nexport function shareProduct(productSlug, shopSlug = 'shop', isCustom, domain) {\n  if (isCustom && domain) {\n    return `https://${domain}/${productSlug}`;\n  }\n\n  return `https://mywindo.shop/${shopSlug}/${productSlug}`;\n}\nexport function shareProfile(id, direct = false) {\n  return genericShare('profile', id, direct);\n}\nexport function shareShop(id, isCustom, domain) {\n  if (isCustom && domain) {\n    return `https://${domain}`;\n  }\n\n  return `https://mywindo.shop/${id}`;\n}\nexport function shareCatalog(catalog, shopSlug = 'shop', isCustom, domain) {\n  let url = `https://mywindo.shop/${shopSlug}/catalogs`;\n\n  if (isStaging) {\n    url = `https://staging.mywindo.shop/${shopSlug}/catalogs`;\n  }\n\n  if (isCustom && domain) {\n    url = `https://${domain}/catalogs`;\n  }\n\n  const link = new URL(url);\n  link.searchParams.set('catalog', catalog);\n  return link.href;\n}\nexport function shareSellerApp() {\n  return 'https://windo-seller.onelink.me/yopW/install';\n}","map":{"version":3,"sources":["/home/harish/windo/phoenix/src/utils/share.js"],"names":["CONFIG","isStaging","ENV","genericShare","type","id","direct","token","encodeURIComponent","btoa","JSON","stringify","shared","sharePost","shareProduct","productSlug","shopSlug","isCustom","domain","shareProfile","shareShop","shareCatalog","catalog","url","link","URL","searchParams","set","href","shareSellerApp"],"mappings":"AAAA,OAAOA,MAAP;AAEA,MAAMC,SAAS,GAAGD,MAAM,CAACE,GAAP,KAAe,SAAjC;;AAEA,SAASC,YAAT,CAAsBC,IAAtB,EAA4BC,EAA5B,EAAgCC,MAAM,GAAG,KAAzC,EAAgD;AAC9C,QAAMC,KAAK,GAAGC,kBAAkB,CAACC,IAAI,CAACC,IAAI,CAACC,SAAL,CAAe;AACnDP,IAAAA,IADmD;AAEnDC,IAAAA,EAFmD;AAGnDO,IAAAA,MAAM,EAAE;AAH2C,GAAf,CAAD,CAAL,CAAhC;;AAKA,MAAIN,MAAJ,EAAY;AACV,WAAQ,uCAAsCC,KAAM,EAApD;AACD;;AACD,SAAQ,gDAA+CA,KAAM,EAA7D;AACD;;AAED,OAAO,SAASM,SAAT,CAAmBR,EAAnB,EAAuBC,MAAM,GAAG,KAAhC,EAAuC;AAC5C,SAAOH,YAAY,CAAC,MAAD,EAASE,EAAT,EAAaC,MAAb,CAAnB;AACD;AAED,OAAO,SAASQ,YAAT,CAAsBC,WAAtB,EAAmCC,QAAQ,GAAG,MAA9C,EAAsDC,QAAtD,EAAgEC,MAAhE,EAAwE;AAC7E,MAAID,QAAQ,IAAIC,MAAhB,EAAwB;AACtB,WAAQ,WAAUA,MAAO,IAAGH,WAAY,EAAxC;AACD;;AACD,SAAQ,wBAAuBC,QAAS,IAAGD,WAAY,EAAvD;AACD;AAED,OAAO,SAASI,YAAT,CAAsBd,EAAtB,EAA0BC,MAAM,GAAG,KAAnC,EAA0C;AAC/C,SAAOH,YAAY,CAAC,SAAD,EAAYE,EAAZ,EAAgBC,MAAhB,CAAnB;AACD;AAED,OAAO,SAASc,SAAT,CAAmBf,EAAnB,EAAuBY,QAAvB,EAAiCC,MAAjC,EAAyC;AAC9C,MAAID,QAAQ,IAAIC,MAAhB,EAAwB;AACtB,WAAQ,WAAUA,MAAO,EAAzB;AACD;;AACD,SAAQ,wBAAuBb,EAAG,EAAlC;AACD;AAED,OAAO,SAASgB,YAAT,CAAsBC,OAAtB,EAA+BN,QAAQ,GAAG,MAA1C,EAAkDC,QAAlD,EAA4DC,MAA5D,EAAoE;AACzE,MAAIK,GAAG,GAAI,wBAAuBP,QAAS,WAA3C;;AACA,MAAIf,SAAJ,EAAe;AACbsB,IAAAA,GAAG,GAAI,gCAA+BP,QAAS,WAA/C;AACD;;AACD,MAAIC,QAAQ,IAAIC,MAAhB,EAAwB;AACtBK,IAAAA,GAAG,GAAI,WAAUL,MAAO,WAAxB;AACD;;AACD,QAAMM,IAAI,GAAG,IAAIC,GAAJ,CAAQF,GAAR,CAAb;AACAC,EAAAA,IAAI,CAACE,YAAL,CAAkBC,GAAlB,CAAsB,SAAtB,EAAiCL,OAAjC;AACA,SAAOE,IAAI,CAACI,IAAZ;AACD;AAED,OAAO,SAASC,cAAT,GAA0B;AAC/B,SAAO,8CAAP;AACD","sourcesContent":["import CONFIG from 'config';\n\nconst isStaging = CONFIG.ENV === 'staging';\n\nfunction genericShare(type, id, direct = false) {\n  const token = encodeURIComponent(btoa(JSON.stringify({\n    type,\n    id,\n    shared: true\n  })));\n  if (direct) {\n    return `https://mywindo.shop/redirect?token=${token}`;\n  }\n  return `https://windo.onelink.me/HbMF/5d24c4ad?token=${token}`;\n}\n\nexport function sharePost(id, direct = false) {\n  return genericShare('post', id, direct);\n}\n\nexport function shareProduct(productSlug, shopSlug = 'shop', isCustom, domain) {\n  if (isCustom && domain) {\n    return `https://${domain}/${productSlug}`;\n  }\n  return `https://mywindo.shop/${shopSlug}/${productSlug}`;\n}\n\nexport function shareProfile(id, direct = false) {\n  return genericShare('profile', id, direct);\n}\n\nexport function shareShop(id, isCustom, domain) {\n  if (isCustom && domain) {\n    return `https://${domain}`;\n  }\n  return `https://mywindo.shop/${id}`;\n}\n\nexport function shareCatalog(catalog, shopSlug = 'shop', isCustom, domain) {\n  let url = `https://mywindo.shop/${shopSlug}/catalogs`;\n  if (isStaging) {\n    url = `https://staging.mywindo.shop/${shopSlug}/catalogs`;\n  }\n  if (isCustom && domain) {\n    url = `https://${domain}/catalogs`;\n  }\n  const link = new URL(url);\n  link.searchParams.set('catalog', catalog);\n  return link.href;\n}\n\nexport function shareSellerApp() {\n  return 'https://windo-seller.onelink.me/yopW/install';\n}\n"]},"metadata":{},"sourceType":"module"}