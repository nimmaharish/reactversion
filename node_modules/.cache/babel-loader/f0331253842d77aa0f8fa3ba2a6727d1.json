{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport Loader from \"../../services/loader\";\nimport SnackBar from \"../../services/snackbar\";\nimport { Becca } from \"../../api\";\nexport function usePartner(name) {\n  _s();\n\n  const [partner, setPartner] = useState(null);\n\n  const fetchDetails = async () => {\n    Loader.show();\n\n    try {\n      const {\n        accounts = []\n      } = await Becca.getShop();\n      const account = accounts.find(x => x.name === name);\n\n      if (account) {\n        account.config = {};\n        const data = await Becca.getAccount(name);\n        account.config = data;\n      }\n\n      setPartner(account);\n    } catch (e) {\n      SnackBar.showError(e);\n    } finally {\n      Loader.hide();\n    }\n  };\n\n  useEffect(() => {\n    if (name) {\n      fetchDetails();\n    }\n  }, [name]);\n  return [partner, fetchDetails];\n}\n\n_s(usePartner, \"DwwOFkQsWf/pXYGXHHjJO0d6op0=\");","map":{"version":3,"sources":["/home/harish/windo/phoenix/src/containers/paymentPartners/hooks.js"],"names":["useEffect","useState","Loader","SnackBar","Becca","usePartner","name","partner","setPartner","fetchDetails","show","accounts","getShop","account","find","x","config","data","getAccount","e","showError","hide"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,MAAP;AACA,OAAOC,QAAP;AACA,SAASC,KAAT;AAEA,OAAO,SAASC,UAAT,CAAoBC,IAApB,EAA0B;AAAA;;AAC/B,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBP,QAAQ,CAAC,IAAD,CAAtC;;AAEA,QAAMQ,YAAY,GAAG,YAAY;AAC/BP,IAAAA,MAAM,CAACQ,IAAP;;AACA,QAAI;AACF,YAAM;AAAEC,QAAAA,QAAQ,GAAG;AAAb,UAAoB,MAAMP,KAAK,CAACQ,OAAN,EAAhC;AACA,YAAMC,OAAO,GAAGF,QAAQ,CAACG,IAAT,CAAcC,CAAC,IAAIA,CAAC,CAACT,IAAF,KAAWA,IAA9B,CAAhB;;AACA,UAAIO,OAAJ,EAAa;AACXA,QAAAA,OAAO,CAACG,MAAR,GAAiB,EAAjB;AACA,cAAMC,IAAI,GAAG,MAAMb,KAAK,CAACc,UAAN,CAAiBZ,IAAjB,CAAnB;AACAO,QAAAA,OAAO,CAACG,MAAR,GAAiBC,IAAjB;AACD;;AACDT,MAAAA,UAAU,CAACK,OAAD,CAAV;AACD,KATD,CASE,OAAOM,CAAP,EAAU;AACVhB,MAAAA,QAAQ,CAACiB,SAAT,CAAmBD,CAAnB;AACD,KAXD,SAWU;AACRjB,MAAAA,MAAM,CAACmB,IAAP;AACD;AACF,GAhBD;;AAkBArB,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIM,IAAJ,EAAU;AACRG,MAAAA,YAAY;AACb;AACF,GAJQ,EAIN,CAACH,IAAD,CAJM,CAAT;AAMA,SAAO,CAACC,OAAD,EAAUE,YAAV,CAAP;AACD;;GA5BeJ,U","sourcesContent":["import { useEffect, useState } from 'react';\nimport Loader from 'services/loader';\nimport SnackBar from 'services/snackbar';\nimport { Becca } from 'api';\n\nexport function usePartner(name) {\n  const [partner, setPartner] = useState(null);\n\n  const fetchDetails = async () => {\n    Loader.show();\n    try {\n      const { accounts = [] } = await Becca.getShop();\n      const account = accounts.find(x => x.name === name);\n      if (account) {\n        account.config = {};\n        const data = await Becca.getAccount(name);\n        account.config = data;\n      }\n      setPartner(account);\n    } catch (e) {\n      SnackBar.showError(e);\n    } finally {\n      Loader.hide();\n    }\n  };\n\n  useEffect(() => {\n    if (name) {\n      fetchDetails();\n    }\n  }, [name]);\n\n  return [partner, fetchDetails];\n}\n"]},"metadata":{},"sourceType":"module"}