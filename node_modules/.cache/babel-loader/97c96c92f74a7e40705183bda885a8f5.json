{"ast":null,"code":"var _jsxFileName = \"/home/harish/windo/phoenix/src/containers/shop/Shop.jsx\",\n    _s = $RefreshSig$();\n\n/* eslint-disable jsx-a11y/label-has-associated-control */\nimport React, { useEffect, useState } from 'react';\nimport { Avatar } from '@material-ui/core';\nimport cx from 'classnames';\nimport { isEmpty } from 'lodash';\nimport { Becca } from \"../../api\";\nimport { useHistory } from 'react-router-dom';\nimport { Editor } from '@tinymce/tinymce-react';\nimport { Drawer } from \"../../components/shared/Drawer\";\nimport { useToggle } from \"../../hooks/common\";\nimport upload from \"../../assets/images/profile/upload.svg\";\nimport { Loading } from \"../../components/shared/Loading\";\nimport { getCountries } from \"../../utils/countries\";\nimport chevron from \"../../assets/v2/onboarding/chevron.svg\";\nimport SnackBar from \"../../services/snackbar\";\nimport PropTypes from 'prop-types';\nimport blacky from \"../../assets/images/shop.svg\";\nimport { Button, Clickable, ReactInput, Select } from 'phoenix-components';\nimport { FooterButton } from \"../../components/common/FooterButton\";\nimport { CountryDrawer } from \"../../components/common/CountryDrawer\";\nimport { useCountryFromIP } from \"../../hooks/utils\";\nimport { useCustomDomain, useIsOnCustomDomain, useUserRefresh } from \"../../contexts\";\nimport Loader from \"../../services/loader\";\nimport { useRefreshShop } from \"../../contexts\";\nimport { useDesktop } from \"../../contexts\";\nimport { SideDrawer } from \"../../components/shared/SideDrawer\";\nimport styles from \"./Shop.module.css\";\n\nfunction Shop({\n  isStart\n}) {\n  _s();\n\n  // const [category, setCategory] = useState([]);\n  const [name, setName] = useState('');\n  const [slug, setSlug] = useState('');\n  const [newSlug, setNewSlug] = useState('');\n  const [description, setDescription] = useState('');\n  const [openCountryDrawer, toggleCountryDrawer] = useToggle(false);\n  const [icon, setSrc] = useState(null);\n  const [isNew, setIsNew] = useState(false);\n  const [openDescription, toggleDescription] = useToggle(false);\n  const [country, setCountry, currency, setCurrency] = useCountryFromIP('', '', isStart);\n  const history = useHistory();\n  const [openChangeUrl, toggleChangeUrl] = useToggle(false);\n  const [showDummy, toggleDummy] = useState(false);\n  const isCustomDomain = useIsOnCustomDomain();\n  const domain = useCustomDomain();\n  const isDesktop = useDesktop();\n  useEffect(() => {\n    toggleDummy(openDescription);\n  }, [openDescription]);\n  const regex = /(<([^>]+)>)/ig;\n  const plainDescription = description === null || description === void 0 ? void 0 : description.replace(regex, '');\n  const currencies = getCountries().map(x => ({\n    label: x.currency,\n    value: x.currency\n  }));\n  const refreshUser = useUserRefresh();\n  const refreshShop = useRefreshShop(); // const status = defaultVal?.status;\n\n  const handleEditorChange = content => {\n    setDescription(content);\n  };\n\n  const validateSlug = slg => {\n    let pattern = '^[a-z0-9_]{4,100}$';\n    pattern = new RegExp(pattern);\n\n    if ((slg === null || slg === void 0 ? void 0 : slg.length) < 4) {\n      SnackBar.show('Shop URL cannot be less than 4 letters', 'error');\n      return false;\n    }\n\n    if (slg !== slg.toLowerCase()) {\n      SnackBar.show('Capital letters, Special characters not allowed', 'error');\n      return false;\n    }\n\n    if (!pattern.test(slg)) {\n      SnackBar.show('Shop url can have only lowercase alphabets, numbers and _ (underscore)', 'error');\n      return false;\n    }\n\n    return true;\n  };\n\n  const throwShopErrors = () => {\n    if (!name || !(name !== null && name !== void 0 && name.length)) {\n      SnackBar.show('Shop name cannot be empty', 'error');\n      return;\n    }\n\n    if (name.length <= 4) {\n      SnackBar.show('Shop name cannot be less than 4 letters', 'error');\n      return;\n    }\n\n    validateSlug(slug);\n  };\n\n  const submit = async newIcon => {\n    try {\n      var _response;\n\n      const payload = {\n        name,\n        description,\n        icon: isStart ? [] : newIcon || icon,\n        slug,\n        currency,\n        country\n      };\n\n      if (!name || (name === null || name === void 0 ? void 0 : name.length) === 0) {\n        throwShopErrors();\n        return;\n      }\n\n      if (country.length === 0) {\n        SnackBar.show('Please select country', 'error');\n        return;\n      }\n\n      let pattern = '^[a-z0-9_]{4,100}$';\n      pattern = new RegExp(pattern);\n\n      if (!pattern.test(slug)) {\n        throwShopErrors();\n        return;\n      }\n\n      let response = {};\n\n      if (isNew) {\n        response = await Becca.createShop(payload);\n      } else {\n        response = await Becca.updateShop(payload);\n      }\n\n      if (!isEmpty((_response = response) === null || _response === void 0 ? void 0 : _response.error)) {\n        var _response2;\n\n        SnackBar.show((_response2 = response) === null || _response2 === void 0 ? void 0 : _response2.error, 'error');\n        return;\n      }\n\n      const successMsg = isNew ? 'Shop Created Successfully' : 'Shop Details Updated Successfully';\n      SnackBar.show(successMsg);\n      refreshUser();\n      refreshShop();\n\n      if (isStart) {\n        history.go();\n        return;\n      }\n\n      history.goBack();\n    } catch (e) {\n      var _e$response, _e$response$data;\n\n      console.log(e);\n      const error = e === null || e === void 0 ? void 0 : (_e$response = e.response) === null || _e$response === void 0 ? void 0 : (_e$response$data = _e$response.data) === null || _e$response$data === void 0 ? void 0 : _e$response$data.message;\n\n      if (error) {\n        if (error.toLowerCase() === 'name already taken') {\n          SnackBar.show('Shop URL already taken, try a different one.', 'error');\n          return;\n        }\n\n        SnackBar.show(error, 'error');\n        return;\n      }\n\n      SnackBar.showError(e);\n    }\n  };\n\n  useEffect(() => {\n    Becca.getShop().then(x => {\n      var _x$response, _x$country;\n\n      if ((x === null || x === void 0 ? void 0 : (_x$response = x.response) === null || _x$response === void 0 ? void 0 : _x$response.status) === 404) {\n        return;\n      }\n\n      setName(x.name);\n      setSlug(x.slug);\n      setCountry((x === null || x === void 0 ? void 0 : (_x$country = x.country) === null || _x$country === void 0 ? void 0 : _x$country.toLowerCase()) || '');\n      setCurrency(x.currency);\n      setDescription(x.description || '');\n      setSrc(x.icon && x.icon[0] ? x.icon[0] : '');\n      setIsNew(false);\n    }).catch(e => {\n      console.error(e);\n      setIsNew(true);\n    });\n  }, []);\n\n  const uploadAsset = async e => {\n    try {\n      var _e$target;\n\n      const files = e === null || e === void 0 ? void 0 : (_e$target = e.target) === null || _e$target === void 0 ? void 0 : _e$target.files;\n      const file = files && files[0];\n      const payload = new FormData();\n      payload.append('name', file.name);\n      payload.append('purpose', 'shop');\n      payload.append('type', 'image');\n      payload.append('file', file);\n      const {\n        url\n      } = await Becca.uploadAsset(payload);\n      setSrc([url]);\n      SnackBar.show('upload success');\n    } catch (e) {\n      SnackBar.show('upload failed', 'error');\n    }\n  };\n\n  const updateSlug = async () => {\n    if (!validateSlug(newSlug)) {\n      return;\n    }\n\n    try {\n      Loader.show();\n      await Becca.changeUrl(newSlug);\n      toggleChangeUrl();\n      SnackBar.show('url updated successfully', 'success');\n      document.location.reload();\n    } catch (e) {\n      var _e$response2, _e$response2$data;\n\n      const error = e === null || e === void 0 ? void 0 : (_e$response2 = e.response) === null || _e$response2 === void 0 ? void 0 : (_e$response2$data = _e$response2.data) === null || _e$response2$data === void 0 ? void 0 : _e$response2$data.message;\n\n      if (error) {\n        if (error.toLowerCase() === 'name already taken') {\n          SnackBar.show('Shop URL already taken, try a different one.', 'error');\n          return;\n        }\n      }\n\n      SnackBar.showError(e);\n    } finally {\n      Loader.hide();\n    }\n  };\n\n  const onShopNameChange = () => name => {\n    setName(name);\n  };\n\n  const onCountryChange = ({\n    value,\n    currrency\n  }) => {\n    setCountry(value);\n    setCurrency(currrency);\n    toggleCountryDrawer();\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.shopSection,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 5\n    }\n  }, showDummy && /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 21\n    }\n  }), !isDesktop && openChangeUrl && /*#__PURE__*/React.createElement(Drawer, {\n    title: \"Shop URL\",\n    closeButton: true,\n    onClose: () => {\n      toggleChangeUrl();\n      updateSlug();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.editBox,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.editUrlHeading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 13\n    }\n  }, \"Edit Shop URL\"), /*#__PURE__*/React.createElement(ReactInput, {\n    placeholder: \"Enter your URL\",\n    startLabel: \"mywindo.shop/\",\n    value: newSlug,\n    labelClass: styles.bottom,\n    setValue: setNewSlug,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.connectDomain,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 13\n    }\n  }, \"Do you want to connect your own\", ' ', /*#__PURE__*/React.createElement(Clickable, {\n    className: styles.greenLink,\n    onClick: () => history.push('/manage/domain'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 15\n    }\n  }, \"Domain?\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: cx(styles.actionBtn, 'flexCenter'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    fullWidth: true,\n    bordered: false,\n    onClick: () => {\n      updateSlug();\n    },\n    size: \"large\",\n    label: \"Save\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 15\n    }\n  })))), isDesktop && openChangeUrl && /*#__PURE__*/React.createElement(SideDrawer, {\n    backButton: true,\n    title: \"Shop URL\",\n    onClose: toggleChangeUrl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.editBox,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.editUrlHeading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 13\n    }\n  }, \"Edit Shop URL\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.inputB,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ReactInput, {\n    placeholder: \"Enter your URL\",\n    startLabel: \"mywindo.shop/\",\n    value: newSlug,\n    labelClass: styles.bottom,\n    setValue: setNewSlug,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.updateUrl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    size: \"medium\",\n    label: \"Update\",\n    onClick: updateSlug,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.connectDomain,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 13\n    }\n  }, \"Do you want to connect your own\", ' ', /*#__PURE__*/React.createElement(Clickable, {\n    className: styles.greenLink,\n    onClick: () => history.push('/manage/domain'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 15\n    }\n  }, \"Domain?\")))), isDesktop && openDescription && /*#__PURE__*/React.createElement(SideDrawer, {\n    backButton: true,\n    button: true,\n    onClick: toggleDescription,\n    title: \"Shop Description\",\n    onClose: toggleDescription,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.desktopEditor,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Editor, {\n    value: description,\n    apiKey: \"jk7y6v6dbe2h16qh13q5klle5sz76ddgevc6ph3v1sa4bgu1\",\n    onInit: () => {\n      toggleDummy(false);\n    },\n    init: {\n      menubar: false,\n      toolbar: false,\n      height: '75vh',\n      width: '100%',\n      placeholder: 'Tell us what makes your shop unique',\n      statusbar: false,\n      branding: false,\n      selector: 'textarea',\n      // change this value according to your HTML\n      paste_data_images: true,\n      plugins: ['paste']\n    },\n    onEditorChange: handleEditorChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 13\n    }\n  }))), !isDesktop && isStart === false && /*#__PURE__*/React.createElement(Drawer, {\n    onBack: () => history.goBack(),\n    title: \"Profile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: isDesktop ? null : styles.padd,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: isDesktop ? styles.desktopContainer : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: cx('textCenter flexCenter relative'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    accept: \"image/*\",\n    hidden: true,\n    id: \"icon-button-file\",\n    type: \"file\",\n    onChange: e => {\n      uploadAsset(e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"icon-button-file\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: icon || blacky,\n    className: cx(styles.avatar),\n    alt: \"shop icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"\",\n    className: styles.upload,\n    src: upload,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 19\n    }\n  }))), !isDesktop && openDescription && /*#__PURE__*/React.createElement(Drawer, {\n    onClose: toggleDescription,\n    closeButton: true,\n    title: \"Shop Description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.rte,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Editor, {\n    value: description,\n    apiKey: \"jk7y6v6dbe2h16qh13q5klle5sz76ddgevc6ph3v1sa4bgu1\",\n    onInit: () => {\n      toggleDummy(false);\n    },\n    init: {\n      menubar: false,\n      toolbar: false,\n      height: '40vh',\n      width: 'calc(100vw - 20px)',\n      placeholder: 'Tell us what makes your shop unique',\n      statusbar: false,\n      branding: false,\n      selector: 'textarea',\n      // change this value according to your HTML\n      paste_data_images: true,\n      plugins: ['paste']\n    },\n    onEditorChange: handleEditorChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(FooterButton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 406,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    fullWidth: true,\n    bordered: false,\n    onClick: toggleDescription,\n    size: \"large\",\n    label: \"Save\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 407,\n      columnNumber: 21\n    }\n  }))), !isDesktop && isStart && /*#__PURE__*/React.createElement(\"div\", {\n    className: cx('textCenter flexCenter'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    className: cx('avatar', 'textCenter', 'flexCenter', styles.avatar),\n    variant: \"rounded\",\n    alt: \"Remy Sharp\",\n    src: blacky,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: cx(styles.top),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 428,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(ReactInput, {\n    label: \"Shop Name\",\n    inputClass: styles.height,\n    placeholder: \"e.g. brilliant boutique\",\n    setValue: onShopNameChange(),\n    value: name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 429,\n      columnNumber: 17\n    }\n  })), !(isCustomDomain && domain) && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.label,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 19\n    }\n  }, \"Shop URL\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: cx(styles.bottom),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(ReactInput, {\n    placeholder: \"Enter your URL\",\n    startLabel: \"mywindo.shop/\",\n    startLabelClass: styles.labelStart,\n    value: slug,\n    inputClass: styles.height,\n    labelClass: styles.bottom2,\n    setValue: () => {},\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.changeUrlText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 451,\n      columnNumber: 21\n    }\n  }, \"Want to change your shop URL?\", ' ', /*#__PURE__*/React.createElement(Clickable, {\n    onClick: () => {\n      setNewSlug(slug);\n      toggleChangeUrl();\n    },\n    className: styles.greenLink,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 454,\n      columnNumber: 23\n    }\n  }, \"Click Here\")))), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"slugField\",\n    className: cx(isDesktop ? styles.desktopMarginTop : null, 'flexCenter'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 466,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.left,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 467,\n      columnNumber: 17\n    }\n  }, openCountryDrawer && /*#__PURE__*/React.createElement(CountryDrawer, {\n    onSelect: onCountryChange,\n    onBack: toggleCountryDrawer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 469,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Clickable, {\n    className: styles.countrySelect,\n    onClick: () => {},\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 471,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.cLabel,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 476,\n      columnNumber: 21\n    }\n  }, \"Select Country\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.cValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 479,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.ellipsis,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 480,\n      columnNumber: 23\n    }\n  }, country.toLowerCase() === 'usa' ? 'USA' : country), /*#__PURE__*/React.createElement(\"img\", {\n    src: chevron,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 483,\n      columnNumber: 23\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.right,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 487,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    disabled: true,\n    options: currencies,\n    label: \"Currency\",\n    value: currencies.find(c => c.value === currency),\n    isDisabled: true,\n    styles: styles.select,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 488,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(Clickable, {\n    onClick: toggleDescription,\n    className: styles.descriptionContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 498,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.descriptionHeading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 499,\n      columnNumber: 17\n    }\n  }, \"Shop Description\"), (plainDescription === null || plainDescription === void 0 ? void 0 : plainDescription.length) > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.descriptionText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 501,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    dangerouslySetInnerHTML: {\n      __html: plainDescription.slice(0, 45)\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 502,\n      columnNumber: 21\n    }\n  }), plainDescription.length > 45 && /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.descriptionLink,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 504,\n      columnNumber: 23\n    }\n  }, \"more...\")) : /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.descriptionPlaceholder,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 508,\n      columnNumber: 19\n    }\n  }, \"Tell us what makes your shop unique\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.actionBtn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 512,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    bordered: false,\n    fullWidth: true,\n    onClick: () => submit(null),\n    size: \"large\",\n    label: \"Update\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 513,\n      columnNumber: 15\n    }\n  })))), isDesktop && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: cx(styles.top),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 526,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ReactInput, {\n    label: \"Shop Name\",\n    inputClass: styles.height,\n    placeholder: \"e.g. brilliant boutique\",\n    setValue: onShopNameChange(),\n    value: name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 527,\n      columnNumber: 13\n    }\n  })), !(isCustomDomain && domain) && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.label,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 537,\n      columnNumber: 15\n    }\n  }, \"Shop URL\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: cx(styles.bottom),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 538,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(ReactInput, {\n    placeholder: \"Enter your URL\",\n    startLabel: \"mywindo.shop/\",\n    startLabelClass: styles.labelStart,\n    value: slug,\n    inputClass: styles.height,\n    labelClass: styles.bottom2,\n    setValue: () => {},\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 539,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.changeUrlText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 549,\n      columnNumber: 17\n    }\n  }, \"Want to change your shop URL?\", ' ', /*#__PURE__*/React.createElement(Clickable, {\n    onClick: () => {\n      setNewSlug(slug);\n      toggleChangeUrl();\n    },\n    className: styles.greenLink,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 552,\n      columnNumber: 19\n    }\n  }, \"Click Here\")))), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"slugField\",\n    className: cx(isDesktop ? styles.desktopMarginTop : null, 'flexCenter'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 564,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.left,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 565,\n      columnNumber: 13\n    }\n  }, openCountryDrawer && /*#__PURE__*/React.createElement(CountryDrawer, {\n    onSelect: onCountryChange,\n    onBack: toggleCountryDrawer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 567,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Clickable, {\n    className: styles.countrySelect,\n    onClick: () => {},\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 569,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.cLabel,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 574,\n      columnNumber: 17\n    }\n  }, \"Select Country\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.cValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 577,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.ellipsis,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 578,\n      columnNumber: 19\n    }\n  }, country.toLowerCase() === 'usa' ? 'USA' : country), /*#__PURE__*/React.createElement(\"img\", {\n    src: chevron,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 581,\n      columnNumber: 19\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.right,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 585,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    disabled: true,\n    options: currencies,\n    label: \"Currency\",\n    value: currencies.find(c => c.value === currency),\n    isDisabled: true,\n    styles: styles.select,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 586,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(Clickable, {\n    onClick: toggleDescription,\n    className: styles.descriptionContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 596,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.descriptionHeading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 597,\n      columnNumber: 13\n    }\n  }, \"Shop Description\"), (plainDescription === null || plainDescription === void 0 ? void 0 : plainDescription.length) > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.descriptionText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 599,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    dangerouslySetInnerHTML: {\n      __html: plainDescription.slice(0, 90)\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 600,\n      columnNumber: 17\n    }\n  }), plainDescription.length > 90 && /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.descriptionLink,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 602,\n      columnNumber: 19\n    }\n  }, \"more...\")) : /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.descriptionPlaceholder,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 606,\n      columnNumber: 15\n    }\n  }, \"Tell us what makes your shop unique\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.action,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 609,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    bordered: true,\n    onClick: () => submit(null),\n    size: \"large\",\n    fullWidth: true,\n    label: \"Update\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 610,\n      columnNumber: 13\n    }\n  }))));\n}\n\n_s(Shop, \"HTHsSJJJgPnK7cYMsjlXQWg8fcI=\", false, function () {\n  return [useToggle, useToggle, useCountryFromIP, useHistory, useToggle, useIsOnCustomDomain, useCustomDomain, useDesktop, useUserRefresh, useRefreshShop];\n});\n\n_c = Shop;\nShop.propTypes = {\n  isStart: PropTypes.bool.isRequired\n};\nexport default Shop;\n\nvar _c;\n\n$RefreshReg$(_c, \"Shop\");","map":{"version":3,"sources":["/home/harish/windo/phoenix/src/containers/shop/Shop.jsx"],"names":["React","useEffect","useState","Avatar","cx","isEmpty","Becca","useHistory","Editor","Drawer","useToggle","Loading","getCountries","SnackBar","PropTypes","Button","Clickable","ReactInput","Select","FooterButton","CountryDrawer","useCountryFromIP","useCustomDomain","useIsOnCustomDomain","useUserRefresh","Loader","useRefreshShop","useDesktop","SideDrawer","styles","Shop","isStart","name","setName","slug","setSlug","newSlug","setNewSlug","description","setDescription","openCountryDrawer","toggleCountryDrawer","icon","setSrc","isNew","setIsNew","openDescription","toggleDescription","country","setCountry","currency","setCurrency","history","openChangeUrl","toggleChangeUrl","showDummy","toggleDummy","isCustomDomain","domain","isDesktop","regex","plainDescription","replace","currencies","map","x","label","value","refreshUser","refreshShop","handleEditorChange","content","validateSlug","slg","pattern","RegExp","length","show","toLowerCase","test","throwShopErrors","submit","newIcon","payload","response","createShop","updateShop","error","successMsg","go","goBack","e","console","log","data","message","showError","getShop","then","status","catch","uploadAsset","files","target","file","FormData","append","url","updateSlug","changeUrl","document","location","reload","hide","onShopNameChange","onCountryChange","currrency","shopSection","editBox","editUrlHeading","bottom","connectDomain","greenLink","push","actionBtn","inputB","updateUrl","desktopEditor","menubar","toolbar","height","width","placeholder","statusbar","branding","selector","paste_data_images","plugins","padd","desktopContainer","blacky","avatar","upload","rte","top","labelStart","bottom2","changeUrlText","desktopMarginTop","left","countrySelect","cLabel","cValue","ellipsis","chevron","right","find","c","select","descriptionContainer","descriptionHeading","descriptionText","__html","slice","descriptionLink","descriptionPlaceholder","action","propTypes","bool","isRequired"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/label-has-associated-control */\nimport React, { useEffect, useState } from 'react';\nimport { Avatar } from '@material-ui/core';\nimport cx from 'classnames';\nimport { isEmpty } from 'lodash';\nimport { Becca } from 'api/index';\nimport { useHistory } from 'react-router-dom';\nimport { Editor } from '@tinymce/tinymce-react';\nimport { Drawer } from 'components/shared/Drawer';\nimport { useToggle } from 'hooks/common';\nimport upload from 'assets/images/profile/upload.svg';\nimport { Loading } from 'components/shared/Loading';\nimport { getCountries } from 'utils/countries';\nimport chevron from 'assets/v2/onboarding/chevron.svg';\nimport SnackBar from 'services/snackbar';\nimport PropTypes from 'prop-types';\nimport blacky from 'assets/images/shop.svg';\nimport {\n  Button, Clickable, ReactInput, Select\n} from 'phoenix-components';\nimport { FooterButton } from 'components/common/FooterButton';\nimport { CountryDrawer } from 'components/common/CountryDrawer';\nimport { useCountryFromIP } from 'hooks/utils';\nimport { useCustomDomain, useIsOnCustomDomain, useUserRefresh } from 'contexts';\nimport Loader from 'services/loader';\nimport { useRefreshShop } from 'contexts';\nimport { useDesktop } from 'contexts';\nimport { SideDrawer } from 'components/shared/SideDrawer';\nimport styles from './Shop.module.css';\n\nfunction Shop({ isStart }) {\n  // const [category, setCategory] = useState([]);\n  const [name, setName] = useState('');\n  const [slug, setSlug] = useState('');\n  const [newSlug, setNewSlug] = useState('');\n  const [description, setDescription] = useState('');\n  const [openCountryDrawer, toggleCountryDrawer] = useToggle(false);\n  const [icon, setSrc] = useState(null);\n  const [isNew, setIsNew] = useState(false);\n  const [openDescription, toggleDescription] = useToggle(false);\n  const [country, setCountry, currency, setCurrency] = useCountryFromIP('', '', isStart);\n  const history = useHistory();\n  const [openChangeUrl, toggleChangeUrl] = useToggle(false);\n  const [showDummy, toggleDummy] = useState(false);\n  const isCustomDomain = useIsOnCustomDomain();\n  const domain = useCustomDomain();\n  const isDesktop = useDesktop();\n\n  useEffect(() => {\n    toggleDummy(openDescription);\n  }, [openDescription]);\n\n  const regex = /(<([^>]+)>)/ig;\n  const plainDescription = description?.replace(regex, '');\n\n  const currencies = getCountries()\n    .map(x => ({\n      label: x.currency,\n      value: x.currency\n    }));\n\n  const refreshUser = useUserRefresh();\n  const refreshShop = useRefreshShop();\n\n  // const status = defaultVal?.status;\n\n  const handleEditorChange = (content) => {\n    setDescription(content);\n  };\n\n  const validateSlug = (slg) => {\n    let pattern = '^[a-z0-9_]{4,100}$';\n    pattern = new RegExp(pattern);\n    if (slg?.length < 4) {\n      SnackBar.show('Shop URL cannot be less than 4 letters', 'error');\n      return false;\n    }\n    if (slg !== slg.toLowerCase()) {\n      SnackBar.show('Capital letters, Special characters not allowed', 'error');\n      return false;\n    }\n    if (!pattern.test(slg)) {\n      SnackBar.show('Shop url can have only lowercase alphabets, numbers and _ (underscore)', 'error');\n      return false;\n    }\n    return true;\n  };\n\n  const throwShopErrors = () => {\n    if (!name || !name?.length) {\n      SnackBar.show('Shop name cannot be empty', 'error');\n      return;\n    }\n    if (name.length <= 4) {\n      SnackBar.show('Shop name cannot be less than 4 letters', 'error');\n      return;\n    }\n    validateSlug(slug);\n  };\n\n  const submit = async (newIcon) => {\n    try {\n      const payload = {\n        name,\n        description,\n        icon: isStart ? [] : newIcon || icon,\n        slug,\n        currency,\n        country,\n      };\n\n      if (!name || name?.length === 0) {\n        throwShopErrors();\n        return;\n      }\n      if (country.length === 0) {\n        SnackBar.show('Please select country', 'error');\n        return;\n      }\n      let pattern = '^[a-z0-9_]{4,100}$';\n      pattern = new RegExp(pattern);\n      if (!pattern.test(slug)) {\n        throwShopErrors();\n        return;\n      }\n      let response = {};\n      if (isNew) {\n        response = await Becca.createShop(payload);\n      } else {\n        response = await Becca.updateShop(payload);\n      }\n      if (!isEmpty(response?.error)) {\n        SnackBar.show(response?.error, 'error');\n        return;\n      }\n      const successMsg = isNew ? 'Shop Created Successfully' : 'Shop Details Updated Successfully';\n      SnackBar.show(successMsg);\n      refreshUser();\n      refreshShop();\n      if (isStart) {\n        history.go();\n        return;\n      }\n      history.goBack();\n    } catch (e) {\n      console.log(e);\n      const error = e?.response?.data?.message;\n      if (error) {\n        if (error.toLowerCase() === 'name already taken') {\n          SnackBar.show('Shop URL already taken, try a different one.', 'error');\n          return;\n        }\n        SnackBar.show(error, 'error');\n        return;\n      }\n      SnackBar.showError(e);\n    }\n  };\n\n  useEffect(() => {\n    Becca.getShop()\n      .then(x => {\n        if (x?.response?.status === 404) {\n          return;\n        }\n        setName(x.name);\n        setSlug(x.slug);\n        setCountry(x?.country?.toLowerCase() || '');\n        setCurrency(x.currency);\n        setDescription(x.description || '');\n        setSrc(x.icon && x.icon[0] ? x.icon[0] : '');\n        setIsNew(false);\n      })\n      .catch((e) => {\n        console.error(e);\n        setIsNew(true);\n      });\n  }, []);\n\n  const uploadAsset = async (e) => {\n    try {\n      const files = e?.target?.files;\n      const file = files && files[0];\n      const payload = new FormData();\n      payload.append('name', file.name);\n      payload.append('purpose', 'shop');\n      payload.append('type', 'image');\n      payload.append('file', file);\n      const { url } = await Becca.uploadAsset(payload);\n      setSrc([url]);\n      SnackBar.show('upload success');\n    } catch (e) {\n      SnackBar.show('upload failed', 'error');\n    }\n  };\n\n  const updateSlug = async () => {\n    if (!validateSlug(newSlug)) {\n      return;\n    }\n    try {\n      Loader.show();\n      await Becca.changeUrl(newSlug);\n      toggleChangeUrl();\n      SnackBar.show('url updated successfully', 'success');\n      document.location.reload();\n    } catch (e) {\n      const error = e?.response?.data?.message;\n      if (error) {\n        if (error.toLowerCase() === 'name already taken') {\n          SnackBar.show('Shop URL already taken, try a different one.', 'error');\n          return;\n        }\n      }\n      SnackBar.showError(e);\n    } finally {\n      Loader.hide();\n    }\n  };\n\n  const onShopNameChange = () => (name) => {\n    setName(name);\n  };\n\n  const onCountryChange = ({\n    value,\n    currrency\n  }) => {\n    setCountry(value);\n    setCurrency(currrency);\n    toggleCountryDrawer();\n  };\n\n  return (\n    <div className={styles.shopSection}>\n      {showDummy && <Loading />}\n      {!isDesktop && openChangeUrl && (\n        <Drawer\n          title=\"Shop URL\"\n          closeButton={true}\n          onClose={() => {\n            toggleChangeUrl();\n            updateSlug();\n          }}\n        >\n          <div className={styles.editBox}>\n            <div className={styles.editUrlHeading}>\n              Edit Shop URL\n            </div>\n            <ReactInput\n              placeholder=\"Enter your URL\"\n              startLabel=\"mywindo.shop/\"\n              value={newSlug}\n              labelClass={styles.bottom}\n              setValue={setNewSlug}\n            />\n            {/* <div className={styles.updateUrl}>\n              <Button size=\"large\" label=\"Update\" onClick={updateSlug} />\n            </div> */}\n            <div className={styles.connectDomain}>\n              Do you want to connect your own\n              {' '}\n              <Clickable className={styles.greenLink} onClick={() => history.push('/manage/domain')}>\n                Domain?\n              </Clickable>\n            </div>\n            <div className={cx(styles.actionBtn, 'flexCenter')}>\n              <Button\n                fullWidth\n                bordered={false}\n                onClick={() => {\n                  updateSlug();\n                }}\n                size=\"large\"\n                label=\"Save\"\n              />\n            </div>\n          </div>\n        </Drawer>\n      )}\n      {isDesktop && openChangeUrl && (\n        <SideDrawer\n          backButton={true}\n          title=\"Shop URL\"\n          onClose={toggleChangeUrl}\n        >\n          <div className={styles.editBox}>\n            <div className={styles.editUrlHeading}>\n              Edit Shop URL\n            </div>\n            <div className={styles.inputB}>\n              <ReactInput\n                placeholder=\"Enter your URL\"\n                startLabel=\"mywindo.shop/\"\n                value={newSlug}\n                labelClass={styles.bottom}\n                setValue={setNewSlug}\n              />\n            </div>\n            <div className={styles.updateUrl}>\n              <Button size=\"medium\" label=\"Update\" onClick={updateSlug} />\n            </div>\n            <div className={styles.connectDomain}>\n              Do you want to connect your own\n              {' '}\n              <Clickable className={styles.greenLink} onClick={() => history.push('/manage/domain')}>\n                Domain?\n              </Clickable>\n            </div>\n          </div>\n        </SideDrawer>\n      )}\n      {isDesktop && openDescription && (\n        <SideDrawer\n          backButton={true}\n          button={true}\n          onClick={toggleDescription}\n          title=\"Shop Description\"\n          onClose={toggleDescription}\n        >\n          <div className={styles.desktopEditor}>\n            <Editor\n              value={description}\n              apiKey=\"jk7y6v6dbe2h16qh13q5klle5sz76ddgevc6ph3v1sa4bgu1\"\n              onInit={() => {\n                toggleDummy(false);\n              }}\n              init={{\n                menubar: false,\n                toolbar: false,\n                height: '75vh',\n                width: '100%',\n                placeholder: 'Tell us what makes your shop unique',\n                statusbar: false,\n                branding: false,\n                selector: 'textarea', // change this value according to your HTML\n                paste_data_images: true,\n                plugins: [\n                  'paste'\n                ],\n              }}\n              onEditorChange={handleEditorChange}\n            />\n          </div>\n          {/* <div className={cx(styles.actionBtn, 'flexCenter')}>\n            <Button\n              onClick={toggleDescription}\n              size=\"large\"\n              label=\"Save\"\n            />\n          </div> */}\n        </SideDrawer>\n      )}\n      {!isDesktop && isStart === false && (\n        <Drawer onBack={() => history.goBack()} title=\"Profile\">\n          <div className={isDesktop ? null : styles.padd}>\n            <div className={isDesktop ? styles.desktopContainer : null}>\n              <div className={cx('textCenter flexCenter relative')}>\n                <input\n                  accept=\"image/*\"\n                  hidden\n                  id=\"icon-button-file\"\n                  type=\"file\"\n                  onChange={(e) => {\n                    uploadAsset(e);\n                  }} />\n                <label htmlFor=\"icon-button-file\">\n                  <img src={icon || blacky} className={cx(styles.avatar)} alt=\"shop icon\" />\n                  <img\n                    alt=\"\"\n                    className={styles.upload}\n                    src={upload}\n                  />\n                </label>\n              </div>\n              {!isDesktop && openDescription && (\n                <Drawer\n                  onClose={toggleDescription}\n                  closeButton\n                  title=\"Shop Description\"\n                >\n                  <div className={styles.rte}>\n                    <Editor\n                      value={description}\n                      apiKey=\"jk7y6v6dbe2h16qh13q5klle5sz76ddgevc6ph3v1sa4bgu1\"\n                      onInit={() => {\n                        toggleDummy(false);\n                      }}\n                      init={{\n                        menubar: false,\n                        toolbar: false,\n                        height: '40vh',\n                        width: 'calc(100vw - 20px)',\n                        placeholder: 'Tell us what makes your shop unique',\n                        statusbar: false,\n                        branding: false,\n                        selector: 'textarea', // change this value according to your HTML\n                        paste_data_images: true,\n                        plugins: [\n                          'paste'\n                        ],\n                      }}\n                      onEditorChange={handleEditorChange}\n                    />\n                  </div>\n                  <FooterButton>\n                    <Button\n                      fullWidth\n                      bordered={false}\n                      onClick={toggleDescription}\n                      size=\"large\"\n                      label=\"Save\"\n                    />\n                  </FooterButton>\n                </Drawer>\n              ) }\n              {!isDesktop && isStart\n        && (\n          <div className={cx('textCenter flexCenter')}>\n            <Avatar\n              className={cx('avatar', 'textCenter', 'flexCenter', styles.avatar)}\n              variant=\"rounded\"\n              alt=\"Remy Sharp\"\n              src={blacky}\n            />\n          </div>\n        )}\n              <div className={cx(styles.top)}>\n                <ReactInput\n                  label=\"Shop Name\"\n                  inputClass={styles.height}\n                  placeholder=\"e.g. brilliant boutique\"\n                  setValue={onShopNameChange()}\n                  value={name}\n                />\n              </div>\n              {!(isCustomDomain && domain) && (\n                <>\n                  <div className={styles.label}>Shop URL</div>\n                  <div className={cx(styles.bottom)}>\n                    <ReactInput\n                      placeholder=\"Enter your URL\"\n                      startLabel=\"mywindo.shop/\"\n                      startLabelClass={styles.labelStart}\n                      value={slug}\n                      inputClass={styles.height}\n                      labelClass={styles.bottom2}\n                      setValue={() => {\n                      }}\n                    />\n                    <div className={styles.changeUrlText}>\n                      Want to change your shop URL?\n                      {' '}\n                      <Clickable\n                        onClick={() => {\n                          setNewSlug(slug);\n                          toggleChangeUrl();\n                        }}\n                        className={styles.greenLink}>\n                        Click Here\n                      </Clickable>\n                    </div>\n                  </div>\n                </>\n              )}\n              <div id=\"slugField\" className={cx(isDesktop ? styles.desktopMarginTop : null, 'flexCenter')}>\n                <div className={styles.left}>\n                  {openCountryDrawer && (\n                    <CountryDrawer onSelect={onCountryChange} onBack={toggleCountryDrawer} />\n                  )}\n                  <Clickable\n                    className={styles.countrySelect}\n                    onClick={() => {\n                    }}\n                  >\n                    <div className={styles.cLabel}>\n                      Select Country\n                    </div>\n                    <div className={styles.cValue}>\n                      <div className={styles.ellipsis}>\n                        {country.toLowerCase() === 'usa' ? 'USA' : country}\n                      </div>\n                      <img src={chevron} alt=\"\" />\n                    </div>\n                  </Clickable>\n                </div>\n                <div className={styles.right}>\n                  <Select\n                    disabled={true}\n                    options={currencies}\n                    label=\"Currency\"\n                    value={currencies.find(c => c.value === currency)}\n                    isDisabled={true}\n                    styles={styles.select}\n                  />\n                </div>\n              </div>\n              <Clickable onClick={toggleDescription} className={styles.descriptionContainer}>\n                <div className={styles.descriptionHeading}>Shop Description</div>\n                {plainDescription?.length > 0 ? (\n                  <div className={styles.descriptionText}>\n                    <span dangerouslySetInnerHTML={{ __html: plainDescription.slice(0, 45) }}></span>\n                    {plainDescription.length > 45 && (\n                      <span className={styles.descriptionLink}>more...</span>\n                    )}\n                  </div>\n                ) : (\n                  <div className={styles.descriptionPlaceholder}>Tell us what makes your shop unique</div>\n                )}\n              </Clickable>\n            </div>\n            <div className={styles.actionBtn}>\n              <Button\n                bordered={false}\n                fullWidth\n                onClick={() => submit(null)}\n                size=\"large\"\n                label=\"Update\"\n              />\n            </div>\n          </div>\n        </Drawer>\n      )}\n      {isDesktop && (\n        <>\n          <div className={cx(styles.top)}>\n            <ReactInput\n              label=\"Shop Name\"\n              inputClass={styles.height}\n              placeholder=\"e.g. brilliant boutique\"\n              setValue={onShopNameChange()}\n              value={name}\n            />\n          </div>\n          {!(isCustomDomain && domain) && (\n            <>\n              <div className={styles.label}>Shop URL</div>\n              <div className={cx(styles.bottom)}>\n                <ReactInput\n                  placeholder=\"Enter your URL\"\n                  startLabel=\"mywindo.shop/\"\n                  startLabelClass={styles.labelStart}\n                  value={slug}\n                  inputClass={styles.height}\n                  labelClass={styles.bottom2}\n                  setValue={() => {\n                  }}\n                />\n                <div className={styles.changeUrlText}>\n                  Want to change your shop URL?\n                  {' '}\n                  <Clickable\n                    onClick={() => {\n                      setNewSlug(slug);\n                      toggleChangeUrl();\n                    }}\n                    className={styles.greenLink}>\n                    Click Here\n                  </Clickable>\n                </div>\n              </div>\n            </>\n          )}\n          <div id=\"slugField\" className={cx(isDesktop ? styles.desktopMarginTop : null, 'flexCenter')}>\n            <div className={styles.left}>\n              {openCountryDrawer && (\n                <CountryDrawer onSelect={onCountryChange} onBack={toggleCountryDrawer} />\n              )}\n              <Clickable\n                className={styles.countrySelect}\n                onClick={() => {\n                }}\n              >\n                <div className={styles.cLabel}>\n                  Select Country\n                </div>\n                <div className={styles.cValue}>\n                  <div className={styles.ellipsis}>\n                    {country.toLowerCase() === 'usa' ? 'USA' : country}\n                  </div>\n                  <img src={chevron} alt=\"\" />\n                </div>\n              </Clickable>\n            </div>\n            <div className={styles.right}>\n              <Select\n                disabled={true}\n                options={currencies}\n                label=\"Currency\"\n                value={currencies.find(c => c.value === currency)}\n                isDisabled={true}\n                styles={styles.select}\n              />\n            </div>\n          </div>\n          <Clickable onClick={toggleDescription} className={styles.descriptionContainer}>\n            <div className={styles.descriptionHeading}>Shop Description</div>\n            {plainDescription?.length > 0 ? (\n              <div className={styles.descriptionText}>\n                <span dangerouslySetInnerHTML={{ __html: plainDescription.slice(0, 90) }}></span>\n                {plainDescription.length > 90 && (\n                  <span className={styles.descriptionLink}>more...</span>\n                )}\n              </div>\n            ) : (\n              <div className={styles.descriptionPlaceholder}>Tell us what makes your shop unique</div>\n            )}\n          </Clickable>\n          <div className={styles.action}>\n            <Button\n              bordered={true}\n              onClick={() => submit(null)}\n              size=\"large\"\n              fullWidth\n              label=\"Update\"\n            />\n          </div>\n        </>\n      )}\n\n    </div>\n  );\n}\n\nShop.propTypes = {\n  isStart: PropTypes.bool.isRequired,\n};\n\nexport default Shop;\n"]},"metadata":{},"sourceType":"module"}