{"ast":null,"code":"var _jsxFileName = \"/home/harish/windo/phoenix/src/components/address/Map.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport Gmaps from \"../../services/gmaps\";\nimport styles from \"./Map.module.css\";\nexport function Map({\n  place\n}) {\n  _s();\n\n  var _place$coords, _place$coords2;\n\n  const ref = useRef();\n  const isFilled = (place === null || place === void 0 ? void 0 : (_place$coords = place.coords) === null || _place$coords === void 0 ? void 0 : _place$coords.lat) && (place === null || place === void 0 ? void 0 : (_place$coords2 = place.coords) === null || _place$coords2 === void 0 ? void 0 : _place$coords2.long);\n\n  const loadMap = async () => {\n    var _place$coords3, _place$coords4;\n\n    if (!isFilled) {\n      return;\n    }\n\n    const gmaps = await Gmaps.loadGmaps();\n    const location = new gmaps.LatLng(place === null || place === void 0 ? void 0 : (_place$coords3 = place.coords) === null || _place$coords3 === void 0 ? void 0 : _place$coords3.lat, place === null || place === void 0 ? void 0 : (_place$coords4 = place.coords) === null || _place$coords4 === void 0 ? void 0 : _place$coords4.long);\n    const map = new gmaps.Map(ref.current, {\n      center: location,\n      zoom: 18,\n      mapTypeControl: false,\n      fullscreenControl: false,\n      scaleControl: false,\n      zoomControl: false,\n      streetViewControl: false\n    });\n    const marker = new gmaps.Marker({\n      map,\n      position: location\n    });\n    const info = new gmaps.InfoWindow();\n    gmaps.event.addListener(marker, 'click', () => {\n      info.setContent(place.name || '');\n      info.open(map);\n    });\n  };\n\n  useEffect(() => {\n    if (ref.current) {\n      loadMap();\n    }\n  }, [JSON.stringify((place === null || place === void 0 ? void 0 : place.coords) || {}), !!(ref !== null && ref !== void 0 && ref.current)]);\n\n  if (!isFilled) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.map,\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }));\n}\n\n_s(Map, \"8uVE59eA/r6b92xF80p7sH8rXLk=\");\n\n_c = Map;\nMap.propTypes = {\n  place: PropTypes.object.isRequired\n};\nMap.defaultProps = {};\n\nvar _c;\n\n$RefreshReg$(_c, \"Map\");","map":{"version":3,"sources":["/home/harish/windo/phoenix/src/components/address/Map.jsx"],"names":["React","useEffect","useRef","PropTypes","Gmaps","styles","Map","place","ref","isFilled","coords","lat","long","loadMap","gmaps","loadGmaps","location","LatLng","map","current","center","zoom","mapTypeControl","fullscreenControl","scaleControl","zoomControl","streetViewControl","marker","Marker","position","info","InfoWindow","event","addListener","setContent","name","open","JSON","stringify","container","propTypes","object","isRequired","defaultProps"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,QAAyC,OAAzC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP;AACA,OAAOC,MAAP;AAEA,OAAO,SAASC,GAAT,CAAa;AAAEC,EAAAA;AAAF,CAAb,EAAwB;AAAA;;AAAA;;AAC7B,QAAMC,GAAG,GAAGN,MAAM,EAAlB;AAEA,QAAMO,QAAQ,GAAG,CAAAF,KAAK,SAAL,IAAAA,KAAK,WAAL,6BAAAA,KAAK,CAAEG,MAAP,gEAAeC,GAAf,MAAsBJ,KAAtB,aAAsBA,KAAtB,yCAAsBA,KAAK,CAAEG,MAA7B,mDAAsB,eAAeE,IAArC,CAAjB;;AAEA,QAAMC,OAAO,GAAG,YAAY;AAAA;;AAC1B,QAAI,CAACJ,QAAL,EAAe;AACb;AACD;;AACD,UAAMK,KAAK,GAAG,MAAMV,KAAK,CAACW,SAAN,EAApB;AACA,UAAMC,QAAQ,GAAG,IAAIF,KAAK,CAACG,MAAV,CAAiBV,KAAjB,aAAiBA,KAAjB,yCAAiBA,KAAK,CAAEG,MAAxB,mDAAiB,eAAeC,GAAhC,EAAqCJ,KAArC,aAAqCA,KAArC,yCAAqCA,KAAK,CAAEG,MAA5C,mDAAqC,eAAeE,IAApD,CAAjB;AACA,UAAMM,GAAG,GAAG,IAAIJ,KAAK,CAACR,GAAV,CAAcE,GAAG,CAACW,OAAlB,EAA2B;AACrCC,MAAAA,MAAM,EAAEJ,QAD6B;AAErCK,MAAAA,IAAI,EAAE,EAF+B;AAGrCC,MAAAA,cAAc,EAAE,KAHqB;AAIrCC,MAAAA,iBAAiB,EAAE,KAJkB;AAKrCC,MAAAA,YAAY,EAAE,KALuB;AAMrCC,MAAAA,WAAW,EAAE,KANwB;AAOrCC,MAAAA,iBAAiB,EAAE;AAPkB,KAA3B,CAAZ;AASA,UAAMC,MAAM,GAAG,IAAIb,KAAK,CAACc,MAAV,CAAiB;AAC9BV,MAAAA,GAD8B;AAE9BW,MAAAA,QAAQ,EAAEb;AAFoB,KAAjB,CAAf;AAIA,UAAMc,IAAI,GAAG,IAAIhB,KAAK,CAACiB,UAAV,EAAb;AACAjB,IAAAA,KAAK,CAACkB,KAAN,CAAYC,WAAZ,CAAwBN,MAAxB,EAAgC,OAAhC,EAAyC,MAAM;AAC7CG,MAAAA,IAAI,CAACI,UAAL,CAAgB3B,KAAK,CAAC4B,IAAN,IAAc,EAA9B;AACAL,MAAAA,IAAI,CAACM,IAAL,CAAUlB,GAAV;AACD,KAHD;AAID,GAxBD;;AA0BAjB,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIO,GAAG,CAACW,OAAR,EAAiB;AACfN,MAAAA,OAAO;AACR;AACF,GAJQ,EAIN,CAACwB,IAAI,CAACC,SAAL,CAAe,CAAA/B,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAEG,MAAP,KAAiB,EAAhC,CAAD,EAAsC,CAAC,EAACF,GAAD,aAACA,GAAD,eAACA,GAAG,CAAEW,OAAN,CAAvC,CAJM,CAAT;;AAMA,MAAI,CAACV,QAAL,EAAe;AACb,WAAO,IAAP;AACD;;AAED,sBACE;AAAK,IAAA,SAAS,EAAEJ,MAAM,CAACkC,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAElC,MAAM,CAACa,GAAvB;AAA4B,IAAA,GAAG,EAAEV,GAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF;AAKD;;GA9CeF,G;;KAAAA,G;AAgDhBA,GAAG,CAACkC,SAAJ,GAAgB;AACdjC,EAAAA,KAAK,EAAEJ,SAAS,CAACsC,MAAV,CAAiBC;AADV,CAAhB;AAIApC,GAAG,CAACqC,YAAJ,GAAmB,EAAnB","sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport Gmaps from 'services/gmaps';\nimport styles from './Map.module.css';\n\nexport function Map({ place }) {\n  const ref = useRef();\n\n  const isFilled = place?.coords?.lat && place?.coords?.long;\n\n  const loadMap = async () => {\n    if (!isFilled) {\n      return;\n    }\n    const gmaps = await Gmaps.loadGmaps();\n    const location = new gmaps.LatLng(place?.coords?.lat, place?.coords?.long);\n    const map = new gmaps.Map(ref.current, {\n      center: location,\n      zoom: 18,\n      mapTypeControl: false,\n      fullscreenControl: false,\n      scaleControl: false,\n      zoomControl: false,\n      streetViewControl: false,\n    });\n    const marker = new gmaps.Marker({\n      map,\n      position: location,\n    });\n    const info = new gmaps.InfoWindow();\n    gmaps.event.addListener(marker, 'click', () => {\n      info.setContent(place.name || '');\n      info.open(map);\n    });\n  };\n\n  useEffect(() => {\n    if (ref.current) {\n      loadMap();\n    }\n  }, [JSON.stringify(place?.coords || {}), !!ref?.current]);\n\n  if (!isFilled) {\n    return null;\n  }\n\n  return (\n    <div className={styles.container}>\n      <div className={styles.map} ref={ref} />\n    </div>\n  );\n}\n\nMap.propTypes = {\n  place: PropTypes.object.isRequired,\n};\n\nMap.defaultProps = {};\n"]},"metadata":{},"sourceType":"module"}