{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport Loader from \"../../services/loader\";\nimport SnackBar from \"../../services/snackbar\";\nimport { Becca } from \"../../api\";\nimport { useHistory } from 'react-router-dom';\nimport { unMarshallPayload } from \"./variantUtils\";\nexport function useProductDetails(id) {\n  _s();\n\n  const [product, setProduct] = useState(null);\n  const history = useHistory();\n\n  const fetchDetails = async () => {\n    Loader.show();\n\n    try {\n      const data = await Becca.getVariants(id);\n      setProduct(unMarshallPayload(data));\n    } catch (e) {\n      history.goBack();\n      SnackBar.showError(e);\n    } finally {\n      Loader.hide();\n    }\n  };\n\n  useEffect(() => {\n    if (id) {\n      fetchDetails();\n    }\n  }, [id]);\n  return [product, fetchDetails];\n}\n\n_s(useProductDetails, \"1bz54IRraK/wvzE2j4w6c8M8ms0=\", false, function () {\n  return [useHistory];\n});","map":{"version":3,"sources":["/home/harish/windo/phoenix/src/components/products/hooks.js"],"names":["useEffect","useState","Loader","SnackBar","Becca","useHistory","unMarshallPayload","useProductDetails","id","product","setProduct","history","fetchDetails","show","data","getVariants","e","goBack","showError","hide"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,MAAP;AACA,OAAOC,QAAP;AACA,SAASC,KAAT;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,iBAAT;AAEA,OAAO,SAASC,iBAAT,CAA2BC,EAA3B,EAA+B;AAAA;;AACpC,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBT,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAMU,OAAO,GAAGN,UAAU,EAA1B;;AAEA,QAAMO,YAAY,GAAG,YAAY;AAC/BV,IAAAA,MAAM,CAACW,IAAP;;AACA,QAAI;AACF,YAAMC,IAAI,GAAG,MAAMV,KAAK,CAACW,WAAN,CAAkBP,EAAlB,CAAnB;AACAE,MAAAA,UAAU,CAACJ,iBAAiB,CAACQ,IAAD,CAAlB,CAAV;AACD,KAHD,CAGE,OAAOE,CAAP,EAAU;AACVL,MAAAA,OAAO,CAACM,MAAR;AACAd,MAAAA,QAAQ,CAACe,SAAT,CAAmBF,CAAnB;AACD,KAND,SAMU;AACRd,MAAAA,MAAM,CAACiB,IAAP;AACD;AACF,GAXD;;AAaAnB,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIQ,EAAJ,EAAQ;AACNI,MAAAA,YAAY;AACb;AACF,GAJQ,EAIN,CAACJ,EAAD,CAJM,CAAT;AAMA,SAAO,CAACC,OAAD,EAAUG,YAAV,CAAP;AACD;;GAxBeL,iB;UAEEF,U","sourcesContent":["import { useEffect, useState } from 'react';\nimport Loader from 'services/loader';\nimport SnackBar from 'services/snackbar';\nimport { Becca } from 'api';\nimport { useHistory } from 'react-router-dom';\nimport { unMarshallPayload } from 'components/products/variantUtils';\n\nexport function useProductDetails(id) {\n  const [product, setProduct] = useState(null);\n  const history = useHistory();\n\n  const fetchDetails = async () => {\n    Loader.show();\n    try {\n      const data = await Becca.getVariants(id);\n      setProduct(unMarshallPayload(data));\n    } catch (e) {\n      history.goBack();\n      SnackBar.showError(e);\n    } finally {\n      Loader.hide();\n    }\n  };\n\n  useEffect(() => {\n    if (id) {\n      fetchDetails();\n    }\n  }, [id]);\n\n  return [product, fetchDetails];\n}\n"]},"metadata":{},"sourceType":"module"}