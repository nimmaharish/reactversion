{"ast":null,"code":"import EventManager from \"../utils/events\";\n\nfunction setSessionItem(name, value) {\n  sessionStorage.setItem(name, value);\n}\n\nfunction getSessionItem(name) {\n  return sessionStorage.getItem(name);\n}\n\nfunction isWatchedOverviewAlert() {\n  const value = getSessionItem('overviewAlert');\n\n  if (value !== null && (value === null || value === void 0 ? void 0 : value.length) > 0) {\n    return value !== 'false';\n  }\n\n  return true;\n}\n\nfunction setItem(name, value) {\n  localStorage.setItem(name, value);\n\n  if (name === 'token') {\n    const coachMarksList = JSON.stringify({\n      stepper: false,\n      products: false,\n      payments: false,\n      orders: false,\n      settings: false\n    });\n    localStorage.setItem('coachmarks', coachMarksList);\n    setSessionItem('overviewAlert', 'false');\n  }\n}\n\nfunction getItem(name) {\n  return localStorage.getItem(name);\n}\n\nfunction getFaqs() {\n  const items = getItem('recentFaqs');\n  return JSON.parse(items) || [];\n}\n\nfunction setFaqs(item) {\n  const items = getFaqs();\n  const newItems = items.filter(x => x !== item);\n  newItems.unshift(item);\n  setItem('recentFaqs', JSON.stringify(newItems));\n}\n\nfunction isLoggedIn() {\n  const token = getItem('token');\n  return token !== null && (token === null || token === void 0 ? void 0 : token.length) > 0;\n}\n\nfunction isWatchedCoachMark(item) {\n  const value = getItem('coachmarks');\n\n  if (value !== null && (value === null || value === void 0 ? void 0 : value.length) > 0 && value !== 'true') {\n    const parsed = JSON.parse(value);\n    return parsed[item];\n  }\n\n  return true;\n}\n\nfunction updateWatchedCoachMarks(item) {\n  const value = getItem('coachmarks');\n\n  if (value !== null && (value === null || value === void 0 ? void 0 : value.length) > 0 && value !== 'true') {\n    const parsed = JSON.parse(value);\n    parsed[item] = true;\n    setItem('coachmarks', JSON.stringify(parsed));\n  }\n}\n\nfunction getNotWatchedCoachMarks() {\n  const value = getItem('coachmarks');\n\n  if (value !== null && (value === null || value === void 0 ? void 0 : value.length) > 0 && value !== 'true') {\n    const parsed = JSON.parse(value);\n    const items = Object.keys(parsed).filter(x => !parsed[x]);\n    return items;\n  }\n\n  return [];\n}\n\nfunction getUnits() {\n  const value = getItem('units');\n\n  if (value !== null && (value === null || value === void 0 ? void 0 : value.length) > 0 && value !== 'true') {\n    const parsed = JSON.parse(value);\n    return parsed;\n  }\n\n  return [];\n}\n\nfunction addUnit(item) {\n  const value = getItem('units');\n\n  if (value !== null && (value === null || value === void 0 ? void 0 : value.length) > 0 && value !== 'true') {\n    const parsed = JSON.parse(value);\n    parsed.push(item);\n    setItem('units', JSON.stringify(parsed));\n    return;\n  }\n\n  setItem('units', JSON.stringify([item]));\n}\n\nasync function logout(history) {\n  localStorage.removeItem('token');\n  localStorage.removeItem('coachmarks');\n  localStorage.removeItem('units');\n  sessionStorage.removeItem('overviewAlert');\n  EventManager.resetGlobalData();\n  history.replace('/');\n  history.go();\n}\n\nconst Storage = {\n  getItem,\n  setItem,\n  isLoggedIn,\n  logout,\n  setSessionItem,\n  getSessionItem,\n  isWatchedCoachMark,\n  updateWatchedCoachMarks,\n  getNotWatchedCoachMarks,\n  isWatchedOverviewAlert,\n  setFaqs,\n  getFaqs,\n  getUnits,\n  addUnit\n};\nexport default Storage;","map":{"version":3,"sources":["/home/harish/windo/phoenix/src/services/storage.js"],"names":["EventManager","setSessionItem","name","value","sessionStorage","setItem","getSessionItem","getItem","isWatchedOverviewAlert","length","localStorage","coachMarksList","JSON","stringify","stepper","products","payments","orders","settings","getFaqs","items","parse","setFaqs","item","newItems","filter","x","unshift","isLoggedIn","token","isWatchedCoachMark","parsed","updateWatchedCoachMarks","getNotWatchedCoachMarks","Object","keys","getUnits","addUnit","push","logout","history","removeItem","resetGlobalData","replace","go","Storage"],"mappings":"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","sourcesContent":["import EventManager from 'utils/events';\n\nfunction setSessionItem(name, value) {\n  sessionStorage.setItem(name, value);\n}\n\nfunction getSessionItem(name) {\n  return sessionStorage.getItem(name);\n}\n\nfunction isWatchedOverviewAlert() {\n  const value = getSessionItem('overviewAlert');\n  if (value !== null && value?.length > 0) {\n    return value !== 'false';\n  }\n  return true;\n}\n\nfunction setItem(name, value) {\n  localStorage.setItem(name, value);\n  if (name === 'token') {\n    const coachMarksList = JSON.stringify({\n      stepper: false,\n      products: false,\n      payments: false,\n      orders: false,\n      settings: false,\n    });\n    localStorage.setItem('coachmarks', coachMarksList);\n    setSessionItem('overviewAlert', 'false');\n  }\n}\n\nfunction getItem(name) {\n  return localStorage.getItem(name);\n}\n\nfunction getFaqs() {\n  const items = getItem('recentFaqs');\n  return JSON.parse(items) || [];\n}\n\nfunction setFaqs(item) {\n  const items = getFaqs();\n  const newItems = items.filter(x => x !== item);\n  newItems.unshift(item);\n  setItem('recentFaqs', JSON.stringify(newItems));\n}\n\nfunction isLoggedIn() {\n  const token = getItem('token');\n  return token !== null && token?.length > 0;\n}\n\nfunction isWatchedCoachMark(item) {\n  const value = getItem('coachmarks');\n  if (value !== null && value?.length > 0 && value !== 'true') {\n    const parsed = JSON.parse(value);\n    return parsed[item];\n  }\n  return true;\n}\n\nfunction updateWatchedCoachMarks(item) {\n  const value = getItem('coachmarks');\n  if (value !== null && value?.length > 0 && value !== 'true') {\n    const parsed = JSON.parse(value);\n    parsed[item] = true;\n    setItem('coachmarks', JSON.stringify(parsed));\n  }\n}\n\nfunction getNotWatchedCoachMarks() {\n  const value = getItem('coachmarks');\n  if (value !== null && value?.length > 0 && value !== 'true') {\n    const parsed = JSON.parse(value);\n    const items = Object.keys(parsed).filter(x => !parsed[x]);\n    return items;\n  }\n  return [];\n}\n\nfunction getUnits() {\n  const value = getItem('units');\n  if (value !== null && value?.length > 0 && value !== 'true') {\n    const parsed = JSON.parse(value);\n    return parsed;\n  }\n  return [];\n}\n\nfunction addUnit(item) {\n  const value = getItem('units');\n  if (value !== null && value?.length > 0 && value !== 'true') {\n    const parsed = JSON.parse(value);\n    parsed.push(item);\n    setItem('units', JSON.stringify(parsed));\n    return;\n  }\n  setItem('units', JSON.stringify([item]));\n}\n\nasync function logout(history) {\n  localStorage.removeItem('token');\n  localStorage.removeItem('coachmarks');\n  localStorage.removeItem('units');\n  sessionStorage.removeItem('overviewAlert');\n  EventManager.resetGlobalData();\n  history.replace('/');\n  history.go();\n}\n\nconst Storage = {\n  getItem,\n  setItem,\n  isLoggedIn,\n  logout,\n  setSessionItem,\n  getSessionItem,\n  isWatchedCoachMark,\n  updateWatchedCoachMarks,\n  getNotWatchedCoachMarks,\n  isWatchedOverviewAlert,\n  setFaqs,\n  getFaqs,\n  getUnits,\n  addUnit\n};\n\nexport default Storage;\n"]},"metadata":{},"sourceType":"module"}