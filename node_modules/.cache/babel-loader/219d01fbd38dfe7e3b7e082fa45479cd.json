{"ast":null,"code":"var _jsxFileName = \"/home/harish/windo/phoenix/src/components/reviewProduct/ReviewProductAndroid.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Button, Drawer, TextField } from '@material-ui/core';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport windologo from \"../../assets/v2/logoFilled.svg\";\nimport Rating from '@material-ui/lab/Rating';\nimport StarBorderIcon from '@material-ui/icons/StarBorder';\nimport { useToggle } from \"../../hooks/common\";\nimport WebView from \"../../services/webview\";\nimport { Becca } from \"../../api\";\nimport SnackBar from \"../../services/snackbar\";\nimport Loader from \"../../services/loader\";\nimport ReviewHeader from \"./ReviewHeader\";\nimport styles from \"./ReviewProductAndroid.module.css\";\nimport ReviewSubmitted from \"./ReviewSubmitted\";\n\nfunction ReviewProductAndroid({\n  onClose\n}) {\n  _s();\n\n  const [userRated, toggleUserRated] = useToggle();\n  const [ratingValue, setRatingValue] = useState(0);\n  const [reviewText, setReviewText] = useState('');\n  const [textCount, setTextCount] = useState(0);\n  const [reviewSubmit, toggleReviewSubmit] = useToggle();\n\n  const handleRating = e => {\n    const rating = +e.target.value;\n\n    if (rating > 3) {\n      WebView.askRating('store');\n      Becca.rateShop({\n        rated: true,\n        rating,\n        review: reviewText,\n        platform: 'android'\n      });\n      onClose();\n      return;\n    }\n\n    toggleUserRated();\n    setRatingValue(rating);\n  };\n\n  const onSubmit = async () => {\n    try {\n      Loader.show();\n      await Becca.rateShop({\n        rated: true,\n        rating: ratingValue,\n        review: reviewText,\n        platform: 'android'\n      });\n    } catch (error) {\n      SnackBar.showError(error);\n      return;\n    } finally {\n      Loader.hide();\n    }\n\n    toggleReviewSubmit();\n  };\n\n  const handleTextField = e => {\n    setReviewText(e.target.value);\n    setTextCount(e.target.value.length);\n  };\n\n  return /*#__PURE__*/React.createElement(Drawer, {\n    anchor: \"bottom\",\n    open: true,\n    onClose: onClose,\n    classes: {\n      paper: styles.drawerPaper\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  }, !reviewSubmit ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ReviewHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: cx(styles.note, styles[userRated ? 'isSelected' : null]),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: windologo,\n    alt: \"windologo\",\n    className: styles.windologo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  }, !userRated ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.note1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.windotext,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 23\n    }\n  }, \"Windo\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.notetext,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 23\n    }\n  }, \"Your review is public and includes your Google profile name and photo\")) : /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.afterRated,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Rating, {\n    name: \"review\",\n    value: ratingValue,\n    size: \"large\",\n    emptyIcon: /*#__PURE__*/React.createElement(StarBorderIcon, {\n      fontSize: \"inherit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 27\n      }\n    }),\n    classes: {\n      iconFilled: styles.cusmStars1,\n      iconEmpty: styles.cusmStars2\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 23\n    }\n  }))), userRated && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 30\n    }\n  }, \"\\xA0\")), !userRated ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.stars,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Rating, {\n    name: \"review\",\n    size: \"large\",\n    value: ratingValue,\n    onChange: handleRating,\n    emptyIcon: /*#__PURE__*/React.createElement(StarBorderIcon, {\n      fontSize: \"inherit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 21\n      }\n    }),\n    classes: {\n      icon: styles.cusmStars\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  })) : null, !userRated ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.buttons,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"outlined\",\n    className: styles.notnowButton,\n    onClick: onClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 19\n    }\n  }, \"Not Now\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    className: styles.disableSubmitButton,\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 19\n    }\n  }, \"Submit\")) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.reviewText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    value: reviewText,\n    multiline: true,\n    label: \"Write a review \",\n    placeholder: \"(optional)\",\n    size: \"small\",\n    onChange: handleTextField,\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.conditions,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.optionalText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 23\n    }\n  }, \"Optional\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.textCount,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 23\n    }\n  }, textCount, \"/500\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.buttons,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"outlined\",\n    className: styles.cancelButton,\n    onClick: onClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 21\n    }\n  }, \"cancel\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    className: styles.activeSubmitButton,\n    onClick: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 21\n    }\n  }, \"Submit\")))) : /*#__PURE__*/React.createElement(ReviewSubmitted, {\n    onClose: onClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 13\n    }\n  }));\n}\n\n_s(ReviewProductAndroid, \"Wd7/OxsOGj7JHcCpU410jaVEy6E=\", false, function () {\n  return [useToggle, useToggle];\n});\n\n_c = ReviewProductAndroid;\nReviewProductAndroid.propTypes = {\n  onClose: PropTypes.func.isRequired\n};\nexport default ReviewProductAndroid;\n/*   */\n\nvar _c;\n\n$RefreshReg$(_c, \"ReviewProductAndroid\");","map":{"version":3,"sources":["/home/harish/windo/phoenix/src/components/reviewProduct/ReviewProductAndroid.js"],"names":["React","useState","Button","Drawer","TextField","PropTypes","cx","Rating","StarBorderIcon","useToggle","WebView","Becca","SnackBar","Loader","ReviewHeader","styles","ReviewSubmitted","ReviewProductAndroid","onClose","userRated","toggleUserRated","ratingValue","setRatingValue","reviewText","setReviewText","textCount","setTextCount","reviewSubmit","toggleReviewSubmit","handleRating","e","rating","target","value","askRating","rateShop","rated","review","platform","onSubmit","show","error","showError","hide","handleTextField","length","paper","drawerPaper","container","note","windologo","note1","windotext","notetext","afterRated","iconFilled","cusmStars1","iconEmpty","cusmStars2","stars","icon","cusmStars","buttons","notnowButton","disableSubmitButton","conditions","optionalText","cancelButton","activeSubmitButton","propTypes","func","isRequired"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport {\n  Button, Drawer, TextField\n} from '@material-ui/core';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport windologo from 'assets/v2/logoFilled.svg';\nimport Rating from '@material-ui/lab/Rating';\nimport StarBorderIcon from '@material-ui/icons/StarBorder';\nimport { useToggle } from 'hooks/common';\nimport WebView from 'services/webview';\nimport { Becca } from 'api';\nimport SnackBar from 'services/snackbar';\nimport Loader from 'services/loader';\nimport ReviewHeader from './ReviewHeader';\nimport styles from './ReviewProductAndroid.module.css';\nimport ReviewSubmitted from './ReviewSubmitted';\n\nfunction ReviewProductAndroid({ onClose }) {\n  const [userRated, toggleUserRated] = useToggle();\n  const [ratingValue, setRatingValue] = useState(0);\n  const [reviewText, setReviewText] = useState('');\n  const [textCount, setTextCount] = useState(0);\n  const [reviewSubmit, toggleReviewSubmit] = useToggle();\n\n  const handleRating = (e) => {\n    const rating = +e.target.value;\n    if (rating > 3) {\n      WebView.askRating('store');\n      Becca.rateShop({\n        rated: true,\n        rating,\n        review: reviewText,\n        platform: 'android',\n      });\n      onClose();\n      return;\n    }\n    toggleUserRated();\n    setRatingValue(rating);\n  };\n\n  const onSubmit = async () => {\n    try {\n      Loader.show();\n      await Becca.rateShop({\n        rated: true,\n        rating: ratingValue,\n        review: reviewText,\n        platform: 'android',\n      });\n    } catch (error) {\n      SnackBar.showError(error);\n      return;\n    } finally {\n      Loader.hide();\n    }\n    toggleReviewSubmit();\n  };\n\n  const handleTextField = (e) => {\n    setReviewText(e.target.value);\n    setTextCount(e.target.value.length);\n  };\n\n  return (\n    <Drawer\n      anchor=\"bottom\"\n      open={true}\n      onClose={onClose}\n      classes={{ paper: styles.drawerPaper }}\n    >\n      {!reviewSubmit\n        ? (\n          <div className={styles.container}>\n            <ReviewHeader />\n            <div className={cx(styles.note, styles[userRated ? 'isSelected' : null])}>\n              <div>\n                <img src={windologo} alt=\"windologo\" className={styles.windologo} />\n              </div>\n              <div>\n                {!userRated\n                  ? (\n                    <div className={styles.note1}>\n                      <div className={styles.windotext}>Windo</div>\n                      <div className={styles.notetext}>\n                        Your review is public and includes your Google profile name and photo\n                      </div>\n                    </div>\n                  ) : (\n                    <div className={styles.afterRated}>\n                      <Rating\n                        name=\"review\"\n                        value={ratingValue}\n                        size=\"large\"\n                        emptyIcon={(\n                          <StarBorderIcon\n                            fontSize=\"inherit\"\n                          />\n                        )}\n                        classes={{\n                          iconFilled: styles.cusmStars1,\n                          iconEmpty: styles.cusmStars2\n                        }}\n                      />\n                    </div>\n                  )}\n              </div>\n              {userRated && (<div>&nbsp;</div>)}\n            </div>\n            {!userRated ? (\n              <div className={styles.stars}>\n                <Rating\n                  name=\"review\"\n                  size=\"large\"\n                  value={ratingValue}\n                  onChange={handleRating}\n                  emptyIcon={(\n                    <StarBorderIcon\n                      fontSize=\"inherit\"\n                    />\n                  )}\n                  classes={{\n                    icon: styles.cusmStars\n                  }}\n                />\n              </div>\n            ) : null}\n            {!userRated\n              ? (\n                <div className={styles.buttons}>\n                  <Button\n                    variant=\"outlined\"\n                    className={styles.notnowButton}\n                    onClick={onClose}>\n                    Not Now\n                  </Button>\n                  <Button\n                    variant=\"contained\"\n                    className={styles.disableSubmitButton}\n                    disabled>\n                    Submit\n                  </Button>\n                </div>\n              ) : (\n                <div>\n                  <div className={styles.reviewText}>\n                    <TextField\n                      variant=\"outlined\"\n                      value={reviewText}\n                      multiline\n                      label=\"Write a review \"\n                      placeholder=\"(optional)\"\n                      size=\"small\"\n                      onChange={handleTextField}\n                      fullWidth\n                    />\n                    <div className={styles.conditions}>\n                      <div className={styles.optionalText}>Optional</div>\n                      <div className={styles.textCount}>\n                        {textCount}\n                        /500\n                      </div>\n                    </div>\n                  </div>\n                  <div className={styles.buttons}>\n                    <Button\n                      variant=\"outlined\"\n                      className={styles.cancelButton}\n                      onClick={onClose}>\n                      cancel\n                    </Button>\n                    <Button\n                      variant=\"contained\"\n                      className={styles.activeSubmitButton}\n                      onClick={onSubmit}\n                    >\n                      Submit\n                    </Button>\n                  </div>\n                </div>\n              )}\n          </div>\n        ) : <ReviewSubmitted onClose={onClose} />}\n    </Drawer>\n  );\n}\n\nReviewProductAndroid.propTypes = {\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default ReviewProductAndroid;\n/*   */\n"]},"metadata":{},"sourceType":"module"}