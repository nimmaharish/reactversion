{"ast":null,"code":"var _jsxFileName = \"/home/harish/windo/phoenix/src/containers/profile/paymentMode/Card.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useField } from 'formik';\nimport PropTypes from 'prop-types';\nimport { Switch } from 'phoenix-components';\nimport { useToggle } from \"../../../hooks/common\";\nimport { Drawer } from \"../../../components/shared/Drawer\";\nimport PencilIcon from \"../../../assets/images/address/edit.svg\";\nimport { SideDrawer } from \"../../../components/shared/SideDrawer\";\nimport { useDesktop } from \"../../../contexts\";\nimport Form from \"./Form\";\nimport styles from \"./Card.module.css\";\n\nfunction Card({\n  index,\n  toggleSave\n}) {\n  _s();\n\n  const prefix = `custompayment.configured[${index}]`;\n  const [{\n    value: customPayment\n  },, {\n    setValue\n  }] = useField(prefix);\n  const [{\n    value: customPayments\n  }] = useField('custompayment');\n  const [,, {\n    setValue: setCpEnabled\n  }] = useField('custompayment.enabled');\n  const [form, toggleForm] = useToggle(false);\n  const isDesktop = useDesktop();\n\n  const onUnlive = () => {\n    const status = customPayment.status === 'live' ? 'unlive' : 'live';\n    setValue({ ...customPayment,\n      status: customPayment.status === 'live' ? 'unlive' : 'live'\n    });\n\n    if (customPayments.configured.filter(x => x.status === 'live').length === 0 && status === 'unlive') {\n      setCpEnabled(false);\n    }\n\n    toggleSave();\n  };\n\n  if (isDesktop) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.main,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 7\n      }\n    }, form && /*#__PURE__*/React.createElement(SideDrawer, {\n      backButton: true,\n      onClick: () => {\n        toggleForm();\n        toggleSave();\n      },\n      onClose: toggleForm,\n      title: \"Details of Custom Payment\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      index: index,\n      onSave: () => {\n        toggleForm();\n        toggleSave();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.header,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.mode,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }\n    }, customPayment === null || customPayment === void 0 ? void 0 : customPayment.mode), /*#__PURE__*/React.createElement(Switch, {\n      active: (customPayment === null || customPayment === void 0 ? void 0 : customPayment.status) === 'live',\n      onChange: onUnlive,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.content,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.html,\n      dangerouslySetInnerHTML: {\n        __html: customPayment.details\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"img\", {\n      src: PencilIcon,\n      alt: \"\",\n      onClick: toggleForm,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }\n    })));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.main,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  }, form && /*#__PURE__*/React.createElement(Drawer, {\n    onClose: toggleForm,\n    closeButton: true,\n    title: \"Details of Custom Payment\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    index: index,\n    onSave: () => {\n      toggleForm();\n      toggleSave();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.header,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.mode,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, customPayment === null || customPayment === void 0 ? void 0 : customPayment.mode), /*#__PURE__*/React.createElement(Switch, {\n    active: (customPayment === null || customPayment === void 0 ? void 0 : customPayment.status) === 'live',\n    onChange: onUnlive,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.html,\n    dangerouslySetInnerHTML: {\n      __html: customPayment.details\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    src: PencilIcon,\n    alt: \"\",\n    onClick: toggleForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  })));\n}\n\n_s(Card, \"dmAor4AhO4nc1p+8WXl5mUIZpFw=\", false, function () {\n  return [useField, useField, useField, useToggle, useDesktop];\n});\n\n_c = Card;\nCard.propTypes = {\n  index: PropTypes.number.isRequired,\n  toggleSave: PropTypes.func\n};\nCard.defaultProps = {\n  toggleSave: () => {}\n};\nexport default Card;\n\nvar _c;\n\n$RefreshReg$(_c, \"Card\");","map":{"version":3,"sources":["/home/harish/windo/phoenix/src/containers/profile/paymentMode/Card.jsx"],"names":["React","useField","PropTypes","Switch","useToggle","Drawer","SideDrawer","useDesktop","Form","styles","Card","index","toggleSave","prefix","value","customPayment","setValue","customPayments","setCpEnabled","form","toggleForm","isDesktop","onUnlive","status","configured","filter","x","length","main","header","mode","content","html","__html","details","PencilIcon","propTypes","number","isRequired","func","defaultProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useField } from 'formik';\nimport PropTypes from 'prop-types';\nimport { Switch } from 'phoenix-components';\nimport { useToggle } from 'hooks/common';\nimport { Drawer } from 'components/shared/Drawer';\nimport PencilIcon from 'assets/images/address/edit.svg';\nimport { SideDrawer } from 'components/shared/SideDrawer';\nimport { useDesktop } from 'contexts';\nimport Form from './Form';\nimport styles from './Card.module.css';\n\nfunction Card({ index, toggleSave }) {\n  const prefix = `custompayment.configured[${index}]`;\n\n  const [{ value: customPayment }, , { setValue }] = useField(prefix);\n  const [{ value: customPayments }] = useField('custompayment');\n  const [, , { setValue: setCpEnabled }] = useField('custompayment.enabled');\n  const [form, toggleForm] = useToggle(false);\n  const isDesktop = useDesktop();\n\n  const onUnlive = () => {\n    const status = customPayment.status === 'live' ? 'unlive' : 'live';\n    setValue({\n      ...customPayment,\n      status: customPayment.status === 'live' ? 'unlive' : 'live',\n    });\n    if (customPayments.configured.filter(x => x.status === 'live').length === 0 && status === 'unlive') {\n      setCpEnabled(false);\n    }\n    toggleSave();\n  };\n\n  if (isDesktop) {\n    return (\n      <div className={styles.main}>\n        {form && (\n          <SideDrawer\n            backButton={true}\n            onClick={() => {\n              toggleForm();\n              toggleSave();\n            }}\n            onClose={toggleForm}\n            title=\"Details of Custom Payment\"\n          >\n            <Form\n              index={index}\n              onSave={() => {\n                toggleForm();\n                toggleSave();\n              }}\n            />\n          </SideDrawer>\n        )}\n        <div className={styles.header}>\n          <div className={styles.mode}>{customPayment?.mode}</div>\n          <Switch\n            active={customPayment?.status === 'live'}\n            onChange={onUnlive}\n          />\n        </div>\n        <div className={styles.content}>\n          <div className={styles.html} dangerouslySetInnerHTML={{ __html: customPayment.details }}></div>\n          <img src={PencilIcon} alt=\"\" onClick={toggleForm} />\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={styles.main}>\n      {form && (\n        <Drawer\n          onClose={toggleForm}\n          closeButton\n          title=\"Details of Custom Payment\"\n        >\n          <Form\n            index={index}\n            onSave={() => {\n              toggleForm();\n              toggleSave();\n            }}\n          />\n        </Drawer>\n      )}\n      <div className={styles.header}>\n        <div className={styles.mode}>{customPayment?.mode}</div>\n        <Switch\n          active={customPayment?.status === 'live'}\n          onChange={onUnlive}\n        />\n      </div>\n      <div className={styles.content}>\n        <div className={styles.html} dangerouslySetInnerHTML={{ __html: customPayment.details }}></div>\n        <img src={PencilIcon} alt=\"\" onClick={toggleForm} />\n      </div>\n    </div>\n  );\n}\n\nCard.propTypes = {\n  index: PropTypes.number.isRequired,\n  toggleSave: PropTypes.func,\n};\n\nCard.defaultProps = {\n  toggleSave: () => {}\n};\n\nexport default Card;\n"]},"metadata":{},"sourceType":"module"}