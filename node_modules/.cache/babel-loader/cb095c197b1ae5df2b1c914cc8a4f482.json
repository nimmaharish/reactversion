{"ast":null,"code":"var _jsxFileName = \"/home/harish/windo/phoenix/src/containers/socialMedia/Form.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Grid } from '@material-ui/core';\nimport ButtonComponent from \"../profile/ButtonComponent\";\nimport Snackbar from \"../../services/snackbar\";\nimport { Becca } from \"../../api\";\nimport { useShop } from \"../../contexts/userContext\";\nimport cx from 'classnames';\nimport DeleteIcon from \"../../assets/images/socialMedia/delete.png\";\nimport DesktopDeleteIcon from \"../../assets/desktop/deleteIcon.svg\";\nimport { ReactInput, Clickable } from 'phoenix-components';\nimport { useToggle } from \"../../hooks/common\";\nimport { useIsSocialMediaEnabled } from \"../../contexts/userContext\";\nimport { useHistory } from 'react-router-dom';\nimport { useQueryParams } from \"../../hooks\";\nimport editIcon from \"../../assets/v2/settings/domain/edit.svg\";\nimport { DeleteAlert } from \"../../components/shared/DeleteAlert\";\nimport { useDesktop } from \"../../contexts\";\nimport styles from \"./Accounts.module.css\";\n\nfunction Login({\n  isNew,\n  icon,\n  item,\n  refresh\n}) {\n  _s();\n\n  const defaultValue = isNew ? '' : item.url;\n  const [URL, setURL] = useState(defaultValue);\n  const [openCancel, toggleCancel] = useToggle();\n  const shop = useShop();\n  const label = (item === null || item === void 0 ? void 0 : item.name) || item;\n  const isSocialMediaEnabled = useIsSocialMediaEnabled();\n  const history = useHistory();\n  const [edit, toggleEdit] = useToggle(false);\n  const params = useQueryParams();\n  const isDesktop = useDesktop();\n  useEffect(() => {\n    setURL(defaultValue);\n  }, [defaultValue]);\n\n  const getLabel = () => label;\n\n  const updateShop = async (payload, successMsg, checkFeature = true) => {\n    if (!isSocialMediaEnabled && checkFeature) {\n      params.set('openPlans', 'generic');\n      history.push({\n        search: params.toString()\n      });\n      return;\n    }\n\n    try {\n      await Becca.updateShop(payload);\n      Snackbar.show(successMsg);\n\n      if (isNew) {\n        setURL('');\n      }\n\n      refresh();\n    } catch (exception) {\n      Snackbar.showError(exception);\n    }\n  };\n\n  const onDelete = async () => {\n    try {\n      const {\n        linkedAccounts = []\n      } = shop;\n      const otherItems = linkedAccounts.filter(x => x.name !== label);\n      updateShop({\n        linkedAccounts: otherItems\n      }, `${label} deleted successfully`, false);\n      toggleCancel();\n    } catch (exception) {\n      Snackbar.showError(exception);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"form\", {\n    Validate: true,\n    autoComplete: \"off\",\n    id: \"form\",\n    onSubmit: async e => {\n      e.preventDefault();\n      const payload = {\n        name: label.toLowerCase(),\n        url: URL\n      };\n\n      if (isNew) {\n        const {\n          linkedAccounts = []\n        } = shop; // eslint-disable-next-line no-unused-expressions\n\n        const tx = linkedAccounts.filter(x => x.name !== label);\n        tx.push(payload);\n        updateShop({\n          linkedAccounts: tx\n        }, `${label} linked successfully`);\n      } else {\n        const {\n          linkedAccounts = []\n        } = shop;\n        const otherItems = linkedAccounts.filter(x => x.name !== label);\n        otherItems.push(payload);\n        updateShop({\n          linkedAccounts: otherItems\n        }, `${label !== 'whatsapp' ? `${label} link` : `${label} number`} updated successfully`);\n      }\n    },\n    className: styles.form,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }\n  }, openCancel && /*#__PURE__*/React.createElement(DeleteAlert, {\n    className: styles.deleteText,\n    title: \"Eek! Are you sure you want to delete this linked account?\",\n    onCancel: toggleCancel,\n    onDelete: onDelete,\n    primary: \"Delete\",\n    icon: null,\n    secondary: \"Cancel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }), isDesktop ? /*#__PURE__*/React.createElement(\"div\", {\n    className: isNew ? styles.desktopContainer1 : styles.desktopContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.mainBox,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: icon,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.box,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: styles.label,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 15\n    }\n  }, ' ', `${getLabel()} `, ' '), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.section,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(ReactInput, {\n    value: URL,\n    label: label === 'whatsapp' ? `Add ${getLabel()} Number` : `Add ${getLabel()} URL`,\n    placeholder: label === 'whatsapp' ? 'Enter Mobile Number' : 'Enter URL',\n    setValue: e => setURL(e),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 17\n    }\n  }))), !isNew && /*#__PURE__*/React.createElement(\"img\", {\n    src: DesktopDeleteIcon,\n    alt: \"A\",\n    onClick: toggleCancel,\n    className: styles.deleteIcon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 15\n    }\n  }), !isNew && /*#__PURE__*/React.createElement(Clickable, {\n    onClick: e => {\n      toggleEdit();\n      e.preventDefault();\n      e.stopPropagation();\n    },\n    className: styles.editIcon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: editIcon,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 17\n    }\n  }))), edit && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.buttonsContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ButtonComponent, {\n    text: \"Save\",\n    size: \"small\",\n    color: \"primary\",\n    style: cx(styles.button),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 15\n    }\n  })), isNew && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.buttonsContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ButtonComponent, {\n    text: \"Add\",\n    color: \"primary\",\n    style: cx(styles.button),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 15\n    }\n  }))) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.topBar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: icon,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: styles.label,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 13\n    }\n  }, ' ', `${getLabel()} `, ' '), !isNew && /*#__PURE__*/React.createElement(\"img\", {\n    src: DeleteIcon,\n    alt: \"A\",\n    onClick: toggleCancel,\n    className: styles.deleteIcon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.section,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ReactInput, {\n    value: URL,\n    label: label === 'whatsapp' ? `Add ${getLabel()} Number` : `Add ${getLabel()} URL`,\n    placeholder: label === 'whatsapp' ? 'Enter Mobile Number' : 'Enter URL',\n    setValue: e => setURL(e),\n    required: true,\n    inputClass: styles.noOpacity,\n    readonly: !edit && !isNew,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 15\n    }\n  }), !isNew && /*#__PURE__*/React.createElement(Clickable, {\n    onClick: e => {\n      toggleEdit();\n      e.preventDefault();\n      e.stopPropagation();\n    },\n    className: styles.editIcon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: editIcon,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 19\n    }\n  })))), edit && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.buttonsContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ButtonComponent, {\n    text: \"Save\",\n    size: \"small\",\n    color: \"primary\",\n    style: cx(styles.button),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 15\n    }\n  })), isNew && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.buttonsContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ButtonComponent, {\n    text: \"Add\",\n    color: \"primary\",\n    style: cx(styles.button),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 15\n    }\n  }))));\n}\n\n_s(Login, \"Tjc+TChh0UBgs75KrJGdgUejyss=\", false, function () {\n  return [useToggle, useShop, useIsSocialMediaEnabled, useHistory, useToggle, useQueryParams, useDesktop];\n});\n\n_c = Login;\nLogin.propTypes = {\n  isNew: PropTypes.bool,\n  icon: PropTypes.string.isRequired,\n  item: PropTypes.any.isRequired,\n  refresh: PropTypes.func.isRequired\n};\nLogin.defaultProps = {\n  isNew: false\n};\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/home/harish/windo/phoenix/src/containers/socialMedia/Form.jsx"],"names":["React","useState","useEffect","PropTypes","Grid","ButtonComponent","Snackbar","Becca","useShop","cx","DeleteIcon","ReactInput","Clickable","useToggle","useIsSocialMediaEnabled","useHistory","useQueryParams","DeleteAlert","useDesktop","styles","Login","isNew","icon","item","refresh","defaultValue","url","URL","setURL","openCancel","toggleCancel","shop","label","name","isSocialMediaEnabled","history","edit","toggleEdit","params","isDesktop","getLabel","updateShop","payload","successMsg","checkFeature","set","push","search","toString","show","exception","showError","onDelete","linkedAccounts","otherItems","filter","x","e","preventDefault","toLowerCase","tx","form","deleteText","desktopContainer1","desktopContainer","mainBox","box","section","DesktopDeleteIcon","deleteIcon","stopPropagation","editIcon","buttonsContainer","button","topBar","noOpacity","propTypes","bool","string","isRequired","any","func","defaultProps"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Grid\n} from '@material-ui/core';\nimport ButtonComponent from 'containers/profile/ButtonComponent';\nimport Snackbar from 'services/snackbar';\nimport { Becca } from 'api/index';\nimport { useShop } from 'contexts/userContext';\nimport cx from 'classnames';\nimport DeleteIcon from 'assets/images/socialMedia/delete.png';\nimport DesktopDeleteIcon from 'assets/desktop/deleteIcon.svg';\nimport { ReactInput, Clickable } from 'phoenix-components';\nimport { useToggle } from 'hooks/common';\nimport {\n  useIsSocialMediaEnabled\n} from 'contexts/userContext';\nimport { useHistory } from 'react-router-dom';\nimport { useQueryParams } from 'hooks';\nimport editIcon from 'assets/v2/settings/domain/edit.svg';\nimport { DeleteAlert } from 'components/shared/DeleteAlert';\nimport { useDesktop } from 'contexts';\nimport styles from './Accounts.module.css';\n\nfunction Login({\n  isNew, icon, item, refresh\n}) {\n  const defaultValue = isNew ? '' : item.url;\n  const [URL, setURL] = useState(defaultValue);\n  const [openCancel, toggleCancel] = useToggle();\n  const shop = useShop();\n  const label = (item?.name || item);\n  const isSocialMediaEnabled = useIsSocialMediaEnabled();\n  const history = useHistory();\n  const [edit, toggleEdit] = useToggle(false);\n  const params = useQueryParams();\n  const isDesktop = useDesktop();\n\n  useEffect(() => {\n    setURL(defaultValue);\n  }, [defaultValue]);\n\n  const getLabel = () => label;\n\n  const updateShop = async (payload, successMsg, checkFeature = true) => {\n    if (!isSocialMediaEnabled && checkFeature) {\n      params.set('openPlans', 'generic');\n      history.push({\n        search: params.toString(),\n      });\n      return;\n    }\n    try {\n      await Becca.updateShop(payload);\n      Snackbar.show(successMsg);\n      if (isNew) {\n        setURL('');\n      }\n      refresh();\n    } catch (exception) {\n      Snackbar.showError(exception);\n    }\n  };\n\n  const onDelete = async () => {\n    try {\n      const { linkedAccounts = [] } = shop;\n      const otherItems = linkedAccounts.filter(x => x.name !== label);\n      updateShop({ linkedAccounts: otherItems }, `${label} deleted successfully`, false);\n      toggleCancel();\n    } catch (exception) {\n      Snackbar.showError(exception);\n    }\n  };\n\n  return (\n    <form\n      Validate\n      autoComplete=\"off\"\n      id=\"form\"\n      onSubmit={async (e) => {\n        e.preventDefault();\n        const payload = { name: label.toLowerCase(), url: URL };\n        if (isNew) {\n          const { linkedAccounts = [] } = shop;\n          // eslint-disable-next-line no-unused-expressions\n          const tx = linkedAccounts.filter(x => x.name !== label);\n          tx.push(payload);\n          updateShop({ linkedAccounts: tx }, `${label} linked successfully`);\n        } else {\n          const { linkedAccounts = [] } = shop;\n          const otherItems = linkedAccounts.filter(x => x.name !== label);\n          otherItems.push(payload);\n          updateShop({ linkedAccounts: otherItems },\n            `${label !== 'whatsapp' ? `${label} link` : `${label} number`} updated successfully`);\n        }\n      }}\n      className={styles.form}\n    >\n      {openCancel && (\n        <DeleteAlert\n          className={styles.deleteText}\n          title=\"Eek! Are you sure you want to delete this linked account?\"\n          onCancel={toggleCancel}\n          onDelete={onDelete}\n          primary=\"Delete\"\n          icon={null}\n          secondary=\"Cancel\"\n        />\n      )}\n      {isDesktop ? (\n        <div className={isNew ? styles.desktopContainer1 : styles.desktopContainer}>\n          <div className={styles.mainBox}>\n            <img src={icon} alt=\"\" />\n            <div className={styles.box}>\n              <label className={styles.label}>\n                {' '}\n                {`${getLabel()} `}\n                {' '}\n              </label>\n              <div className={styles.section}>\n                <ReactInput\n                  value={URL}\n                  label={label === 'whatsapp' ? `Add ${getLabel()} Number` : `Add ${getLabel()} URL`}\n                  placeholder={label === 'whatsapp' ? 'Enter Mobile Number' : 'Enter URL'}\n                  setValue={(e) => setURL(e)}\n                  required={true}\n                />\n              </div>\n            </div>\n            {!isNew && (\n              <img\n                src={DesktopDeleteIcon}\n                alt=\"A\"\n                onClick={toggleCancel}\n                className={styles.deleteIcon} />\n            )}\n            {!isNew && (\n              <Clickable\n                onClick={(e) => {\n                  toggleEdit();\n                  e.preventDefault();\n                  e.stopPropagation();\n                }}\n                className={styles.editIcon}\n              >\n                <img\n                  src={editIcon}\n                  alt=\"\" />\n              </Clickable>\n            )}\n          </div>\n          {edit && (\n            <div className={styles.buttonsContainer}>\n              <ButtonComponent\n                text=\"Save\"\n                size=\"small\"\n                color=\"primary\"\n                style={cx(styles.button)}\n              />\n            </div>\n          )}\n          {isNew && (\n            <div className={styles.buttonsContainer}>\n              <ButtonComponent\n                text=\"Add\"\n                color=\"primary\"\n                style={cx(styles.button)}\n              />\n            </div>\n          )}\n        </div>\n      ) : (\n        <>\n          <div className={styles.topBar}>\n            <img src={icon} alt=\"\" />\n            <label className={styles.label}>\n              {' '}\n              {`${getLabel()} `}\n              {' '}\n            </label>\n            {!isNew && (\n              <img\n                src={DeleteIcon}\n                alt=\"A\"\n                onClick={toggleCancel}\n                className={styles.deleteIcon} />\n            )}\n          </div>\n          <div className={styles.section}>\n            <Grid item xs={12}>\n              <ReactInput\n                value={URL}\n                label={label === 'whatsapp' ? `Add ${getLabel()} Number` : `Add ${getLabel()} URL`}\n                placeholder={label === 'whatsapp' ? 'Enter Mobile Number' : 'Enter URL'}\n                setValue={(e) => setURL(e)}\n                required={true}\n                inputClass={styles.noOpacity}\n                readonly={!edit && !isNew}\n              />\n              {!isNew && (\n                <Clickable\n                  onClick={(e) => {\n                    toggleEdit();\n                    e.preventDefault();\n                    e.stopPropagation();\n                  }}\n                  className={styles.editIcon}\n                >\n                  <img\n                    src={editIcon}\n                    alt=\"\" />\n                </Clickable>\n              )}\n            </Grid>\n          </div>\n          {edit && (\n            <div className={styles.buttonsContainer}>\n              <ButtonComponent\n                text=\"Save\"\n                size=\"small\"\n                color=\"primary\"\n                style={cx(styles.button)}\n              />\n            </div>\n          )}\n          {isNew && (\n            <div className={styles.buttonsContainer}>\n              <ButtonComponent\n                text=\"Add\"\n                color=\"primary\"\n                style={cx(styles.button)}\n              />\n            </div>\n          )}\n        </>\n      )}\n    </form>\n  );\n}\n\nLogin.propTypes = {\n  isNew: PropTypes.bool,\n  icon: PropTypes.string.isRequired,\n  item: PropTypes.any.isRequired,\n  refresh: PropTypes.func.isRequired,\n};\n\nLogin.defaultProps = {\n  isNew: false,\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}