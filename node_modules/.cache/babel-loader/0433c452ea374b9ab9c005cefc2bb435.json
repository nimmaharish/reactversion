{"ast":null,"code":"var _jsxFileName = \"/home/harish/windo/phoenix/src/components/orders/v2/OrderDetails.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Grid } from '@material-ui/core';\nimport { isOrderCustomerPickUp, useOrder, usePaymentMode, useToAddress, useToContactDetails } from \"../../../contexts/orderContext\";\nimport deleteIcon from \"../../../assets/overview/deleteIcon.svg\";\nimport moment from 'moment';\nimport { KeyValue } from \"./KeyValue\";\nimport { addressToString } from \"../utils\";\nimport { useDesktop } from \"../../../contexts\";\nimport { Clickable } from 'phoenix-components';\nimport { useRefresh } from \"../../../contexts/orderContext\";\nimport Loader from \"../../../services/loader\";\nimport { Factory } from \"../../../api\";\nimport { DeleteAlert } from \"../../shared/DeleteAlert\";\nimport { useToggle } from \"../../../hooks/common\";\nimport Snackbar from \"../../../services/snackbar\";\nimport styles from \"./OrderDetails.module.css\";\nimport cmStyles from \"./Common.module.css\";\nexport function OrderDetails() {\n  _s();\n\n  var _order$shipping;\n\n  const order = useOrder();\n  const address = useToAddress();\n  const isCustomerPickUp = isOrderCustomerPickUp();\n  const contactDetails = useToContactDetails();\n  const paymentMode = usePaymentMode();\n  const getDetails = isCustomerPickUp ? contactDetails : address;\n  const isDesktop = useDesktop();\n  const refreshOrder = useRefresh();\n  const [openDelete, toggleDelete] = useToggle(false);\n\n  const archive = async () => {\n    try {\n      Loader.show();\n      await Factory.updateStatus(order._id, 'order', 'archived');\n      refreshOrder();\n    } catch (e) {\n      Snackbar.showError(e);\n    } finally {\n      Loader.hide();\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    className: styles.head,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: cmStyles.heading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, \"Order Details\"), (order === null || order === void 0 ? void 0 : order.status) === 'archived' ? null : /*#__PURE__*/React.createElement(Clickable, {\n    className: styles.delIcon,\n    onClick: toggleDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: deleteIcon,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(KeyValue, {\n    title: \"Order Number\",\n    value: order.orderId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(KeyValue, {\n    title: \"Order Date\",\n    value: moment(order.createdAt).format('DD MMM, YYYY'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(KeyValue, {\n    title: \"Order Total\",\n    value: `${order.currency} ${order.payable}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: cmStyles.borderBottom,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(KeyValue, {\n    title: \"Shipping Mode\",\n    value: (order === null || order === void 0 ? void 0 : (_order$shipping = order.shipping) === null || _order$shipping === void 0 ? void 0 : _order$shipping.mode) || 'Delivery',\n    valueClass: \"capitalize\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(KeyValue, {\n    title: \"Payment Mode\",\n    value: paymentMode,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }))), !isDesktop && /*#__PURE__*/React.createElement(\"div\", {\n    className: cmStyles.borderBottom,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(KeyValue, {\n    title: \"Customer Name\",\n    value: getDetails === null || getDetails === void 0 ? void 0 : getDetails.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }), !isCustomerPickUp && /*#__PURE__*/React.createElement(KeyValue, {\n    title: \"Address\",\n    value: addressToString(address),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }))), !isDesktop && /*#__PURE__*/React.createElement(\"div\", {\n    className: cmStyles.borderBottom,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }), openDelete && /*#__PURE__*/React.createElement(DeleteAlert, {\n    title: \"Are you sure want to delete this order?\",\n    onCancel: toggleDelete,\n    onDelete: () => archive() && toggleDelete(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }));\n}\n\n_s(OrderDetails, \"kk+ugvmTDpoNhDkYjxFliqvj4Oo=\", false, function () {\n  return [useOrder, useToAddress, useToContactDetails, usePaymentMode, useDesktop, useRefresh, useToggle];\n});\n\n_c = OrderDetails;\nOrderDetails.propTypes = {};\nOrderDetails.defaultProps = {};\n\nvar _c;\n\n$RefreshReg$(_c, \"OrderDetails\");","map":{"version":3,"sources":["/home/harish/windo/phoenix/src/components/orders/v2/OrderDetails.jsx"],"names":["React","Grid","isOrderCustomerPickUp","useOrder","usePaymentMode","useToAddress","useToContactDetails","moment","KeyValue","addressToString","useDesktop","Clickable","useRefresh","Loader","Factory","DeleteAlert","useToggle","Snackbar","styles","cmStyles","OrderDetails","order","address","isCustomerPickUp","contactDetails","paymentMode","getDetails","isDesktop","refreshOrder","openDelete","toggleDelete","archive","show","updateStatus","_id","e","showError","hide","container","head","heading","status","delIcon","deleteIcon","orderId","createdAt","format","currency","payable","borderBottom","shipping","mode","name","propTypes","defaultProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Grid } from '@material-ui/core';\nimport {\n  isOrderCustomerPickUp,\n  useOrder,\n  usePaymentMode,\n  useToAddress,\n  useToContactDetails\n} from 'contexts/orderContext';\nimport deleteIcon from 'assets/overview/deleteIcon.svg';\nimport moment from 'moment';\nimport { KeyValue } from 'components/orders/v2/KeyValue';\nimport { addressToString } from 'components/orders/utils';\nimport { useDesktop } from 'contexts';\nimport { Clickable } from 'phoenix-components';\nimport { useRefresh } from 'contexts/orderContext';\nimport Loader from 'services/loader';\nimport { Factory } from 'api';\nimport { DeleteAlert } from 'components/shared/DeleteAlert';\nimport { useToggle } from 'hooks/common';\nimport Snackbar from 'services/snackbar';\nimport styles from './OrderDetails.module.css';\nimport cmStyles from './Common.module.css';\n\nexport function OrderDetails() {\n  const order = useOrder();\n  const address = useToAddress();\n  const isCustomerPickUp = isOrderCustomerPickUp();\n  const contactDetails = useToContactDetails();\n  const paymentMode = usePaymentMode();\n  const getDetails = isCustomerPickUp ? contactDetails : address;\n  const isDesktop = useDesktop();\n  const refreshOrder = useRefresh();\n  const [openDelete, toggleDelete] = useToggle(false);\n  const archive = async () => {\n    try {\n      Loader.show();\n      await Factory.updateStatus(order._id, 'order', 'archived');\n      refreshOrder();\n    } catch (e) {\n      Snackbar.showError(e);\n    } finally {\n      Loader.hide();\n    }\n  };\n\n  return (\n    <div className={styles.container}>\n      <div>\n        <Grid container spacing={0}>\n          <Grid item xs={12} className={styles.head}>\n            <div className={cmStyles.heading}>\n              Order Details\n            </div>\n            {order?.status === 'archived' ? (\n              null\n            ) : (\n              <Clickable\n                className={styles.delIcon}\n                onClick={toggleDelete}\n              >\n                <img src={deleteIcon} alt=\"\" />\n              </Clickable>\n            )}\n          </Grid>\n          <KeyValue title=\"Order Number\" value={order.orderId} />\n          <KeyValue\n            title=\"Order Date\"\n            value={moment(order.createdAt)\n              .format('DD MMM, YYYY')} />\n          <KeyValue\n            title=\"Order Total\"\n            value={`${order.currency} ${order.payable}`}\n          />\n          <div className={cmStyles.borderBottom} />\n          <KeyValue\n            title=\"Shipping Mode\"\n            value={order?.shipping?.mode || 'Delivery'}\n            valueClass=\"capitalize\"\n          />\n          <KeyValue\n            title=\"Payment Mode\"\n            value={paymentMode}\n          />\n        </Grid>\n      </div>\n      {!isDesktop && (\n        <div className={cmStyles.borderBottom} />\n      )}\n      <div>\n        <Grid container spacing={0}>\n          <KeyValue\n            title=\"Customer Name\"\n            value={getDetails?.name}\n          />\n          {!isCustomerPickUp && (\n            <KeyValue title=\"Address\" value={addressToString(address)} />\n          )}\n        </Grid>\n      </div>\n      {!isDesktop && (\n        <div className={cmStyles.borderBottom} />\n      )}\n      {openDelete && (\n        <DeleteAlert\n          title=\"Are you sure want to delete this order?\"\n          onCancel={toggleDelete}\n          onDelete={() => archive() && toggleDelete()}\n        />\n      )}\n    </div>\n  );\n}\n\nOrderDetails.propTypes = {};\n\nOrderDetails.defaultProps = {};\n"]},"metadata":{},"sourceType":"module"}