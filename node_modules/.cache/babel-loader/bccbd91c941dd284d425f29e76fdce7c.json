{"ast":null,"code":"var _jsxFileName = \"/home/harish/windo/phoenix/src/components/snapShot/Areas.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport cx from 'classnames';\nimport _ from 'lodash';\nimport Loader from \"../../services/loader\";\nimport { useChargeConfig } from \"../../hooks/areasServed\";\nimport { Becca } from \"../../api\";\nimport editIcon from \"../../assets/overview/edit.svg\";\nimport pandaIcon from \"../../assets/images/areasServed/panda.svg\";\nimport Accordion from \"./Accordion\";\nimport styles from \"./Areas.module.css\";\n\nfunction Areas() {\n  _s();\n\n  var _zones$data;\n\n  const history = useHistory();\n  const [zones, setZones] = useState({});\n  const [chargeConfig,,, loading] = useChargeConfig();\n  const config = chargeConfig === null || chargeConfig === void 0 ? void 0 : chargeConfig.config;\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(Loader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 12\n      }\n    });\n  }\n\n  const getAllZones = async () => {\n    try {\n      Loader.show();\n      const data = await Becca.getAllZones();\n      setZones(data);\n    } finally {\n      Loader.hide();\n    }\n  };\n\n  useEffect(() => {\n    getAllZones();\n  }, []);\n  const zonesWithChargeArray = config === null || config === void 0 ? void 0 : config.reduce((acc, obj) => [...acc, obj.value], []);\n  const marshalConfig = zones === null || zones === void 0 ? void 0 : (_zones$data = zones.data) === null || _zones$data === void 0 ? void 0 : _zones$data.map(obj => {\n    var _obj$region;\n\n    // eslint-disable-next-line no-prototype-builtins\n    if (((_obj$region = obj.region) === null || _obj$region === void 0 ? void 0 : _obj$region.length) > 0) {\n      const newObj = { ...obj\n      };\n      newObj.region = obj.region.filter(region => zonesWithChargeArray === null || zonesWithChargeArray === void 0 ? void 0 : zonesWithChargeArray.includes(region._id));\n      return newObj;\n    }\n\n    if (zonesWithChargeArray !== null && zonesWithChargeArray !== void 0 && zonesWithChargeArray.includes(obj._id)) {\n      return obj;\n    }\n\n    return null;\n  }).filter(a => a);\n\n  const getCharges = (idx, key) => {\n    var _config$find, _config$find$config;\n\n    return config === null || config === void 0 ? void 0 : (_config$find = config.find(obj => obj.value === idx)) === null || _config$find === void 0 ? void 0 : (_config$find$config = _config$find.config) === null || _config$find$config === void 0 ? void 0 : _config$find$config[key];\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Accordion, {\n    label: \"Areas Served\",\n    labelHelper: \"View Areas Served\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.padded,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.top,\n    onClick: () => {\n      history.push('/manage/areasServed');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.head1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, \"Enabled Areas\"), /*#__PURE__*/React.createElement(\"img\", {\n    src: editIcon,\n    alt: \"snapshot\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  })), marshalConfig === null || marshalConfig === void 0 ? void 0 : marshalConfig.map(zone => {\n    var _zone$region, _zone$region2;\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.card,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: cx(styles.flexbetween, styles.green),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 15\n      }\n    }, _.capitalize(zone === null || zone === void 0 ? void 0 : zone.name)), (zone === null || zone === void 0 ? void 0 : (_zone$region = zone.region) === null || _zone$region === void 0 ? void 0 : _zone$region.length) > 0 ? zone === null || zone === void 0 ? void 0 : (_zone$region2 = zone.region) === null || _zone$region2 === void 0 ? void 0 : _zone$region2.map(s => /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.cards,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: cx(styles.flexbetween, styles.paddingTop, styles.f12),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 19\n      }\n    }, s.name), /*#__PURE__*/React.createElement(\"div\", {\n      className: cx(styles.flexbetween, styles.border, styles.f12),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.grid,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 21\n      }\n    }, \"Min order value\", /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.spacer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.f14,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 23\n      }\n    }, getCharges(s._id, 'min'))), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.grid,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 21\n      }\n    }, \"Max order value\", /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.spacer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.f14,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 23\n      }\n    }, getCharges(s._id, 'max')))), /*#__PURE__*/React.createElement(\"div\", {\n      className: cx(styles.flexbetween, styles.f14, styles.paddingTop),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 19\n      }\n    }, \"Delivery Charge\", /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 21\n      }\n    }, getCharges(s._id, 'value'))))) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: cx(styles.flexEnd, styles.paddingTop, styles.f12),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: cx(styles.flexbetween, styles.border, styles.f12),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.grid,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 21\n      }\n    }, \"Min order value\", /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.spacer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.f14,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 23\n      }\n    }, getCharges(zone._id, 'min'))), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.grid,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 21\n      }\n    }, \"Max order value\", /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.spacer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.f14,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 23\n      }\n    }, getCharges(zone._id, 'max')))), /*#__PURE__*/React.createElement(\"div\", {\n      className: cx(styles.flexbetween, styles.f14, styles.paddingTop),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 19\n      }\n    }, \"Delivery Charge\", /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 21\n      }\n    }, getCharges(zone._id, 'value')))));\n  }), (zones === null || zones === void 0 ? void 0 : zones.length) === 0 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.noData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: pandaIcon,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 15\n    }\n  }, \"No active zones in the areas you serve\")), (marshalConfig === null || marshalConfig === void 0 ? void 0 : marshalConfig.length) === 0 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.noData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: pandaIcon,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 17\n    }\n  })), ' ', /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 15\n    }\n  }, \"No active charges for the active zones in the areas you serve\")))));\n}\n\n_s(Areas, \"WDsTJl29AmWwFCK4IATOet+/JXc=\", false, function () {\n  return [useHistory, useChargeConfig];\n});\n\n_c = Areas;\nexport default Areas;\n\nvar _c;\n\n$RefreshReg$(_c, \"Areas\");","map":{"version":3,"sources":["/home/harish/windo/phoenix/src/components/snapShot/Areas.jsx"],"names":["React","useState","useEffect","useHistory","cx","_","Loader","useChargeConfig","Becca","Accordion","styles","Areas","history","zones","setZones","chargeConfig","loading","config","getAllZones","show","data","hide","zonesWithChargeArray","reduce","acc","obj","value","marshalConfig","map","region","length","newObj","filter","includes","_id","a","getCharges","idx","key","find","padded","top","push","head1","editIcon","zone","card","flexbetween","green","capitalize","name","s","cards","paddingTop","f12","border","grid","spacer","f14","flexEnd","noData","pandaIcon","text"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport cx from 'classnames';\nimport _ from 'lodash';\nimport Loader from 'services/loader';\nimport { useChargeConfig } from 'hooks/areasServed';\nimport { Becca } from 'api';\nimport editIcon from 'assets/overview/edit.svg';\nimport pandaIcon from 'assets/images/areasServed/panda.svg';\nimport Accordion from './Accordion';\nimport styles from './Areas.module.css';\n\nfunction Areas() {\n  const history = useHistory();\n  const [zones, setZones] = useState({});\n  const [chargeConfig, ,, loading] = useChargeConfig();\n  const config = chargeConfig?.config;\n\n  if (loading) {\n    return <Loader />;\n  }\n\n  const getAllZones = async () => {\n    try {\n      Loader.show();\n      const data = await Becca.getAllZones();\n      setZones(data);\n    } finally {\n      Loader.hide();\n    }\n  };\n  useEffect(() => {\n    getAllZones();\n  }, []);\n  const zonesWithChargeArray = config?.reduce((acc, obj) => [...acc, obj.value], []);\n\n  const marshalConfig = zones?.data?.map(obj => {\n    // eslint-disable-next-line no-prototype-builtins\n    if (obj.region?.length > 0) {\n      const newObj = { ...obj };\n      newObj.region = obj.region.filter(region => zonesWithChargeArray?.includes(region._id));\n      return newObj;\n    }\n    if (zonesWithChargeArray?.includes(obj._id)) {\n      return obj;\n    }\n    return null;\n  }).filter(a => a);\n\n  const getCharges = (idx, key) => config?.find(obj => obj.value === idx)?.config?.[key];\n\n  return (\n    <>\n      <Accordion\n        label=\"Areas Served\"\n        labelHelper=\"View Areas Served\"\n      >\n        <div className={styles.padded}>\n          <div\n            className={styles.top}\n            onClick={() => {\n              history.push('/manage/areasServed');\n            }}\n          >\n            <div className={styles.head1}>\n              Enabled Areas\n            </div>\n            <img src={editIcon} alt=\"snapshot\" />\n          </div>\n          {marshalConfig?.map(zone => (\n            <div className={styles.card}>\n              <div className={cx(styles.flexbetween, styles.green)}>\n                {_.capitalize(zone?.name)}\n                {/* <Switch active={zone?.enabled} onChange={onUnlive(id)} /> */}\n              </div>\n              {zone?.region?.length > 0 ? (\n              zone?.region?.map(s => (\n                <div className={styles.cards}>\n                  <div className={cx(styles.flexbetween, styles.paddingTop, styles.f12)}>\n                    {s.name}\n                  </div>\n                  <div className={cx(styles.flexbetween, styles.border, styles.f12)}>\n                    <div className={styles.grid}>\n                      Min order value\n                      <div className={styles.spacer} />\n                      <div className={styles.f14}>{getCharges(s._id, 'min')}</div>\n                    </div>\n                    <div className={styles.grid}>\n                      Max order value\n                      <div className={styles.spacer} />\n                      <div className={styles.f14}>{getCharges(s._id, 'max')}</div>\n                    </div>\n                  </div>\n                  <div className={cx(styles.flexbetween, styles.f14, styles.paddingTop)}>\n                    Delivery Charge\n                    <div>{getCharges(s._id, 'value')}</div>\n                  </div>\n                </div>\n              ))\n              ) : (\n                <>\n                  <div className={cx(styles.flexEnd, styles.paddingTop, styles.f12)}>\n                  </div>\n                  <div className={cx(styles.flexbetween, styles.border, styles.f12)}>\n                    <div className={styles.grid}>\n                      Min order value\n                      <div className={styles.spacer} />\n                      <div className={styles.f14}>{getCharges(zone._id, 'min')}</div>\n                    </div>\n                    <div className={styles.grid}>\n                      Max order value\n                      <div className={styles.spacer} />\n                      <div className={styles.f14}>{getCharges(zone._id, 'max')}</div>\n                    </div>\n                  </div>\n                  <div className={cx(styles.flexbetween, styles.f14, styles.paddingTop)}>\n                    Delivery Charge\n                    <div>{getCharges(zone._id, 'value')}</div>\n                  </div>\n                </>\n              )}\n            </div>\n          ))}\n          {zones?.length === 0 && (\n            <>\n              <div className={styles.noData}>\n                <img src={pandaIcon} alt=\"\" />\n              </div>\n              <div className={styles.text}>\n                No active zones in the areas you serve\n              </div>\n            </>\n          )}\n          {marshalConfig?.length === 0 && (\n            <>\n              <div className={styles.noData}>\n                <img src={pandaIcon} alt=\"\" />\n              </div>\n              {' '}\n              <div className={styles.text}>\n                No active charges for the active zones in the areas you serve\n              </div>\n            </>\n          )}\n        </div>\n      </Accordion>\n    </>\n  );\n}\n\nexport default Areas;\n"]},"metadata":{},"sourceType":"module"}