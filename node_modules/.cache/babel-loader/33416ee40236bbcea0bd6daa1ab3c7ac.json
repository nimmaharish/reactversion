{"ast":null,"code":"import { INVOKE, HISTORY } from '../constants';\nexport function patchHistory(callback) {\n  if (!window.history) {\n    return;\n  }\n\n  var nativePushState = history.pushState;\n\n  if (typeof nativePushState === 'function') {\n    history.pushState = function (state, title, url) {\n      var task = {\n        source: HISTORY,\n        data: {\n          state: state,\n          title: title,\n          url: url\n        }\n      };\n      callback(INVOKE, task);\n      nativePushState.apply(this, arguments);\n    };\n  }\n}","map":{"version":3,"sources":["/home/harish/windo/phoenix/node_modules/@elastic/apm-rum-core/dist/es/common/patching/history-patch.js"],"names":["INVOKE","HISTORY","patchHistory","callback","window","history","nativePushState","pushState","state","title","url","task","source","data","apply","arguments"],"mappings":"AAAA,SAASA,MAAT,EAAiBC,OAAjB,QAAgC,cAAhC;AACA,OAAO,SAASC,YAAT,CAAsBC,QAAtB,EAAgC;AACrC,MAAI,CAACC,MAAM,CAACC,OAAZ,EAAqB;AACnB;AACD;;AAED,MAAIC,eAAe,GAAGD,OAAO,CAACE,SAA9B;;AAEA,MAAI,OAAOD,eAAP,KAA2B,UAA/B,EAA2C;AACzCD,IAAAA,OAAO,CAACE,SAAR,GAAoB,UAAUC,KAAV,EAAiBC,KAAjB,EAAwBC,GAAxB,EAA6B;AAC/C,UAAIC,IAAI,GAAG;AACTC,QAAAA,MAAM,EAAEX,OADC;AAETY,QAAAA,IAAI,EAAE;AACJL,UAAAA,KAAK,EAAEA,KADH;AAEJC,UAAAA,KAAK,EAAEA,KAFH;AAGJC,UAAAA,GAAG,EAAEA;AAHD;AAFG,OAAX;AAQAP,MAAAA,QAAQ,CAACH,MAAD,EAASW,IAAT,CAAR;AACAL,MAAAA,eAAe,CAACQ,KAAhB,CAAsB,IAAtB,EAA4BC,SAA5B;AACD,KAXD;AAYD;AACF","sourcesContent":["import { INVOKE, HISTORY } from '../constants';\nexport function patchHistory(callback) {\n  if (!window.history) {\n    return;\n  }\n\n  var nativePushState = history.pushState;\n\n  if (typeof nativePushState === 'function') {\n    history.pushState = function (state, title, url) {\n      var task = {\n        source: HISTORY,\n        data: {\n          state: state,\n          title: title,\n          url: url\n        }\n      };\n      callback(INVOKE, task);\n      nativePushState.apply(this, arguments);\n    };\n  }\n}"]},"metadata":{},"sourceType":"module"}