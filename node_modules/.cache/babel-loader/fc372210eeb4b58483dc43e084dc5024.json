{"ast":null,"code":"var _jsxFileName = \"/home/harish/windo/phoenix/src/components/chat/ChatSettings.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Formik } from 'formik';\nimport { SideDrawer } from \"../shared/SideDrawer\";\nimport { Drawer } from \"../shared/Drawer\";\nimport { Loading } from \"../shared/Loading\";\nimport StatusSwitch from \"../common/StatusSwitch\";\nimport SnackBar from \"../../services/snackbar\";\nimport Loader from \"../../services/loader\";\nimport { useChatSettings } from \"../../hooks/common\";\nimport { useDesktop } from \"../../contexts\";\nimport { Becca } from \"../../api\";\nimport { getInitialValues } from \"./utils\";\nimport styles from \"./ChatSettings.module.css\";\n\nfunction ChatSettings() {\n  _s();\n\n  const [chat, loading, refresh] = useChatSettings();\n  const history = useHistory();\n  const isDesktop = useDesktop();\n  const Component = isDesktop ? SideDrawer : Drawer;\n\n  const submitForm = async values => {\n    try {\n      Loader.show();\n      await Becca.updateUiConfig('chat', values);\n      refresh();\n      SnackBar.show('chat settings updated successfully', 'success');\n    } catch (e) {\n      SnackBar.showError(e);\n    } finally {\n      Loader.hide();\n    }\n  };\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(Loading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 12\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(Component, {\n    title: \"Live Chat Settings\",\n    backButton: true,\n    onClose: () => history.goBack(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Formik, {\n    initialValues: getInitialValues(chat),\n    onSubmit: submitForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(StatusSwitch, {\n    name: \"enabled\",\n    title: \"Enable Live Chat for Logged-In User\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(StatusSwitch, {\n    name: \"guestEnabled\",\n    title: \"Enable Live Chat for Guest User\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }))));\n}\n\n_s(ChatSettings, \"PkSoiXfGXgzPCDIXe9PH5AhtDLo=\", false, function () {\n  return [useChatSettings, useHistory, useDesktop];\n});\n\n_c = ChatSettings;\nexport default ChatSettings;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChatSettings\");","map":{"version":3,"sources":["/home/harish/windo/phoenix/src/components/chat/ChatSettings.jsx"],"names":["React","useHistory","Formik","SideDrawer","Drawer","Loading","StatusSwitch","SnackBar","Loader","useChatSettings","useDesktop","Becca","getInitialValues","styles","ChatSettings","chat","loading","refresh","history","isDesktop","Component","submitForm","values","show","updateUiConfig","e","showError","hide","goBack","container"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,MAAT,QAAuB,QAAvB;AACA,SAASC,UAAT;AACA,SAASC,MAAT;AACA,SAASC,OAAT;AACA,OAAOC,YAAP;AACA,OAAOC,QAAP;AACA,OAAOC,MAAP;AACA,SAASC,eAAT;AACA,SAASC,UAAT;AACA,SAASC,KAAT;AACA,SAASC,gBAAT;AACA,OAAOC,MAAP;;AAEA,SAASC,YAAT,GAAwB;AAAA;;AACtB,QAAM,CAACC,IAAD,EAAOC,OAAP,EAAgBC,OAAhB,IAA2BR,eAAe,EAAhD;AACA,QAAMS,OAAO,GAAGjB,UAAU,EAA1B;AACA,QAAMkB,SAAS,GAAGT,UAAU,EAA5B;AAEA,QAAMU,SAAS,GAAGD,SAAS,GAAGhB,UAAH,GAAgBC,MAA3C;;AAEA,QAAMiB,UAAU,GAAG,MAAOC,MAAP,IAAkB;AACnC,QAAI;AACFd,MAAAA,MAAM,CAACe,IAAP;AACA,YAAMZ,KAAK,CAACa,cAAN,CAAqB,MAArB,EAA6BF,MAA7B,CAAN;AACAL,MAAAA,OAAO;AACPV,MAAAA,QAAQ,CAACgB,IAAT,CAAc,oCAAd,EAAoD,SAApD;AACD,KALD,CAKE,OAAOE,CAAP,EAAU;AACVlB,MAAAA,QAAQ,CAACmB,SAAT,CAAmBD,CAAnB;AACD,KAPD,SAOU;AACRjB,MAAAA,MAAM,CAACmB,IAAP;AACD;AACF,GAXD;;AAaA,MAAIX,OAAJ,EAAa;AACX,wBAAO,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD;;AAED,sBACE,oBAAC,SAAD;AACE,IAAA,KAAK,EAAC,oBADR;AAEE,IAAA,UAAU,MAFZ;AAGE,IAAA,OAAO,EAAE,MAAME,OAAO,CAACU,MAAR,EAHjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKE,oBAAC,MAAD;AACE,IAAA,aAAa,EAAEhB,gBAAgB,CAACG,IAAD,CADjC;AAEE,IAAA,QAAQ,EAAEM,UAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAIE;AAAK,IAAA,SAAS,EAAER,MAAM,CAACgB,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,YAAD;AACE,IAAA,IAAI,EAAC,SADP;AAEE,IAAA,KAAK,EAAC,qCAFR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAKE,oBAAC,YAAD;AACE,IAAA,IAAI,EAAC,cADP;AAEE,IAAA,KAAK,EAAC,iCAFR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,CAJF,CALF,CADF;AAuBD;;GA/CQf,Y;UAC0BL,e,EACjBR,U,EACES,U;;;KAHXI,Y;AAiDT,eAAeA,YAAf","sourcesContent":["import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Formik } from 'formik';\nimport { SideDrawer } from 'components/shared/SideDrawer';\nimport { Drawer } from 'components/shared/Drawer';\nimport { Loading } from 'components/shared/Loading';\nimport StatusSwitch from 'components/common/StatusSwitch';\nimport SnackBar from 'services/snackbar';\nimport Loader from 'services/loader';\nimport { useChatSettings } from 'hooks/common';\nimport { useDesktop } from 'contexts';\nimport { Becca } from 'api';\nimport { getInitialValues } from './utils';\nimport styles from './ChatSettings.module.css';\n\nfunction ChatSettings() {\n  const [chat, loading, refresh] = useChatSettings();\n  const history = useHistory();\n  const isDesktop = useDesktop();\n\n  const Component = isDesktop ? SideDrawer : Drawer;\n\n  const submitForm = async (values) => {\n    try {\n      Loader.show();\n      await Becca.updateUiConfig('chat', values);\n      refresh();\n      SnackBar.show('chat settings updated successfully', 'success');\n    } catch (e) {\n      SnackBar.showError(e);\n    } finally {\n      Loader.hide();\n    }\n  };\n\n  if (loading) {\n    return <Loading />;\n  }\n\n  return (\n    <Component\n      title=\"Live Chat Settings\"\n      backButton\n      onClose={() => history.goBack()}\n    >\n      <Formik\n        initialValues={getInitialValues(chat)}\n        onSubmit={submitForm}\n      >\n        <div className={styles.container}>\n          <StatusSwitch\n            name=\"enabled\"\n            title=\"Enable Live Chat for Logged-In User\"\n          />\n          <StatusSwitch\n            name=\"guestEnabled\"\n            title=\"Enable Live Chat for Guest User\"\n          />\n        </div>\n      </Formik>\n    </Component>\n  );\n}\n\nexport default ChatSettings;\n"]},"metadata":{},"sourceType":"module"}