{"ast":null,"code":"var _jsxFileName = \"/home/harish/windo/phoenix/src/containers/products/Catalog/Card.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport _ from 'lodash';\nimport { Becca } from \"../../../api\";\nimport { useHistory } from 'react-router-dom';\nimport { useToggle } from \"../../../hooks/common\";\nimport Loader from \"../../../services/loader\";\nimport { SnackBar } from \"../../../services\";\nimport { DeleteAlert } from \"../../../components/shared/DeleteAlert\";\nimport Delete from \"../../../assets/images/products/catalog/delete.svg\";\nimport styles from \"./Card.module.css\";\nexport function ProductCard({\n  product,\n  refresh\n}) {\n  _s();\n\n  const history = useHistory();\n\n  const image = _.get(product, 'images[0].url', '');\n\n  const [openDelete, toggleDelete] = useToggle(false);\n\n  const onClick = e => {\n    if (e.target.id === 'target') {\n      toggleDelete();\n      return;\n    }\n\n    history.push(`/products/product/${product._id}`);\n  };\n\n  const deletePosts = async () => {\n    try {\n      Loader.show();\n      await Becca.updateProduct(product._id, {\n        catalogs: ['all']\n      });\n      SnackBar.show('Product removed successfully from catalog.');\n      refresh();\n    } catch (e) {\n      SnackBar.show('something went wrong, try again', 'error');\n    } finally {\n      Loader.hide();\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, openDelete && /*#__PURE__*/React.createElement(DeleteAlert, {\n    title: \"Remove product from catalog?\",\n    onCancel: toggleDelete,\n    onDelete: deletePosts,\n    primary: \"Remove\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    onClick: onClick,\n    className: styles.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: image,\n    className: styles.img,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flexBetween\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }, product.title), /*#__PURE__*/React.createElement(\"img\", {\n    src: Delete,\n    id: \"target\",\n    className: styles.del,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }))));\n}\n\n_s(ProductCard, \"vHRQSSmmG3YNdGC+gkgPZZHwOYE=\", false, function () {\n  return [useHistory, useToggle];\n});\n\n_c = ProductCard;\nProductCard.propTypes = {\n  product: PropTypes.object.isRequired,\n  refresh: PropTypes.func.isRequired\n};\nProductCard.defaultProps = {};\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductCard\");","map":{"version":3,"sources":["/home/harish/windo/phoenix/src/containers/products/Catalog/Card.jsx"],"names":["React","PropTypes","_","Becca","useHistory","useToggle","Loader","SnackBar","DeleteAlert","styles","ProductCard","product","refresh","history","image","get","openDelete","toggleDelete","onClick","e","target","id","push","_id","deletePosts","show","updateProduct","catalogs","hide","root","img","name","title","Delete","del","propTypes","object","isRequired","func","defaultProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport _ from 'lodash';\nimport { Becca } from 'api/index';\nimport { useHistory } from 'react-router-dom';\nimport { useToggle } from 'hooks/common';\nimport Loader from 'services/loader';\nimport { SnackBar } from 'services';\nimport { DeleteAlert } from 'components/shared/DeleteAlert';\nimport Delete from 'assets/images/products/catalog/delete.svg';\nimport styles from './Card.module.css';\n\nexport function ProductCard({ product, refresh }) {\n  const history = useHistory();\n  const image = _.get(product, 'images[0].url', '');\n  const [openDelete, toggleDelete] = useToggle(false);\n\n  const onClick = (e) => {\n    if (e.target.id === 'target') {\n      toggleDelete();\n      return;\n    }\n    history.push(`/products/product/${product._id}`);\n  };\n\n  const deletePosts = async () => {\n    try {\n      Loader.show();\n      await Becca.updateProduct(product._id, { catalogs: ['all'] });\n      SnackBar.show('Product removed successfully from catalog.');\n      refresh();\n    } catch (e) {\n      SnackBar.show('something went wrong, try again', 'error');\n    } finally {\n      Loader.hide();\n    }\n  };\n\n  return (\n    <>\n      {openDelete\n      && (\n        <DeleteAlert\n          title=\"Remove product from catalog?\"\n          onCancel={toggleDelete}\n          onDelete={deletePosts}\n          primary=\"Remove\"\n        />\n      )}\n      <div onClick={onClick} className={styles.root}>\n        <img src={image} className={styles.img} alt=\"\" />\n        <div className=\"flexBetween\">\n          <div className={styles.name}>{product.title}</div>\n          <img\n            src={Delete}\n            id=\"target\"\n            className={styles.del}\n            alt=\"\" />\n        </div>\n      </div>\n    </>\n  );\n}\n\nProductCard.propTypes = {\n  product: PropTypes.object.isRequired,\n  refresh: PropTypes.func.isRequired,\n};\n\nProductCard.defaultProps = {};\n"]},"metadata":{},"sourceType":"module"}