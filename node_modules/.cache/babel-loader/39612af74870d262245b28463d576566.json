{"ast":null,"code":"var _jsxFileName = \"/home/harish/windo/phoenix/src/containers/profile/ProfileDesktop.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport chevronLeftDesk from \"../../assets/v2/common/chevronPrimaryLeft.svg\";\nimport { useHistory } from 'react-router-dom';\nimport cx from 'classnames';\nimport { Becca } from \"../../api\";\nimport Snackbar from \"../../services/snackbar\";\nimport Loader from \"../../services/loader\";\nimport blacky from \"../../assets/images/shop.svg\";\nimport { useUser, usePlan } from \"../../contexts/userContext\";\nimport chevUp from \"../../assets/v2/orders/chevUpPrimary.svg\";\nimport chevDown from \"../../assets/v2/settings/paymentModes/chevDown.svg\";\nimport upgradeIcon from \"../../assets/images/subscriptions/rocket.svg\";\nimport { useToggle } from \"../../hooks/common\";\nimport { useRefreshShop, useShop } from \"../../contexts\";\nimport { startCase } from 'lodash';\nimport { share } from \"../../utils\";\nimport { shareShop } from \"../../utils/share\";\nimport Share from \"../../assets/overview/share.svg\";\nimport { Button as Btn, Switch, Search } from 'phoenix-components';\nimport { Shop } from \"../lazy\";\nimport SnackBar from \"../../services/snackbar\";\nimport upload from \"../../assets/images/profile/upload.svg\";\nimport { SnapMini } from \"../../components/snapShot/SnapMini\";\nimport styles from \"./ProfileDesktop.module.css\";\n\nfunction ProfileDesktop() {\n  _s();\n\n  const history = useHistory();\n  const shop = useShop();\n  const refreshShop = useRefreshShop();\n  const user = useUser();\n  const plan = usePlan();\n  const {\n    description: subscriptionPlan,\n    name: planName\n  } = plan;\n  const icon = shop !== null && shop !== void 0 && shop.icon && shop.icon[0] ? shop.icon[0] : blacky;\n  const [openProfile, toggleOpenProfile] = useToggle(false);\n\n  const shareToUser = e => {\n    e.stopPropagation();\n    e.preventDefault();\n    share(`Hello\n\n    We are now selling online. Please visit my WINDO Shop at\n    ${shareShop(shop === null || shop === void 0 ? void 0 : shop.slug, true)} to buy my products.\n\n    Thank you\n    ${shop.name}`);\n  };\n\n  const updateStatus = async value => {\n    try {\n      Loader.show();\n      await Becca.updateShopStatus({\n        status: value\n      });\n      refreshShop();\n      Loader.hide();\n    } catch (e) {\n      Snackbar.show('something went wrong', 'error');\n      Loader.hide();\n    }\n  };\n\n  const updateImage = async url => {\n    try {\n      Loader.show();\n      await Becca.updateShop({\n        status: shop === null || shop === void 0 ? void 0 : shop.status,\n        icon: url,\n        name: shop === null || shop === void 0 ? void 0 : shop.name\n      });\n      refreshShop();\n      Loader.hide();\n    } catch (e) {\n      Snackbar.show('something went wrong', 'error');\n      Loader.hide();\n    }\n  };\n\n  const handleSwitchChange = async (event, val) => {\n    let status = 'unlive';\n\n    if (val) {\n      status = 'live';\n    }\n\n    updateStatus(status);\n  };\n\n  const uploadAsset = async e => {\n    try {\n      var _e$target;\n\n      Loader.show();\n      const files = e === null || e === void 0 ? void 0 : (_e$target = e.target) === null || _e$target === void 0 ? void 0 : _e$target.files;\n      const file = files && files[0];\n      const payload = new FormData();\n      payload.append('name', file.name);\n      payload.append('purpose', 'shop');\n      payload.append('type', 'image');\n      payload.append('file', file);\n      const {\n        url\n      } = await Becca.uploadAsset(payload);\n      updateImage(url);\n      SnackBar.show('upload success');\n      Loader.hide();\n    } catch (e) {\n      SnackBar.show('upload failed', 'error');\n      Loader.hide();\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    onClick: () => history.goBack(),\n    className: styles.maintitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: styles.backIconForDesktop,\n    src: chevronLeftDesk,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }, \"\\xA0\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }, \"\\xA0\"), \"Profile\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.body,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.profile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.planContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.planText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }, \"Current Plan :\"), \"\\xA0\", planName !== 'premium' ? /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.planNameText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 15\n    }\n  }, subscriptionPlan, ' ', \"\\xA0\") : null, /*#__PURE__*/React.createElement(Btn, {\n    className: styles.planBtn,\n    primary: false,\n    size: \"small\",\n    label: planName !== 'premium' ? 'Upgrade' : subscriptionPlan,\n    endIcon: planName !== 'premium' ? upgradeIcon : null,\n    onClick: planName !== 'premium' ? () => history.push('/subscriptions') : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.box,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: cx('flexCenter'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: cx('textCenter flexCenter relative'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    accept: \"image/*\",\n    hidden: true,\n    id: \"icon-button-file\",\n    type: \"file\",\n    onChange: e => {\n      uploadAsset(e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"icon-button-file\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: icon,\n    className: cx(styles.avatar),\n    alt: \"shop icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"\",\n    className: styles.upload,\n    src: upload,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: cx('fullWidth marginSTopBottom', styles.title),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    translate: \"no\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 17\n    }\n  }, shop === null || shop === void 0 ? void 0 : shop.name, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.marginL,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: cx(styles.statusDot, styles[(shop === null || shop === void 0 ? void 0 : shop.status) === 'created' ? 'live' : shop === null || shop === void 0 ? void 0 : shop.status]),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: cx(styles.dot1, styles[(shop === null || shop === void 0 ? void 0 : shop.status) === 'created' ? 'live' : shop === null || shop === void 0 ? void 0 : shop.status]),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 23\n    }\n  }), (shop === null || shop === void 0 ? void 0 : shop.status) === 'created' ? 'Live' : startCase(shop === null || shop === void 0 ? void 0 : shop.status)), /*#__PURE__*/React.createElement(\"img\", {\n    className: styles.chevIcon,\n    src: openProfile ? chevUp : chevDown,\n    alt: \"\",\n    onClick: () => toggleOpenProfile(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 21\n    }\n  }))), (user === null || user === void 0 ? void 0 : user.sellerId) && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.sellerIDContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 21\n    }\n  }, \"Seller ID :\", ' ', user.sellerId.toUpperCase())))), openProfile && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.line,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: (shop === null || shop === void 0 ? void 0 : shop.status) === 'created' || (shop === null || shop === void 0 ? void 0 : shop.status) === 'live' ? styles.status : styles.unliveStatus,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: cx(styles.primary, styles[(shop === null || shop === void 0 ? void 0 : shop.status) === 'created' ? 'live' : shop === null || shop === void 0 ? void 0 : shop.status]),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: (shop === null || shop === void 0 ? void 0 : shop.status) === 'live' ? styles.liveText : styles.unLiveText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 23\n    }\n  }, \"Shop status\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.toggleSwitch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Switch, {\n    active: (shop === null || shop === void 0 ? void 0 : shop.status) === 'live' || (shop === null || shop === void 0 ? void 0 : shop.status) === 'created',\n    onChange: handleSwitchChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.secondary,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 21\n    }\n  }, \"Make your shop live & unlive here.\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.line,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: cx('flexEnd'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Btn, {\n    className: cx(styles.liveText, styles.shareShopBtn),\n    primary: false,\n    startIcon: Share,\n    label: \"Share Shop\",\n    onClick: shareToUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 21\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.snapContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SnapMini, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.searchContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.searchInputContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Search, {\n    value: \"\",\n    placeholder: \"Search\",\n    onClick: () => history.push('/settings/profile/search'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Btn, {\n    className: styles.searchBtn,\n    primary: true,\n    label: \"Search\",\n    onClick: () => history.push('/settings/profile/search'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Shop, {\n    isStart: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 9\n    }\n  })));\n}\n\n_s(ProfileDesktop, \"ywxqP23og/ndORFy3auwPi8vTrQ=\", false, function () {\n  return [useHistory, useShop, useRefreshShop, useUser, usePlan, useToggle];\n});\n\n_c = ProfileDesktop;\nexport default ProfileDesktop;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfileDesktop\");","map":{"version":3,"sources":["/home/harish/windo/phoenix/src/containers/profile/ProfileDesktop.jsx"],"names":["React","useHistory","cx","Becca","Snackbar","Loader","useUser","usePlan","useToggle","useRefreshShop","useShop","startCase","share","shareShop","Button","Btn","Switch","Search","Shop","SnackBar","SnapMini","styles","ProfileDesktop","history","shop","refreshShop","user","plan","description","subscriptionPlan","name","planName","icon","blacky","openProfile","toggleOpenProfile","shareToUser","e","stopPropagation","preventDefault","slug","updateStatus","value","show","updateShopStatus","status","hide","updateImage","url","updateShop","handleSwitchChange","event","val","uploadAsset","files","target","file","payload","FormData","append","container","goBack","maintitle","backIconForDesktop","chevronLeftDesk","body","profile","planContainer","planText","planNameText","planBtn","upgradeIcon","push","box","avatar","upload","title","marginL","statusDot","dot1","chevIcon","chevUp","chevDown","sellerId","sellerIDContainer","toUpperCase","line","unliveStatus","primary","liveText","unLiveText","toggleSwitch","secondary","shareShopBtn","Share","snapContainer","searchContainer","searchInputContainer","searchBtn"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,EAAP,MAAe,YAAf;AACA,SAASC,KAAT;AACA,OAAOC,QAAP;AACA,OAAOC,MAAP;;AAEA,SACEC,OADF,EACWC,OADX;;;;AAMA,SAASC,SAAT;AACA,SAASC,cAAT,EAAyBC,OAAzB;AACA,SAASC,SAAT,QAA0B,QAA1B;AACA,SAASC,KAAT;AACA,SAASC,SAAT;;AAEA,SAASC,MAAM,IAAIC,GAAnB,EAAwBC,MAAxB,EAAgCC,MAAhC,QAA8C,oBAA9C;AACA,SAASC,IAAT;AACA,OAAOC,QAAP;;AAEA,SAASC,QAAT;AACA,OAAOC,MAAP;;AAEA,SAASC,cAAT,GAA0B;AAAA;;AACxB,QAAMC,OAAO,GAAGtB,UAAU,EAA1B;AACA,QAAMuB,IAAI,GAAGd,OAAO,EAApB;AACA,QAAMe,WAAW,GAAGhB,cAAc,EAAlC;AACA,QAAMiB,IAAI,GAAGpB,OAAO,EAApB;AACA,QAAMqB,IAAI,GAAGpB,OAAO,EAApB;AACA,QAAM;AAAEqB,IAAAA,WAAW,EAAEC,gBAAf;AAAiCC,IAAAA,IAAI,EAAEC;AAAvC,MAAoDJ,IAA1D;AACA,QAAMK,IAAI,GAAGR,IAAI,SAAJ,IAAAA,IAAI,WAAJ,IAAAA,IAAI,CAAEQ,IAAN,IAAcR,IAAI,CAACQ,IAAL,CAAU,CAAV,CAAd,GAA6BR,IAAI,CAACQ,IAAL,CAAU,CAAV,CAA7B,GAA4CC,MAAzD;AACA,QAAM,CAACC,WAAD,EAAcC,iBAAd,IAAmC3B,SAAS,CAAC,KAAD,CAAlD;;AAEA,QAAM4B,WAAW,GAAGC,CAAC,IAAI;AACvBA,IAAAA,CAAC,CAACC,eAAF;AACAD,IAAAA,CAAC,CAACE,cAAF;AACA3B,IAAAA,KAAK,CAAE;AACX;AACA;AACA,MAAMC,SAAS,CAACW,IAAD,aAACA,IAAD,uBAACA,IAAI,CAAEgB,IAAP,EAAa,IAAb,CAAmB;AAClC;AACA;AACA,MAAMhB,IAAI,CAACM,IAAK,EANP,CAAL;AAOD,GAVD;;AAYA,QAAMW,YAAY,GAAG,MAAOC,KAAP,IAAiB;AACpC,QAAI;AACFrC,MAAAA,MAAM,CAACsC,IAAP;AACA,YAAMxC,KAAK,CAACyC,gBAAN,CAAuB;AAAEC,QAAAA,MAAM,EAAEH;AAAV,OAAvB,CAAN;AACAjB,MAAAA,WAAW;AACXpB,MAAAA,MAAM,CAACyC,IAAP;AACD,KALD,CAKE,OAAOT,CAAP,EAAU;AACVjC,MAAAA,QAAQ,CAACuC,IAAT,CAAc,sBAAd,EAAsC,OAAtC;AACAtC,MAAAA,MAAM,CAACyC,IAAP;AACD;AACF,GAVD;;AAYA,QAAMC,WAAW,GAAG,MAAOC,GAAP,IAAe;AACjC,QAAI;AACF3C,MAAAA,MAAM,CAACsC,IAAP;AACA,YAAMxC,KAAK,CAAC8C,UAAN,CAAiB;AAAEJ,QAAAA,MAAM,EAAErB,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEqB,MAAhB;AAAwBb,QAAAA,IAAI,EAAEgB,GAA9B;AAAmClB,QAAAA,IAAI,EAAEN,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEM;AAA/C,OAAjB,CAAN;AACAL,MAAAA,WAAW;AACXpB,MAAAA,MAAM,CAACyC,IAAP;AACD,KALD,CAKE,OAAOT,CAAP,EAAU;AACVjC,MAAAA,QAAQ,CAACuC,IAAT,CAAc,sBAAd,EAAsC,OAAtC;AACAtC,MAAAA,MAAM,CAACyC,IAAP;AACD;AACF,GAVD;;AAYA,QAAMI,kBAAkB,GAAG,OAAOC,KAAP,EAAcC,GAAd,KAAsB;AAC/C,QAAIP,MAAM,GAAG,QAAb;;AACA,QAAIO,GAAJ,EAAS;AACPP,MAAAA,MAAM,GAAG,MAAT;AACD;;AACDJ,IAAAA,YAAY,CAACI,MAAD,CAAZ;AACD,GAND;;AAQA,QAAMQ,WAAW,GAAG,MAAOhB,CAAP,IAAa;AAC/B,QAAI;AAAA;;AACFhC,MAAAA,MAAM,CAACsC,IAAP;AACA,YAAMW,KAAK,GAAGjB,CAAH,aAAGA,CAAH,oCAAGA,CAAC,CAAEkB,MAAN,8CAAG,UAAWD,KAAzB;AACA,YAAME,IAAI,GAAGF,KAAK,IAAIA,KAAK,CAAC,CAAD,CAA3B;AACA,YAAMG,OAAO,GAAG,IAAIC,QAAJ,EAAhB;AACAD,MAAAA,OAAO,CAACE,MAAR,CAAe,MAAf,EAAuBH,IAAI,CAAC1B,IAA5B;AACA2B,MAAAA,OAAO,CAACE,MAAR,CAAe,SAAf,EAA0B,MAA1B;AACAF,MAAAA,OAAO,CAACE,MAAR,CAAe,MAAf,EAAuB,OAAvB;AACAF,MAAAA,OAAO,CAACE,MAAR,CAAe,MAAf,EAAuBH,IAAvB;AACA,YAAM;AAAER,QAAAA;AAAF,UAAU,MAAM7C,KAAK,CAACkD,WAAN,CAAkBI,OAAlB,CAAtB;AACAV,MAAAA,WAAW,CAACC,GAAD,CAAX;AACA7B,MAAAA,QAAQ,CAACwB,IAAT,CAAc,gBAAd;AACAtC,MAAAA,MAAM,CAACyC,IAAP;AACD,KAbD,CAaE,OAAOT,CAAP,EAAU;AACVlB,MAAAA,QAAQ,CAACwB,IAAT,CAAc,eAAd,EAA+B,OAA/B;AACAtC,MAAAA,MAAM,CAACyC,IAAP;AACD;AACF,GAlBD;;AAoBA,sBACE;AAAK,IAAA,SAAS,EAAEzB,MAAM,CAACuC,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,OAAO,EAAE,MAAMrC,OAAO,CAACsC,MAAR,EAApB;AAAsC,IAAA,SAAS,EAAExC,MAAM,CAACyC,SAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAEzC,MAAM,CAAC0C,kBAAvB;AAA2C,IAAA,GAAG,EAAEC,eAAhD;AAAiE,IAAA,GAAG,EAAC,EAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAHF,YADF,eAOE;AAAK,IAAA,SAAS,EAAE3C,MAAM,CAAC4C,IAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAE5C,MAAM,CAAC6C,OAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAE7C,MAAM,CAAC8C,aAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,SAAS,EAAE9C,MAAM,CAAC+C,QAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,UAGGrC,QAAQ,KAAK,SAAb,gBACC;AAAM,IAAA,SAAS,EAAEV,MAAM,CAACgD,YAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGxC,gBADH,EAEG,GAFH,SADD,GAMG,IATN,eAUE,oBAAC,GAAD;AACE,IAAA,SAAS,EAAER,MAAM,CAACiD,OADpB;AAEE,IAAA,OAAO,EAAE,KAFX;AAGE,IAAA,IAAI,EAAC,OAHP;AAIE,IAAA,KAAK,EAAEvC,QAAQ,KAAK,SAAb,GAAyB,SAAzB,GAAqCF,gBAJ9C;AAKE,IAAA,OAAO,EAAEE,QAAQ,KAAK,SAAb,GAAyBwC,WAAzB,GAAuC,IALlD;AAME,IAAA,OAAO,EAAExC,QAAQ,KAAK,SAAb,GAAyB,MAAMR,OAAO,CAACiD,IAAR,CAAa,gBAAb,CAA/B,GAAgE,IAN3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,CADF,eAoBE;AAAK,IAAA,SAAS,EAAEnD,MAAM,CAACoD,GAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAEvE,EAAE,CAAC,YAAD,CAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAEA,EAAE,CAAC,gCAAD,CAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,MAAM,EAAC,SADT;AAEE,IAAA,MAAM,MAFR;AAGE,IAAA,EAAE,EAAC,kBAHL;AAIE,IAAA,IAAI,EAAC,MAJP;AAKE,IAAA,QAAQ,EAAGmC,CAAD,IAAO;AACfgB,MAAAA,WAAW,CAAChB,CAAD,CAAX;AACD,KAPH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eASE;AAAO,IAAA,OAAO,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,GAAG,EAAEL,IAAV;AAAgB,IAAA,SAAS,EAAE9B,EAAE,CAACmB,MAAM,CAACqD,MAAR,CAA7B;AAA8C,IAAA,GAAG,EAAC,WAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AACE,IAAA,GAAG,EAAC,EADN;AAEE,IAAA,SAAS,EAAErD,MAAM,CAACsD,MAFpB;AAGE,IAAA,GAAG,EAAEA,MAHP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CATF,CADF,eAmBE;AAAK,IAAA,SAAS,EAAEzE,EAAE,CAAC,4BAAD,EAA+BmB,MAAM,CAACuD,KAAtC,CAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGpD,IADH,aACGA,IADH,uBACGA,IAAI,CAAEM,IADT,eAEE;AAAK,IAAA,SAAS,EAAET,MAAM,CAACwD,OAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,SAAS,EAAE3E,EAAE,CAACmB,MAAM,CAACyD,SAAR,EAAmBzD,MAAM,CAAC,CAAAG,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEqB,MAAN,MAAiB,SAAjB,GAA6B,MAA7B,GAAsCrB,IAAtC,aAAsCA,IAAtC,uBAAsCA,IAAI,CAAEqB,MAA7C,CAAzB,CADf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAGE;AACE,IAAA,SAAS,EAAE3C,EAAE,CAACmB,MAAM,CAAC0D,IAAR,EAAc1D,MAAM,CAAC,CAAAG,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEqB,MAAN,MAAiB,SAAjB,GAA6B,MAA7B,GAAsCrB,IAAtC,aAAsCA,IAAtC,uBAAsCA,IAAI,CAAEqB,MAA7C,CAApB,CADf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,EAOG,CAAArB,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEqB,MAAN,MAAiB,SAAjB,GAA6B,MAA7B,GAAsClC,SAAS,CAACa,IAAD,aAACA,IAAD,uBAACA,IAAI,CAAEqB,MAAP,CAPlD,CADF,eAUE;AACE,IAAA,SAAS,EAAExB,MAAM,CAAC2D,QADpB;AAEE,IAAA,GAAG,EAAE9C,WAAW,GAAG+C,MAAH,GAAYC,QAF9B;AAGE,IAAA,GAAG,EAAC,EAHN;AAIE,IAAA,OAAO,EAAE,MAAM/C,iBAAiB,EAJlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,CAFF,CADF,EAoBG,CAAAT,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEyD,QAAN,kBACC;AAAK,IAAA,SAAS,EAAE9D,MAAM,CAAC+D,iBAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEG,GAFH,EAGG1D,IAAI,CAACyD,QAAL,CAAcE,WAAd,EAHH,CADF,CArBJ,CAnBF,CADF,EAmDGnD,WAAW,iBAER,uDACE;AAAK,IAAA,SAAS,EAAEb,MAAM,CAACiE,IAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AACE,IAAA,SAAS,EAAE,CAAA9D,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEqB,MAAN,MAAiB,SAAjB,IAA8B,CAAArB,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEqB,MAAN,MAAiB,MAA/C,GACPxB,MAAM,CAACwB,MADA,GACSxB,MAAM,CAACkE,YAF7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAIE;AAAK,IAAA,SAAS,EAAErF,EAAE,CAACmB,MAAM,CAACmE,OAAR,EAAiBnE,MAAM,CAAC,CAAAG,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEqB,MAAN,MAAiB,SAAjB,GAA6B,MAA7B,GAAsCrB,IAAtC,aAAsCA,IAAtC,uBAAsCA,IAAI,CAAEqB,MAA7C,CAAvB,CAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,SAAS,EAAE,CAAArB,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEqB,MAAN,MAAiB,MAAjB,GAA0BxB,MAAM,CAACoE,QAAjC,GAA4CpE,MAAM,CAACqE,UAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,eAIE;AAAK,IAAA,SAAS,EAAErE,MAAM,CAACsE,YAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AACE,IAAA,MAAM,EAAE,CAAAnE,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEqB,MAAN,MAAiB,MAAjB,IAA2B,CAAArB,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEqB,MAAN,MAAiB,SADtD;AAEE,IAAA,QAAQ,EAAEK,kBAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAJF,CAJF,eAeE;AAAK,IAAA,SAAS,EAAE7B,MAAM,CAACuE,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAfF,eAgBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAhBF,CAFF,eAqBE;AAAK,IAAA,SAAS,EAAEvE,MAAM,CAACiE,IAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IArBF,eAsBE;AAAK,IAAA,SAAS,EAAEpF,EAAE,CAAC,SAAD,CAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,GAAD;AACE,IAAA,SAAS,EAAEA,EAAE,CAACmB,MAAM,CAACoE,QAAR,EAAkBpE,MAAM,CAACwE,YAAzB,CADf;AAEE,IAAA,OAAO,EAAE,KAFX;AAGE,IAAA,SAAS,EAAEC,KAHb;AAIE,IAAA,KAAK,EAAC,YAJR;AAKE,IAAA,OAAO,EAAE1D,WALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAtBF,CArDN,CApBF,CADF,eA6GE;AAAK,IAAA,SAAS,EAAEf,MAAM,CAAC0E,aAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CA7GF,eAgHE;AAAK,IAAA,SAAS,EAAE1E,MAAM,CAAC2E,eAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAE3E,MAAM,CAAC4E,oBAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AACE,IAAA,KAAK,EAAC,EADR;AAEE,IAAA,WAAW,EAAC,QAFd;AAGE,IAAA,OAAO,EAAE,MAAM1E,OAAO,CAACiD,IAAR,CAAa,0BAAb,CAHjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eAQE,oBAAC,GAAD;AACE,IAAA,SAAS,EAAEnD,MAAM,CAAC6E,SADpB;AAEE,IAAA,OAAO,EAAE,IAFX;AAGE,IAAA,KAAK,EAAC,QAHR;AAIE,IAAA,OAAO,EAAE,MAAM3E,OAAO,CAACiD,IAAR,CAAa,0BAAb,CAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,CAhHF,eA+HE,oBAAC,IAAD;AAAM,IAAA,OAAO,EAAE,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA/HF,CAPF,CADF;AA2ID;;GArNQlD,c;UACSrB,U,EACHS,O,EACOD,c,EACPH,O,EACAC,O,EAG4BC,S;;;KARlCc,c;AAuNT,eAAeA,cAAf","sourcesContent":["import React from 'react';\nimport chevronLeftDesk from 'assets/v2/common/chevronPrimaryLeft.svg';\nimport { useHistory } from 'react-router-dom';\nimport cx from 'classnames';\nimport { Becca } from 'api/index';\nimport Snackbar from 'services/snackbar';\nimport Loader from 'services/loader';\nimport blacky from 'assets/images/shop.svg';\nimport {\n  useUser, usePlan\n} from 'contexts/userContext';\nimport chevUp from 'assets/v2/orders/chevUpPrimary.svg';\nimport chevDown from 'assets/v2/settings/paymentModes/chevDown.svg';\nimport upgradeIcon from 'assets/images/subscriptions/rocket.svg';\nimport { useToggle } from 'hooks/common';\nimport { useRefreshShop, useShop } from 'contexts';\nimport { startCase } from 'lodash';\nimport { share } from 'utils';\nimport { shareShop } from 'utils/share';\nimport Share from 'assets/overview/share.svg';\nimport { Button as Btn, Switch, Search } from 'phoenix-components';\nimport { Shop } from 'containers/lazy';\nimport SnackBar from 'services/snackbar';\nimport upload from 'assets/images/profile/upload.svg';\nimport { SnapMini } from '../../components/snapShot/SnapMini';\nimport styles from './ProfileDesktop.module.css';\n\nfunction ProfileDesktop() {\n  const history = useHistory();\n  const shop = useShop();\n  const refreshShop = useRefreshShop();\n  const user = useUser();\n  const plan = usePlan();\n  const { description: subscriptionPlan, name: planName } = plan;\n  const icon = shop?.icon && shop.icon[0] ? shop.icon[0] : blacky;\n  const [openProfile, toggleOpenProfile] = useToggle(false);\n\n  const shareToUser = e => {\n    e.stopPropagation();\n    e.preventDefault();\n    share(`Hello\n\n    We are now selling online. Please visit my WINDO Shop at\n    ${shareShop(shop?.slug, true)} to buy my products.\n\n    Thank you\n    ${shop.name}`);\n  };\n\n  const updateStatus = async (value) => {\n    try {\n      Loader.show();\n      await Becca.updateShopStatus({ status: value });\n      refreshShop();\n      Loader.hide();\n    } catch (e) {\n      Snackbar.show('something went wrong', 'error');\n      Loader.hide();\n    }\n  };\n\n  const updateImage = async (url) => {\n    try {\n      Loader.show();\n      await Becca.updateShop({ status: shop?.status, icon: url, name: shop?.name });\n      refreshShop();\n      Loader.hide();\n    } catch (e) {\n      Snackbar.show('something went wrong', 'error');\n      Loader.hide();\n    }\n  };\n\n  const handleSwitchChange = async (event, val) => {\n    let status = 'unlive';\n    if (val) {\n      status = 'live';\n    }\n    updateStatus(status);\n  };\n\n  const uploadAsset = async (e) => {\n    try {\n      Loader.show();\n      const files = e?.target?.files;\n      const file = files && files[0];\n      const payload = new FormData();\n      payload.append('name', file.name);\n      payload.append('purpose', 'shop');\n      payload.append('type', 'image');\n      payload.append('file', file);\n      const { url } = await Becca.uploadAsset(payload);\n      updateImage(url);\n      SnackBar.show('upload success');\n      Loader.hide();\n    } catch (e) {\n      SnackBar.show('upload failed', 'error');\n      Loader.hide();\n    }\n  };\n\n  return (\n    <div className={styles.container}>\n      <div onClick={() => history.goBack()} className={styles.maintitle}>\n        <img className={styles.backIconForDesktop} src={chevronLeftDesk} alt=\"\" />\n        <div>&nbsp;</div>\n        <div>&nbsp;</div>\n        Profile\n      </div>\n      <div className={styles.body}>\n        <div className={styles.profile}>\n          <div className={styles.planContainer}>\n            <span className={styles.planText}>Current Plan :</span>\n            &nbsp;\n            {planName !== 'premium' ? (\n              <span className={styles.planNameText}>\n                {subscriptionPlan}\n                {' '}\n                &nbsp;\n              </span>\n            ) : null}\n            <Btn\n              className={styles.planBtn}\n              primary={false}\n              size=\"small\"\n              label={planName !== 'premium' ? 'Upgrade' : subscriptionPlan}\n              endIcon={planName !== 'premium' ? upgradeIcon : null}\n              onClick={planName !== 'premium' ? () => history.push('/subscriptions') : null}\n            />\n          </div>\n          <div className={styles.box}>\n            <div className={cx('flexCenter')}>\n              <div className={cx('textCenter flexCenter relative')}>\n                <input\n                  accept=\"image/*\"\n                  hidden\n                  id=\"icon-button-file\"\n                  type=\"file\"\n                  onChange={(e) => {\n                    uploadAsset(e);\n                  }} />\n                <label htmlFor=\"icon-button-file\">\n                  <img src={icon} className={cx(styles.avatar)} alt=\"shop icon\" />\n                  <img\n                    alt=\"\"\n                    className={styles.upload}\n                    src={upload}\n                  />\n                </label>\n              </div>\n              <div className={cx('fullWidth marginSTopBottom', styles.title)}>\n                <div translate=\"no\">\n                  {shop?.name}\n                  <div className={styles.marginL}>\n                    <span\n                      className={cx(styles.statusDot, styles[shop?.status === 'created' ? 'live' : shop?.status])}\n                    >\n                      <span\n                        className={cx(styles.dot1, styles[shop?.status === 'created' ? 'live' : shop?.status])}\n                      >\n                      </span>\n                      {shop?.status === 'created' ? 'Live' : startCase(shop?.status)}\n                    </span>\n                    <img\n                      className={styles.chevIcon}\n                      src={openProfile ? chevUp : chevDown}\n                      alt=\"\"\n                      onClick={() => toggleOpenProfile()} />\n                  </div>\n                </div>\n                {user?.sellerId && (\n                  <div className={styles.sellerIDContainer}>\n                    <div>\n                      Seller ID :\n                      {' '}\n                      {user.sellerId.toUpperCase()}\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n            {openProfile\n              && (\n                <>\n                  <div className={styles.line} />\n                  <div\n                    className={shop?.status === 'created' || shop?.status === 'live'\n                      ? styles.status : styles.unliveStatus}\n                  >\n                    <div className={cx(styles.primary, styles[shop?.status === 'created' ? 'live' : shop?.status])}>\n                      <span className={shop?.status === 'live' ? styles.liveText : styles.unLiveText}>\n                        Shop status\n                      </span>\n                      <div className={styles.toggleSwitch}>\n                        <Switch\n                          active={shop?.status === 'live' || shop?.status === 'created'}\n                          onChange={handleSwitchChange}\n                        />\n                      </div>\n                    </div>\n                    <div className={styles.secondary}>Make your shop live & unlive here.</div>\n                    <div>\n                    </div>\n                  </div>\n                  <div className={styles.line} />\n                  <div className={cx('flexEnd')}>\n                    <Btn\n                      className={cx(styles.liveText, styles.shareShopBtn)}\n                      primary={false}\n                      startIcon={Share}\n                      label=\"Share Shop\"\n                      onClick={shareToUser}\n                    />\n                  </div>\n                </>\n              )}\n          </div>\n        </div>\n        <div className={styles.snapContainer}>\n          <SnapMini />\n        </div>\n        <div className={styles.searchContainer}>\n          <div className={styles.searchInputContainer}>\n            <Search\n              value=\"\"\n              placeholder=\"Search\"\n              onClick={() => history.push('/settings/profile/search')}\n            />\n          </div>\n          <Btn\n            className={styles.searchBtn}\n            primary={true}\n            label=\"Search\"\n            onClick={() => history.push('/settings/profile/search')}\n          />\n        </div>\n        <Shop isStart={false} />\n      </div>\n    </div>\n  );\n}\n\nexport default ProfileDesktop;\n"]},"metadata":{},"sourceType":"module"}