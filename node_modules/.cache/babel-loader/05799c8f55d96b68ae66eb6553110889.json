{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect } from 'react';\nimport EventManager from \"../utils/events\";\nimport WebView from \"../services/webview\";\nexport function useStartEventsCapture(user, shop) {\n  _s();\n\n  useEffect(() => {\n    if (user !== null && user !== void 0 && user.sellerId) {\n      const id = (+user.sellerId.split('-').pop()).toString();\n      const obj = {\n        id,\n        name: user === null || user === void 0 ? void 0 : user.name,\n        email: user === null || user === void 0 ? void 0 : user.email\n      };\n\n      if (user !== null && user !== void 0 && user.phone) {\n        obj.phone = user === null || user === void 0 ? void 0 : user.phone;\n      }\n\n      if (shop !== null && shop !== void 0 && shop._id) {\n        var _shop$plan;\n\n        obj.shopId = shop === null || shop === void 0 ? void 0 : shop._id;\n        obj.country = shop === null || shop === void 0 ? void 0 : shop.country;\n        obj.plan = shop === null || shop === void 0 ? void 0 : (_shop$plan = shop.plan) === null || _shop$plan === void 0 ? void 0 : _shop$plan.description;\n      }\n\n      EventManager.patchGlobalData(obj);\n\n      if (WebView.isWebView()) {\n        WebView.setEventData(obj);\n      } else {\n        EventManager.initializeWebEvents(obj);\n      }\n    }\n  }, [user === null || user === void 0 ? void 0 : user.sellerId, shop === null || shop === void 0 ? void 0 : shop._id]);\n}\n\n_s(useStartEventsCapture, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");","map":{"version":3,"sources":["/home/harish/windo/phoenix/src/hooks/events.js"],"names":["useEffect","EventManager","WebView","useStartEventsCapture","user","shop","sellerId","id","split","pop","toString","obj","name","email","phone","_id","shopId","country","plan","description","patchGlobalData","isWebView","setEventData","initializeWebEvents"],"mappings":";;AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,OAAOC,YAAP;AACA,OAAOC,OAAP;AAEA,OAAO,SAASC,qBAAT,CAA+BC,IAA/B,EAAqCC,IAArC,EAA2C;AAAA;;AAChDL,EAAAA,SAAS,CAAC,MAAM;AACd,QAAII,IAAJ,aAAIA,IAAJ,eAAIA,IAAI,CAAEE,QAAV,EAAoB;AAClB,YAAMC,EAAE,GAAG,CAAC,CAACH,IAAI,CAACE,QAAL,CAAcE,KAAd,CAAoB,GAApB,EACVC,GADU,EAAF,EACDC,QADC,EAAX;AAGA,YAAMC,GAAG,GAAG;AACVJ,QAAAA,EADU;AAEVK,QAAAA,IAAI,EAAER,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEQ,IAFF;AAGVC,QAAAA,KAAK,EAAET,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAES;AAHH,OAAZ;;AAMA,UAAIT,IAAJ,aAAIA,IAAJ,eAAIA,IAAI,CAAEU,KAAV,EAAiB;AACfH,QAAAA,GAAG,CAACG,KAAJ,GAAYV,IAAZ,aAAYA,IAAZ,uBAAYA,IAAI,CAAEU,KAAlB;AACD;;AAED,UAAIT,IAAJ,aAAIA,IAAJ,eAAIA,IAAI,CAAEU,GAAV,EAAe;AAAA;;AACbJ,QAAAA,GAAG,CAACK,MAAJ,GAAaX,IAAb,aAAaA,IAAb,uBAAaA,IAAI,CAAEU,GAAnB;AACAJ,QAAAA,GAAG,CAACM,OAAJ,GAAcZ,IAAd,aAAcA,IAAd,uBAAcA,IAAI,CAAEY,OAApB;AACAN,QAAAA,GAAG,CAACO,IAAJ,GAAWb,IAAX,aAAWA,IAAX,qCAAWA,IAAI,CAAEa,IAAjB,+CAAW,WAAYC,WAAvB;AACD;;AAEDlB,MAAAA,YAAY,CAACmB,eAAb,CAA6BT,GAA7B;;AAEA,UAAIT,OAAO,CAACmB,SAAR,EAAJ,EAAyB;AACvBnB,QAAAA,OAAO,CAACoB,YAAR,CAAqBX,GAArB;AACD,OAFD,MAEO;AACLV,QAAAA,YAAY,CAACsB,mBAAb,CAAiCZ,GAAjC;AACD;AACF;AACF,GA7BQ,EA6BN,CAACP,IAAD,aAACA,IAAD,uBAACA,IAAI,CAAEE,QAAP,EAAiBD,IAAjB,aAAiBA,IAAjB,uBAAiBA,IAAI,CAAEU,GAAvB,CA7BM,CAAT;AA8BD;;GA/BeZ,qB","sourcesContent":["import { useEffect } from 'react';\nimport EventManager from 'utils/events';\nimport WebView from 'services/webview';\n\nexport function useStartEventsCapture(user, shop) {\n  useEffect(() => {\n    if (user?.sellerId) {\n      const id = (+user.sellerId.split('-')\n        .pop()).toString();\n\n      const obj = {\n        id,\n        name: user?.name,\n        email: user?.email,\n      };\n\n      if (user?.phone) {\n        obj.phone = user?.phone;\n      }\n\n      if (shop?._id) {\n        obj.shopId = shop?._id;\n        obj.country = shop?.country;\n        obj.plan = shop?.plan?.description;\n      }\n\n      EventManager.patchGlobalData(obj);\n\n      if (WebView.isWebView()) {\n        WebView.setEventData(obj);\n      } else {\n        EventManager.initializeWebEvents(obj);\n      }\n    }\n  }, [user?.sellerId, shop?._id]);\n}\n"]},"metadata":{},"sourceType":"module"}