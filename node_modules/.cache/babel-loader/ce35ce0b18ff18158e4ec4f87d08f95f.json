{"ast":null,"code":"var _jsxFileName = \"/home/harish/windo/phoenix/src/components/overview/QRCode.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { createRef } from 'react';\nimport ReactQRCode from 'qrcode.react';\nimport PropTypes from 'prop-types';\nimport { BottomDrawer } from \"../shared/BottomDrawer\";\nimport { Clickable } from 'phoenix-components';\nimport downloadIcon from \"../../assets/images/orders/details/download.svg\";\nimport emailIcon from \"../../assets/images/email.svg\";\nimport SnackBar from \"../../services/snackbar\";\nimport Loader from \"../../services/loader\";\nimport WebView from \"../../services/webview\";\nimport { Becca } from \"../../api\";\nimport { useDesktop } from \"../../contexts\";\nimport { Drawer } from '@material-ui/core';\nimport closeIcon from \"../../assets/images/shippingModes/close.svg\";\nimport styles from \"./QRCode.module.css\";\n\nfunction QRCode({\n  url,\n  onClose\n}) {\n  _s();\n\n  const ref = /*#__PURE__*/createRef();\n  const isDesktop = useDesktop();\n\n  const download = async () => {\n    try {\n      Loader.show();\n      const {\n        url\n      } = await Becca.downloadQRCode();\n\n      if (WebView.isWebView()) {\n        WebView.openUrl(url);\n        return;\n      }\n\n      window.open(url, '_blank');\n    } catch (e) {\n      SnackBar.showError(e);\n    } finally {\n      Loader.hide();\n    }\n  };\n\n  const sendEmail = async () => {\n    try {\n      Loader.show();\n      await Becca.emailQRCode();\n      SnackBar.show('Your QR code is e-mailed to you!', 'success');\n    } catch (e) {\n      SnackBar.showError(e);\n    } finally {\n      Loader.hide();\n    }\n  };\n\n  if (isDesktop) {\n    return /*#__PURE__*/React.createElement(Drawer, {\n      anchor: \"bottom\",\n      open: true,\n      onClose: onClose,\n      PaperProps: {\n        classes: {\n          root: styles.paper\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.container,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.img2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: closeIcon,\n      alt: \"\",\n      onClick: onClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 40\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.qrCode,\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(ReactQRCode, {\n      ref: ref,\n      value: url,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.flex,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Clickable, {\n      onClick: download,\n      className: styles.button,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: downloadIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 15\n      }\n    }), \"Download QR Code\"), /*#__PURE__*/React.createElement(Clickable, {\n      onClick: sendEmail,\n      className: styles.button,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: emailIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 15\n      }\n    }), \"Email Your QR Code\"))));\n  }\n\n  return /*#__PURE__*/React.createElement(BottomDrawer, {\n    classes: {\n      heading: styles.heading\n    },\n    onClose: onClose,\n    title: \"Your shop QR code\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.qrCode,\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ReactQRCode, {\n    ref: ref,\n    value: url,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Clickable, {\n    onClick: download,\n    className: styles.button,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: downloadIcon,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  }), \"Download QR Code\"), /*#__PURE__*/React.createElement(Clickable, {\n    onClick: sendEmail,\n    className: styles.button,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: emailIcon,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }), \"Email Your QR Code\")));\n}\n\n_s(QRCode, \"3l4y9eCI8Q4nOrq3yDi/AmhuQWU=\", false, function () {\n  return [useDesktop];\n});\n\n_c = QRCode;\nQRCode.propTypes = {\n  url: PropTypes.string.isRequired,\n  onClose: PropTypes.func.isRequired\n};\nexport default QRCode;\n\nvar _c;\n\n$RefreshReg$(_c, \"QRCode\");","map":{"version":3,"sources":["/home/harish/windo/phoenix/src/components/overview/QRCode.jsx"],"names":["React","createRef","ReactQRCode","PropTypes","BottomDrawer","Clickable","SnackBar","Loader","WebView","Becca","useDesktop","Drawer","styles","QRCode","url","onClose","ref","isDesktop","download","show","downloadQRCode","isWebView","openUrl","window","open","e","showError","hide","sendEmail","emailQRCode","classes","root","paper","container","img2","closeIcon","qrCode","flex","button","downloadIcon","emailIcon","heading","propTypes","string","isRequired","func"],"mappings":"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","sourcesContent":["import React, { createRef } from 'react';\nimport ReactQRCode from 'qrcode.react';\nimport PropTypes from 'prop-types';\nimport { BottomDrawer } from 'components/shared/BottomDrawer';\nimport { Clickable } from 'phoenix-components';\nimport downloadIcon from 'assets/images/orders/details/download.svg';\nimport emailIcon from 'assets/images/email.svg';\nimport SnackBar from 'services/snackbar';\nimport Loader from 'services/loader';\nimport WebView from 'services/webview';\nimport { Becca } from 'api';\nimport { useDesktop } from 'contexts';\nimport { Drawer } from '@material-ui/core';\nimport closeIcon from 'assets/images/shippingModes/close.svg';\nimport styles from './QRCode.module.css';\n\nfunction QRCode({\n  url,\n  onClose\n}) {\n  const ref = createRef();\n  const isDesktop = useDesktop();\n\n  const download = async () => {\n    try {\n      Loader.show();\n      const { url } = await Becca.downloadQRCode();\n      if (WebView.isWebView()) {\n        WebView.openUrl(url);\n        return;\n      }\n      window.open(url, '_blank');\n    } catch (e) {\n      SnackBar.showError(e);\n    } finally {\n      Loader.hide();\n    }\n  };\n\n  const sendEmail = async () => {\n    try {\n      Loader.show();\n      await Becca.emailQRCode();\n      SnackBar.show('Your QR code is e-mailed to you!', 'success');\n    } catch (e) {\n      SnackBar.showError(e);\n    } finally {\n      Loader.hide();\n    }\n  };\n\n  if (isDesktop) {\n    return (\n      <Drawer\n        anchor=\"bottom\"\n        open={true}\n        onClose={onClose}\n        PaperProps={{\n          classes: {\n            root: styles.paper,\n          }\n        }}\n      >\n        <div className={styles.container}>\n          <div className={styles.img2}><img src={closeIcon} alt=\"\" onClick={onClose} /></div>\n          <div className={styles.qrCode} ref={ref}>\n            <ReactQRCode ref={ref} value={url} />\n          </div>\n          <div className={styles.flex}>\n            <Clickable onClick={download} className={styles.button}>\n              <img src={downloadIcon} alt=\"\" />\n              Download QR Code\n            </Clickable>\n            <Clickable onClick={sendEmail} className={styles.button}>\n              <img src={emailIcon} alt=\"\" />\n              Email Your QR Code\n            </Clickable>\n          </div>\n        </div>\n      </Drawer>\n    );\n  }\n\n  return (\n    <BottomDrawer classes={{ heading: styles.heading }} onClose={onClose} title=\"Your shop QR code\">\n      <div className={styles.container}>\n        <div className={styles.qrCode} ref={ref}>\n          <ReactQRCode ref={ref} value={url} />\n        </div>\n        <Clickable onClick={download} className={styles.button}>\n          <img src={downloadIcon} alt=\"\" />\n          Download QR Code\n        </Clickable>\n        <Clickable onClick={sendEmail} className={styles.button}>\n          <img src={emailIcon} alt=\"\" />\n          Email Your QR Code\n        </Clickable>\n      </div>\n    </BottomDrawer>\n  );\n}\n\nQRCode.propTypes = {\n  url: PropTypes.string.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default QRCode;\n"]},"metadata":{},"sourceType":"module"}