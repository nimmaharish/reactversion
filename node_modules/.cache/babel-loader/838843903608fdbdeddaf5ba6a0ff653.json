{"ast":null,"code":"var _jsxFileName = \"/home/harish/windo/phoenix/src/components/address/Card.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport deleteIcon from \"../../assets/images/address/delete.svg\";\nimport cx from 'classnames';\nimport SnackBar from \"../../services/snackbar\";\nimport Loader from \"../../services/loader\";\nimport { Becca } from \"../../api\";\nimport { useRefreshShop } from \"../../contexts\";\nimport { DeleteAlert } from \"../shared/DeleteAlert\";\nimport { useToggle } from \"../../hooks/common\";\nimport { Badge, Clickable } from 'phoenix-components';\nimport { getChipNameForNick } from \"./utils\";\nimport PencilIcon from \"../../assets/images/address/edit.svg\";\nimport selIcon from \"../../assets/images/address/sel.svg\";\nimport unSelIcon from \"../../assets/images/address/unsel.svg\";\nimport { AddressForm } from \"./lazy\";\nimport { useDesktop } from \"../../contexts\";\nimport styles from \"./Card.module.css\";\nexport function Card({\n  address\n}) {\n  _s();\n\n  const refreshShop = useRefreshShop();\n  const [openDelete, toggleDelete] = useToggle(false);\n  const [openEdit, toggleEdit] = useToggle(false);\n  const isDesktop = useDesktop();\n\n  const deleteAddress = async () => {\n    Loader.show();\n\n    try {\n      await Becca.deleteAddress(address._id);\n      refreshShop();\n    } catch (e) {\n      SnackBar.showError(e);\n    } finally {\n      Loader.hide();\n    }\n  };\n\n  const markDefault = async () => {\n    if (address.default) {\n      return;\n    }\n\n    Loader.show();\n\n    try {\n      await Becca.setDefaultAddress(address._id);\n      refreshShop();\n    } catch (e) {\n      SnackBar.showError(e);\n    } finally {\n      Loader.hide();\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: isDesktop ? cx(styles.desktopContainer) : cx(styles.container, {\n      [styles.border]: address.default\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.bottom,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flexCenter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.userName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, address.name), /*#__PURE__*/React.createElement(Badge, {\n    rounded: true,\n    className: cx({\n      [styles.selected]: address.default,\n      [styles.chip]: !address.default\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, getChipNameForNick(address === null || address === void 0 ? void 0 : address.nick))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.editButton,\n    onClick: toggleEdit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: PencilIcon,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: cx(styles.row),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.address,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, address.addressLine1, ', ', address.addressLine2 || '', address.addressLine2 && ',', address.city, ', ', address.state, ' - ', address.pincode, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }), address.landmark && /*#__PURE__*/React.createElement(React.Fragment, null, \"Landmark :\", ' ', address.landmark, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 15\n    }\n  })), \"Contact Number:\", ' ', address.phone, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: cx(styles.bottom),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Clickable, {\n    className: cx(styles.deleteFlex),\n    onClick: markDefault,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: address.default ? selIcon : unSelIcon,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: cx(styles.default, {\n      [styles.mark]: address.default\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  }, \"Make as Default\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    onClick: toggleDelete,\n    className: styles.delete,\n    src: deleteIcon,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 11\n    }\n  }))), openDelete && /*#__PURE__*/React.createElement(DeleteAlert, {\n    title: \"Are you sure want to delete this address?\",\n    onCancel: toggleDelete,\n    onDelete: deleteAddress,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }\n  }), openEdit && /*#__PURE__*/React.createElement(AddressForm, {\n    onClose: toggleEdit,\n    address: address,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 21\n    }\n  }));\n}\n\n_s(Card, \"aoZMtRTiDAWO22rkVp4/9eI/gxs=\", false, function () {\n  return [useRefreshShop, useToggle, useToggle, useDesktop];\n});\n\n_c = Card;\nCard.propTypes = {\n  address: PropTypes.object.isRequired\n};\nCard.defaultProps = {};\n\nvar _c;\n\n$RefreshReg$(_c, \"Card\");","map":{"version":3,"sources":["/home/harish/windo/phoenix/src/components/address/Card.jsx"],"names":["React","PropTypes","cx","SnackBar","Loader","Becca","useRefreshShop","DeleteAlert","useToggle","Badge","Clickable","getChipNameForNick","AddressForm","useDesktop","styles","Card","address","refreshShop","openDelete","toggleDelete","openEdit","toggleEdit","isDesktop","deleteAddress","show","_id","e","showError","hide","markDefault","default","setDefaultAddress","desktopContainer","container","border","bottom","userName","name","selected","chip","nick","editButton","PencilIcon","row","addressLine1","addressLine2","city","state","pincode","landmark","phone","deleteFlex","selIcon","unSelIcon","mark","delete","deleteIcon","propTypes","object","isRequired","defaultProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport deleteIcon from 'assets/images/address/delete.svg';\nimport cx from 'classnames';\nimport SnackBar from 'services/snackbar';\nimport Loader from 'services/loader';\nimport { Becca } from 'api';\nimport { useRefreshShop } from 'contexts';\nimport { DeleteAlert } from 'components/shared/DeleteAlert';\nimport { useToggle } from 'hooks/common';\nimport { Badge, Clickable } from 'phoenix-components';\nimport { getChipNameForNick } from 'components/address/utils';\nimport PencilIcon from 'assets/images/address/edit.svg';\nimport selIcon from 'assets/images/address/sel.svg';\nimport unSelIcon from 'assets/images/address/unsel.svg';\nimport { AddressForm } from 'components/address/lazy';\nimport { useDesktop } from 'contexts';\nimport styles from './Card.module.css';\n\nexport function Card({ address }) {\n  const refreshShop = useRefreshShop();\n  const [openDelete, toggleDelete] = useToggle(false);\n  const [openEdit, toggleEdit] = useToggle(false);\n  const isDesktop = useDesktop();\n\n  const deleteAddress = async () => {\n    Loader.show();\n    try {\n      await Becca.deleteAddress(address._id);\n      refreshShop();\n    } catch (e) {\n      SnackBar.showError(e);\n    } finally {\n      Loader.hide();\n    }\n  };\n\n  const markDefault = async () => {\n    if (address.default) {\n      return;\n    }\n    Loader.show();\n    try {\n      await Becca.setDefaultAddress(address._id);\n      refreshShop();\n    } catch (e) {\n      SnackBar.showError(e);\n    } finally {\n      Loader.hide();\n    }\n  };\n\n  return (\n    <div\n      className={isDesktop\n        ? cx(styles.desktopContainer)\n        : cx(styles.container, { [styles.border]: address.default })}>\n      <div className={styles.bottom}>\n        <div className=\"flexCenter\">\n          <div className={styles.userName}>{address.name}</div>\n          <Badge\n            rounded={true}\n            className={cx({\n              [styles.selected]: address.default,\n              [styles.chip]: !address.default,\n            })}\n          >\n            {getChipNameForNick(address?.nick)}\n          </Badge>\n        </div>\n        <div className={styles.editButton} onClick={toggleEdit}>\n          <img src={PencilIcon} alt=\"\" />\n        </div>\n      </div>\n      <div className={cx(styles.row)}>\n        <div className={styles.address}>\n          {address.addressLine1}\n          {', '}\n          {address.addressLine2 || ''}\n          {address.addressLine2 && ','}\n          {address.city}\n          {', '}\n          {address.state}\n          {' - '}\n          {address.pincode}\n          <br />\n          {address.landmark && (\n            <>\n              Landmark :\n              {' '}\n              {address.landmark}\n              <br />\n            </>\n          )}\n          Contact Number:\n          {' '}\n          {address.phone}\n          <br />\n        </div>\n      </div>\n      <div className={cx(styles.bottom)}>\n        <Clickable\n          className={cx(styles.deleteFlex)}\n          onClick={markDefault}\n        >\n          <img src={address.default ? selIcon : unSelIcon} alt=\"\" />\n          <span\n            className={cx(styles.default, { [styles.mark]: address.default })}>\n            Make as Default\n\n          </span>\n        </Clickable>\n        <div>\n          <img onClick={toggleDelete} className={styles.delete} src={deleteIcon} alt=\"\" />\n        </div>\n      </div>\n      {openDelete && (\n        <DeleteAlert\n          title=\"Are you sure want to delete this address?\"\n          onCancel={toggleDelete}\n          onDelete={deleteAddress}\n        />\n      )}\n      {openEdit && (<AddressForm onClose={toggleEdit} address={address} />)}\n    </div>\n  );\n}\n\nCard.propTypes = {\n  address: PropTypes.object.isRequired,\n};\n\nCard.defaultProps = {};\n"]},"metadata":{},"sourceType":"module"}